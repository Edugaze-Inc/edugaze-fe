(this["webpackJsonpedugaze-fe"]=this["webpackJsonpedugaze-fe"]||[]).push([[0],{330:function(e){e.exports=JSON.parse('{"a":"0.1.0"}')},370:function(e,t,n){},532:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=532},537:function(e,t,n){"use strict";n.r(t);var i=n(1),r=n.n(i),c=n(30),a=n.n(c),o=(n(370),n(643)),s=n(644),l=n(182),d=n(3),u=n.n(d),j=n(4),b=n(8),f=n(596),h=n(597),O=n(598),m=n(650),x=n(600),p=n(19),v=n(595),g=n(2),w=function(e){return Object(g.jsx)(v.a,Object(p.a)(Object(p.a)({},e),{},{src:"data:image/png;base64,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"}))},C=function(){return Object(g.jsxs)(f.a,{height:["unset","unset","224px"],py:["6","6"],bgColor:"gray.200",mx:["-4","-4","-20"],px:["4","4","20"],justify:"space-between",children:[Object(g.jsxs)(h.a,{flexDir:["row","row","column"],children:[Object(g.jsx)(w,{mb:["unset","unset","10"],me:[10,10,"unset"]}),Object(g.jsx)(O.a,{children:"\xa92021 Edugaze"})]}),Object(g.jsxs)(m.a,{spacing:10,display:["none","none","flex"],children:[Object(g.jsxs)(m.c,{spacing:5,children:[Object(g.jsx)(x.a,{children:"Products"}),Object(g.jsx)(x.a,{children:"About"}),Object(g.jsx)(x.a,{children:"Pricing"})]}),Object(g.jsxs)(m.c,{spacing:5,children:[Object(g.jsx)(x.a,{children:"Help & Support"}),Object(g.jsx)(x.a,{children:"FAQs"}),Object(g.jsx)(x.a,{children:"Contact Us"})]})]})]})},S=n(601),k=n(602),y=function(){return Object(g.jsx)(S.a,{textAlign:"center",children:Object(g.jsx)(k.a,{fontSize:"24px",fontWeight:"500",fontStyle:"normal",children:"Welcome!"})})},A=n(340),E=n(146),T=n(606),L=n(655),D=n(605),N=n(603),I=function(){return Object(g.jsxs)(f.a,{flexDir:"row",alignItems:"center",marginTop:"5px",flex:1,children:[Object(g.jsx)(f.a,{flex:"1",children:Object(g.jsx)(N.a,{})}),Object(g.jsx)(O.a,{marginX:4,children:"or"}),Object(g.jsx)(f.a,{flex:"1",children:Object(g.jsx)(N.a,{})})]})},F=n(159),B=n(46),P=function(){return Object(g.jsx)(S.a,{textAlign:"center",marginTop:"5px",marginLeft:"100px",children:Object(g.jsxs)(m.a,{direction:["column","row"],children:[Object(g.jsx)("text",{children:"Already have an account?"}),Object(g.jsx)(x.a,{as:B.b,color:"blue",to:"/login",children:"Sign In?"})]})})},M=n(195),z=n(656),R=n(642),W=n(73),V=n(53),H=n.n(V),U=n(654);H.a.interceptors.request.use((function(e){return Z.get()&&(e.headers.Authorization="Bearer ".concat(Z.get())),e}));var Z=function(){var e;return{get:function(){return e},set:function(t){e=t}}}(),J=n(648),Y="cache/me";function q(e){localStorage.setItem(Y,JSON.stringify(e))}function Q(){var e=localStorage.getItem(Y);return e?JSON.parse(e):null}var G="me-query";function K(e){return Object(J.a)(G,(function(){return H.a.get("http://178.128.140.169:4002/api/v1/auth/verify").then((function(e){return e.data}))}),Object(p.a)({refetchOnMount:!1,enabled:!!Z.get()},e))}function X(e){Yi.setQueryData(G,e)}function _(){Z.set(),X(),localStorage.removeItem(Y)}var $=["mutate"];var ee=function(){var e,t,n=function(e){var t=Object(U.a)((function(e){return H.a.post("http://178.128.140.169:4002/api/v1/auth/signup",e).then((function(e){return e.data}))}),Object(p.a)(Object(p.a)({},e),{},{onSuccess:function(t){var n;q(t),X(t),Z.set(t.token);for(var i=arguments.length,r=new Array(i>1?i-1:0),c=1;c<i;c++)r[c-1]=arguments[c];null===e||void 0===e||null===(n=e.onSuccess)||void 0===n||n.call.apply(n,[e,t].concat(r))}})),n=t.mutate,i=Object(W.a)(t,$);return Object(p.a)({signUp:n},i)}({onSuccess:function(){a({status:"success",description:"Signed up successfully!"})},onError:function(e){var t;a({status:"error",description:null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data})}}),r=n.signUp,c=n.isLoading,a=Object(R.a)(),o=Object(i.useState)(""),s=Object(j.a)(o,2),l=s[0],d=s[1],u=Object(i.useState)(""),b=Object(j.a)(u,2),f=b[0],h=b[1],O=Object(i.useState)(""),x=Object(j.a)(O,2),w=x[0],C=x[1],k=Object(i.useState)(""),y=Object(j.a)(k,2),N=y[0],B=y[1],V=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,J=""===f||""===l||!V.test(l)||""===w||""===N,Y=""===l||!V.test(l),Q=""===f;return t=Y?Object(g.jsx)(v.a,{id:"myImage",src:"//:0"}):Object(g.jsx)(E.a,{as:D.a,color:"#31B3C2"}),e=Q?Object(g.jsx)(v.a,{id:"myImage",src:"//:0"}):Object(g.jsx)(E.a,{as:D.a,color:"#31B3C2"}),Object(g.jsx)(S.a,{my:8,textAlign:"center",bgColor:"#FFFFFF",children:Object(g.jsxs)("form",{method:"POST",onSubmit:function(e){e.preventDefault(),r({email:l,password:f,role:w,username:N})},children:[Object(g.jsxs)(F.a,{width:"full",mb:4,borderRadius:"4px",bgColor:"#EFEFEF",borderColor:"#31B3C2",children:[Object(g.jsx)(L.a,{type:"username",placeholder:"Username",value:N,rule:{required:!0},onChange:function(e){return B(e.currentTarget.value)}}),Object(g.jsx)(T.a,{width:"3rem",height:"3rem",children:t})]}),Object(g.jsxs)(F.a,{width:"full",borderRadius:"4px",bgColor:"#EFEFEF",borderColor:"#31B3C2",children:[Object(g.jsx)(L.a,{type:"email",placeholder:"Email",value:l,rule:{required:!0},onChange:function(e){return d(e.currentTarget.value)}}),Object(g.jsx)(T.a,{width:"3rem",height:"3rem",children:t})]}),Object(g.jsxs)(F.a,{mt:4,mb:4,width:"full",borderRadius:"4px",bgColor:"#EFEFEF",borderColor:"#31B3C2",children:[Object(g.jsx)(L.a,{type:"password",placeholder:"Password",value:f,rule:{required:!0},onChange:function(e){return h(e.currentTarget.value)}}),Object(g.jsx)(T.a,{width:"3rem",height:"3rem",children:e})]}),Object(g.jsx)(M.a,{onChange:C,children:Object(g.jsxs)(m.b,{direction:"row",flex:"1",justifyContent:"center",children:[Object(g.jsx)(z.a,{value:"instructor",children:"Instructor"}),Object(g.jsx)(z.a,{value:"student",children:"Student"})]})}),Object(g.jsx)(A.a,{type:"submit",isDisabled:J,bgColor:"#31B3C2",textColor:"#FFFFFF",width:"full",mt:4,isLoading:c,marginBottom:"5px",children:"Sign Up"}),Object(g.jsx)(I,{}),Object(g.jsx)(A.a,{bgColor:"#31B3C2",textColor:"#FFFFFF",width:"full",mt:4,onClick:function(){a({description:"Upcoming feature",status:"info",duration:2e3})},children:"Sign Up with Google"}),Object(g.jsx)(P,{})]})})},te=n(608),ne=function(){return Object(g.jsxs)(m.a,{align:"left",children:[Object(g.jsx)(te.a,{color:"#9EA0A5"}),Object(g.jsx)(x.a,{as:B.b,color:"#9EA0A5",fontSize:"14px",to:"/",children:"Go back"})]})},ie=function(){return Object(g.jsx)(f.a,{minHeight:"100vh",width:"full",align:"center",justifyContent:"center",children:Object(g.jsx)(S.a,{borderWidth:1,bgColor:"#FFFFFF",width:"486px",Height:"562px",borderRadius:10,textAlign:"center",alignContent:"center",boxShadow:"lg",children:Object(g.jsxs)(S.a,{p:4,width:"full",children:[Object(g.jsx)(ne,{}),Object(g.jsx)(y,{}),Object(g.jsx)(ee,{})]})})})},re=function(){return Object(g.jsxs)(S.a,{paddingX:[4,4,20],paddingTop:[4,4,10],minW:"400px",bgColor:"#31B3C2",children:[Object(g.jsx)(ie,{}),Object(g.jsx)(C,{})]})},ce=function(){return Object(g.jsx)(S.a,{textAlign:"center",children:Object(g.jsx)(k.a,{fontSize:"24px",fontWeight:"500",fontStyle:"normal",children:"Welcome Back!"})})},ae=function(){return Object(g.jsxs)(f.a,{flexDir:"row",alignItems:"center",marginTop:"5px",flex:1,children:[Object(g.jsx)(f.a,{flex:"1",children:Object(g.jsx)(N.a,{})}),Object(g.jsx)(O.a,{marginX:4,children:"or"}),Object(g.jsx)(f.a,{flex:"1",children:Object(g.jsx)(N.a,{})})]})},oe=function(){return Object(g.jsx)(S.a,{textAlign:"center",marginTop:"5px",marginLeft:"100px",children:Object(g.jsxs)(m.a,{direction:["column","row"],children:[Object(g.jsx)("text",{children:"Don't have an account?"}),Object(g.jsx)(x.a,{as:B.b,color:"blue",to:"/signup",children:"Sign up?"})]})})},se=["mutate"];var le=function(){var e,t,n=Object(R.a)(),r=function(e){var t=Object(U.a)((function(e){return H.a.post("http://178.128.140.169:4002/api/v1/auth/login",e).then((function(e){return e.data}))}),Object(p.a)(Object(p.a)({},e),{},{onSuccess:function(t){var n;q(t),Z.set(t.token),X(t);for(var i=arguments.length,r=new Array(i>1?i-1:0),c=1;c<i;c++)r[c-1]=arguments[c];null===e||void 0===e||null===(n=e.onSuccess)||void 0===n||n.call.apply(n,[e,t].concat(r))}})),n=t.mutate,i=Object(W.a)(t,se);return Object(p.a)({signIn:n},i)}({onSuccess:function(){n({status:"success",description:"Signed in successfully!"})},onError:function(e){var t;n({status:"error",description:null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data})}}),c=r.signIn,a=r.isLoading,o=Object(i.useState)(""),s=Object(j.a)(o,2),l=s[0],d=s[1],u=Object(i.useState)(""),b=Object(j.a)(u,2),f=b[0],h=b[1],O=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,m=""===f||""===l||!O.test(l),x=""===l||!O.test(l),w=""===f;return t=x?Object(g.jsx)(v.a,{id:"myImage",src:"//:0"}):Object(g.jsx)(E.a,{as:D.a,color:"#31B3C2"}),e=w?Object(g.jsx)(v.a,{id:"myImage",src:"//:0"}):Object(g.jsx)(E.a,{as:D.a,color:"#31B3C2"}),Object(g.jsx)(S.a,{my:8,textAlign:"center",bgColor:"#FFFFFF",children:Object(g.jsxs)("form",{method:"POST",onSubmit:function(e){e.preventDefault(),c({email:l,password:f})},children:[Object(g.jsxs)(F.a,{width:"full",borderRadius:"4px",bgColor:"#EFEFEF",borderColor:"#31B3C2",children:[Object(g.jsx)(L.a,{type:"email",placeholder:"Email",value:l,rule:{required:!0},onChange:function(e){return d(e.currentTarget.value)}}),Object(g.jsx)(T.a,{width:"3rem",height:"3rem",children:t})]}),Object(g.jsxs)(F.a,{mt:4,width:"full",borderRadius:"4px",bgColor:"#EFEFEF",borderColor:"#31B3C2",children:[Object(g.jsx)(L.a,{type:"password",placeholder:"Password",value:f,rule:{required:!0},onChange:function(e){return h(e.currentTarget.value)}}),Object(g.jsx)(T.a,{width:"3rem",height:"3rem",children:e})]}),Object(g.jsx)(A.a,{type:"submit",isDisabled:m,bgColor:"#31B3C2",textColor:"#FFFFFF",width:"full",mt:4,marginBottom:"5px",children:"Sign In"}),Object(g.jsx)(ae,{}),Object(g.jsx)(A.a,{onClick:function(){n({description:"Upcoming feature",status:"info",duration:2e3})},bgColor:"#31B3C2",textColor:"#FFFFFF",width:"full",isLoading:a,mt:4,children:"Sign In with Google"}),Object(g.jsx)(oe,{})]})})},de=function(){return Object(g.jsxs)(m.a,{align:"left",children:[Object(g.jsx)(te.a,{color:"#9EA0A5"}),Object(g.jsx)(x.a,{as:B.b,color:"#9EA0A5",fontSize:"14px",to:"/",children:"Go back"})]})},ue=function(){return Object(g.jsx)(f.a,{minHeight:"100vh",width:"full",align:"center",justifyContent:"center",children:Object(g.jsx)(S.a,{borderWidth:1,width:"486px",Height:"562px",borderRadius:10,textAlign:"center",alignContent:"center",boxShadow:"lg",bgColor:"#FFFFFF",children:Object(g.jsxs)(S.a,{p:4,width:"full",children:[Object(g.jsx)(de,{}),Object(g.jsx)(ce,{}),Object(g.jsx)(le,{})]})})})},je=function(){return Object(g.jsxs)(S.a,{paddingX:[4,4,20],paddingTop:[4,4,10],minW:"400px",bgColor:"#31B3C2",children:[Object(g.jsx)(ue,{}),Object(g.jsx)(C,{})]})},be=function(e){return Object(g.jsxs)(f.a,Object(p.a)(Object(p.a)({justifyContent:"space-between"},e),{},{children:[Object(g.jsx)(w,{}),Object(g.jsxs)(m.a,{spacing:8,display:["none","none","flex"],children:[Object(g.jsx)(x.a,{children:"About"}),Object(g.jsx)(x.a,{children:"Pricing"}),Object(g.jsx)(x.a,{children:"FAQs"}),Object(g.jsx)(x.a,{children:"Contacts"})]}),Object(g.jsxs)(m.a,{spacing:10,children:[Object(g.jsx)(x.a,{as:B.b,to:"/login",children:"Login"}),Object(g.jsx)(B.b,{to:"/signup",children:Object(g.jsx)(A.a,{colorScheme:"cyan",textColor:"white",children:"Try for free"})})]})]}))},fe=n.p+"static/media/landing1.f9c7b665.svg",he=function(e){return Object(g.jsx)(S.a,Object(p.a)(Object(p.a)({minHeight:"calc(100vh - 88px)",pt:[10,10,"130px"]},e),{},{children:Object(g.jsxs)(f.a,{justify:"space-between",flexDirection:["column-reverse","column-reverse","row"],children:[Object(g.jsxs)(S.a,{children:[Object(g.jsxs)(k.a,{paddingTop:24,textAlign:["center","center","unset"],fontWeight:"bold",fontSize:"4xl",mb:"10",children:["Make your online lectures ",Object(g.jsx)(O.a,{color:"cyan.500",children:"smarter"})]}),Object(g.jsx)(O.a,{fontSize:"2xl",mb:10,maxW:["unset","unset","360px"],textAlign:["center","center","unset"],children:"Real-time emotion detection, interactive polls and much more! All in one place"}),Object(g.jsx)(B.b,{to:"/signup",children:Object(g.jsx)(A.a,{colorScheme:"cyan",width:["100%","100%","unset"],textColor:"white",children:"Try for free"})})]}),Object(g.jsx)(v.a,{src:fe,px:[16,16,"unset"]})]})}))},Oe=n.p+"static/media/landing2.a9fc1781.svg",me=function(e){return Object(g.jsxs)(S.a,Object(p.a)(Object(p.a)({minH:"100vh"},e),{},{pt:"10",children:[Object(g.jsx)(O.a,{fontWeight:"semibold",fontSize:"4xl",mb:"7",textAlign:"center",children:"Transform your distance learning"}),Object(g.jsx)(O.a,{textAlign:"center",mb:"16",fontSize:"xl",children:"Interactive Private Effecient lectures"}),Object(g.jsxs)(f.a,{justify:"space-around",flexDirection:["column-reverse","column-reverse","row"],children:[Object(g.jsxs)(S.a,{textAlign:["center","center","unset"],children:[Object(g.jsx)(O.a,{fontWeight:"bold",fontSize:"4xl",mb:"4",color:"cyan.500",pt:[16,16,"unset"],children:"Emotion Detection"}),Object(g.jsx)(O.a,{fontSize:"2xl",maxW:["unset","unset","360px"],children:"Observe real-time statistics of students emotins during the lecture."})]}),Object(g.jsx)(v.a,{px:[16,16,"unset"],src:Oe})]})]}))},xe=n.p+"static/media/landing3.e3206560.svg",pe=function(e){return Object(g.jsx)(f.a,Object(p.a)(Object(p.a)({justify:"center",flexDir:"column",minH:"100vh"},e),{},{pt:"10",children:Object(g.jsxs)(f.a,{justify:"space-around",align:"center",flexDirection:["column","column","row"],children:[Object(g.jsx)(v.a,{px:[16,16,"unset"],src:xe,mb:[10,10,"unset"]}),Object(g.jsxs)(S.a,{textAlign:["center","center","unset"],children:[Object(g.jsx)(O.a,{fontWeight:"bold",fontSize:"4xl",mb:"4",color:"cyan.500",children:"Students Privacy"}),Object(g.jsx)(O.a,{fontSize:"2xl",maxW:"360px",children:"Keep your students emotions anonymous and their data secure. No image leaves their devices."})]})]})}))},ve=n(609),ge=n.p+"static/media/landing4.f5adfe34.svg",we=function(e){return Object(g.jsx)(f.a,Object(p.a)(Object(p.a)({justify:"center",flexDir:"column",minH:"100vh"},e),{},{pt:"10",children:Object(g.jsxs)(f.a,{justify:"space-around",align:"center",mb:"4",flexDirection:["column-reverse","column-reverse","row"],children:[Object(g.jsxs)(S.a,{textAlign:["center","center","unset"],children:[Object(g.jsxs)(S.a,{display:"flex",alignItems:"baseline",children:[Object(g.jsx)(O.a,{fontWeight:"bold",fontSize:"4xl",color:"cyan.500",me:2,children:"Interactive Polls"}),Object(g.jsx)(S.a,{children:Object(g.jsx)(ve.a,{colorScheme:"green",children:"Comming soon"})})]}),Object(g.jsx)(O.a,{fontSize:"2xl",maxW:"360px",children:"Engage your class with interactive polls, quizzes and questions."})]}),Object(g.jsx)(v.a,{px:[16,16,"unset"],src:ge,mb:[16,16,"unset"]})]})}))},Ce=n.p+"static/media/landing5.395f2b72.svg",Se=function(e){return Object(g.jsx)(f.a,Object(p.a)(Object(p.a)({justify:"center",flexDir:"column",minH:"100vh"},e),{},{pt:"10",children:Object(g.jsxs)(f.a,{flexDir:"column",align:"center",children:[Object(g.jsx)(v.a,{src:Ce,mb:10,px:[16,16,"unset"]}),Object(g.jsxs)(k.a,{mb:10,fontSize:"4xl",textAlign:["center","center","unset"],children:["Start your first lecture"," ",Object(g.jsx)(k.a,{display:"inline",color:"cyan.500",children:"now"})]}),Object(g.jsx)(B.b,{to:"/signup",children:Object(g.jsx)(A.a,{colorScheme:"cyan",textColor:"white",children:"Try for free"})})]})}))},ke=function(){return Object(g.jsxs)(S.a,{paddingX:[4,4,20],paddingTop:[4,4,10],minW:"400px",children:[Object(g.jsx)(be,{}),Object(g.jsx)(he,{}),Object(g.jsx)(me,{}),Object(g.jsx)(pe,{}),Object(g.jsx)(we,{}),Object(g.jsx)(Se,{}),Object(g.jsx)(C,{})]})},ye=n(50);var Ae=Object(ye.h)((function(e){var t=e.history;return Object(i.useEffect)((function(){var e=t.listen((function(){window.scrollTo(0,0)}));return function(){e()}}),[t]),null})),Ee=n(612),Te=n(613),Le=n.p+"static/media/eye_logo.65f81cbb.svg",De=n(106),Ne=n(322),Ie=n(639);function Fe(e){var t=e.icon,n=e.title,i=e.active,r=e.navSize;return Object(g.jsx)(f.a,{mt:"25px",flexDir:"column",w:"100%",alignItems:"small"===r?"center":"flex-start",children:Object(g.jsx)(Ie.a,{placement:"right",children:Object(g.jsx)(x.a,{backgroundColor:i&&" rgba(145, 206, 199, 0.26)",border:i&&"2px",borderColor:"rgba(86, 202, 216, 1)",p:"8px",borderRadius:8,_hover:{textDecor:"none",background:"rgba(145, 206, 199, 0.26)"},w:"large"===r?"140px":"40px",children:Object(g.jsx)(Ie.b,{w:"100%",children:Object(g.jsxs)(f.a,{color:i?"rgba(86, 202, 216, 1)":"gray.400",children:[Object(g.jsx)(E.a,{as:t,fontSize:"2xl"}),Object(g.jsx)(O.a,{ml:"14px",display:"small"===r?"none":"flex",children:n})]})})})})})}function Be(){var e,t=Object(i.useState)("large"),n=Object(j.a)(t,2),r=n[0],c=n[1],a="#56CAD8",o=K();return Object(g.jsx)(f.a,{w:"small"===r?"81px":"262px",flexDir:"column",alignItems:"small"===r?"center":"flex-start",background:"white",children:Object(g.jsxs)(f.a,{flexDir:"column",justifyContent:"space-between",w:"100%",children:[Object(g.jsxs)(f.a,{as:"nav",w:"small"===r?"53px":"206px",mt:"28px",children:[Object(g.jsx)(v.a,{w:"53px",ml:"small"===r?"14px":"28px",src:Le}),Object(g.jsx)(k.a,{ml:"13px",fontSize:"32px",alignSelf:"center",color:"#31B3C2",display:"small"===r?"none":"flex",children:"Edugaze"})]}),Object(g.jsxs)(f.a,{flexDir:"column",alignItems:"small"===r?"center":"flex-start",justifyContent:"space-between",ml:"small"===r?"0px":"28px",mt:"100px",children:[Object(g.jsxs)(f.a,{mt:4,align:"center",mb:30,children:[Object(g.jsx)(Ee.a,{size:"sm",background:a}),Object(g.jsx)(f.a,{flexDir:"row",ml:4,display:"small"===r?"none":"flex",children:Object(g.jsx)(k.a,{as:"h3",size:"sm",textColor:a,children:null===(e=o.data)||void 0===e?void 0:e.username})})]}),Object(g.jsx)(N.a,{w:"small"===r?"40px":"206px",align:"center"}),Object(g.jsx)(Fe,{icon:De.e,title:"Home",navSize:r,active:!0}),Object(g.jsx)(Fe,{icon:De.b,title:"Calendar",navSize:r}),Object(g.jsx)(Fe,{icon:De.d,title:"History",navSize:r}),Object(g.jsx)(Fe,{icon:De.a,title:"Statistics",navSize:r}),Object(g.jsx)(x.a,{mt:"25px",color:"#56CAD8",p:"8px",onClick:_,children:Object(g.jsxs)(f.a,{flexDir:"row",children:[Object(g.jsx)(E.a,{as:Ne.a,fontSize:"2xl"}),Object(g.jsx)(O.a,{as:"u",ml:"14px",display:"small"===r?"none":"flex",children:"Logout"})]})}),Object(g.jsxs)(f.a,{flexDir:"row",align:"center",mt:"33px",mb:"33px",pos:"sticky",children:[Object(g.jsx)(Te.a,{"aria-label":"Expand Navbar",background:"none",w:"100%",icon:"small"===r?Object(g.jsx)(De.g,{color:a}):Object(g.jsx)(De.f,{color:a}),onClick:function(){c("small"===r?"large":"small")},_focus:{border:"none"}}),Object(g.jsx)(f.a,{flexDir:"row",ml:"20px",display:"small"===r?"none":"flex",children:Object(g.jsx)(O.a,{size:"md",textColor:a,fontWeight:"bold",children:"Collapse"})})]})]})]})})}var Pe=n(610),Me=n(607),ze=n.p+"static/media/no_meeting_img.395e68a8.svg",Re=n(615),We=n(645),Ve=n(614),He=n(641),Ue=n(616),Ze="meetings-key";var Je=function(){return Yi.invalidateQueries([Ze,"incoming"])},Ye=["mutate"];var qe=function(e){var t=e.startTime;return Object(g.jsxs)(f.a,{color:"gray.400",mr:"10px",alignItems:"center",children:[Object(g.jsx)(E.a,{me:2,as:De.c,fontSize:"2xl"}),Object(g.jsxs)(O.a,{children:["in ",We.a(new Date(t))]})]})};function Qe(e){var t=e.course,n=e.startTime,r=e.endTime,c=e._id,a=e.title,o=(e.status,function(e,t){var n=Object(U.a)((function(){return H.a.post("http://134.209.132.81:4000/api/v1/meetings/start/".concat(e)).then((function(e){return e.data}))}),Object(p.a)(Object(p.a)({},t),{},{onSuccess:Je})),i=n.mutate,r=Object(W.a)(n,Ye);return Object(p.a)({start:i},r)}(c).start),s=Object(i.useState)(Ve.a(new Date,new Date(n))),l=Object(j.a)(s,2),d=l[0],u=l[1],b="".concat("localhost:3000","/meeting/").concat(c),h=Object(Re.a)(b,{}),O=h.hasCopied,m=h.onCopy,x=h.value,v=Object(R.a)({status:"success",description:"".concat(x," is copied ")});Object(i.useEffect)((function(){var e=setInterval((function(){u(Ve.a(new Date,new Date(n)))}),6e4);return function(){clearInterval(e)}}),[n]);var w=K().data;return Object(g.jsx)(S.a,{w:"90%",h:"110px",rounded:"10px",backgroundColor:"white",boxShadow:"sm",p:4,mb:"20px",children:Object(g.jsxs)(f.a,{flexDir:"row",justifyContent:"space-between",h:"100%",w:"100%",children:[Object(g.jsxs)(f.a,{flexDir:"column",justifyContent:"center",children:[Object(g.jsxs)(k.a,{size:"md",mb:"15px",children:[a," - ",t]}),Object(g.jsxs)(k.a,{size:"sm",color:"gray.500",children:[He.a(new Date(n),"h:mm aaa")," -"," ",He.a(new Date(r),"h:mm aaa")," "]})]}),Object(g.jsx)(f.a,{alignItems:"center",children:"instructor"===(null===w||void 0===w?void 0:w.role)?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Te.a,{onClick:function(){m(),v()},variant:"outline",me:4,colorScheme:"teal","aria-label":"",icon:O?Object(g.jsx)(D.a,{}):Object(g.jsx)(Ue.a,{})}),d?Object(g.jsx)(A.a,{background:"#56CAD8",onClick:function(){return o()},textColor:"white",borderRadius:"10px",_focus:{border:"none"},children:"Start NOW"}):Object(g.jsx)(qe,{startTime:n})]}):Object(g.jsx)(qe,{startTime:n})})]})})}var Ge=n(640),Ke=n(617),Xe=["mutate"];var _e={course:"",title:"",startTime:"",endTime:""};function $e(e){var t=e.isOpen,n=e.onClose,r=Object(R.a)(),c=function(){l(_e),n()},a=Object(i.useState)(_e),o=Object(j.a)(a,2),s=o[0],l=o[1],d=function(e){var t=Object(U.a)((function(e){return H.a.post("http://134.209.132.81:4000/api/v1/meetings/new",Object(p.a)(Object(p.a)({},e),{},{startTime:new Date(e.startTime).toISOString(),endTime:new Date(e.endTime).toISOString()}))}),Object(p.a)(Object(p.a)({},e),{},{onSuccess:function(){var t;Je();for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];null===e||void 0===e||null===(t=e.onSuccess)||void 0===t||t.call.apply(t,[e].concat(i))}})),n=t.mutate,i=Object(W.a)(t,Xe);return Object(p.a)({createMeating:n},i)}({onSuccess:function(){r({status:"success",description:"Meeting created!"}),c()},onError:function(e){var t,n;r({status:"error",description:null!==(t=null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.data)&&void 0!==t?t:"An error occured!"})}}).createMeating;return Object(g.jsxs)(Ge.a,{isOpen:t,onClose:c,isCentered:!0,children:[Object(g.jsx)(Ge.g,{}),Object(g.jsxs)(Ge.d,{children:[Object(g.jsx)(Ge.f,{children:"Create New Meeting"}),Object(g.jsx)(Ge.c,{}),Object(g.jsxs)(Ge.b,{pb:6,children:[Object(g.jsxs)(F.a,{children:[Object(g.jsx)(Ke.a,{children:"Meeting Title"}),Object(g.jsx)(L.a,{onChange:function(e){return l((function(t){return Object(p.a)(Object(p.a)({},t),{},{title:e.target.value})}))},value:s.title,placeholder:"Meeting title"})]}),Object(g.jsxs)(F.a,{mt:4,children:[Object(g.jsx)(Ke.a,{children:"Course Name"}),Object(g.jsx)(L.a,{onChange:function(e){return l((function(t){return Object(p.a)(Object(p.a)({},t),{},{course:e.target.value})}))},value:s.course,placeholder:"Course name"})]}),Object(g.jsxs)(F.a,{mt:4,children:[Object(g.jsx)(Ke.a,{children:"Start Time"}),Object(g.jsx)(L.a,{min:(new Date).toISOString().slice(0,-8),value:s.startTime,onChange:function(e){return l((function(t){return Object(p.a)(Object(p.a)({},t),{},{startTime:e.target.value})}))},type:"datetime-local"})]}),Object(g.jsxs)(F.a,{mt:4,children:[Object(g.jsx)(Ke.a,{children:"End Time"}),Object(g.jsx)(L.a,{value:s.endTime,type:"datetime-local",disabled:!s.startTime,min:s.startTime,onChange:function(e){l((function(t){return Object(p.a)(Object(p.a)({},t),{},{endTime:e.target.value})}))}})]})]}),Object(g.jsxs)(Ge.e,{children:[Object(g.jsx)(A.a,{background:"#56CAD8",textColor:"white",onClick:function(){return function(){var e=new Date(s.startTime),t=new Date(s.endTime);e.getTime()>t.getTime()?r({status:"error",description:"Meeting end time cannot be earlier than start time"}):d(s)}()},mr:3,_focus:{border:"none"},children:"Create"}),Object(g.jsx)(A.a,{onClick:c,children:"Cancel"})]})]})]})}var et=function(){return Object(g.jsxs)(f.a,{flexDir:"column",alignItems:"center",children:[Object(g.jsx)(v.a,{src:ze}),Object(g.jsx)(O.a,{fontSize:"24px",fontWeight:"bold",children:"No live meetings at the moment!"})]})};function tt(){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"incoming";return Object(J.a)([Ze,t],(function(){return H.a.get("http://134.209.132.81:4000/api/v1/meetings/list?status=".concat(t)).then((function(e){return e.data}))}),e)}(),t=Object(Pe.a)(),n=t.isOpen,i=t.onOpen,r=t.onClose;return Object(g.jsxs)(f.a,{overflow:"auto",w:"100%",flexDir:"column",children:[Object(g.jsxs)(f.a,{flexDir:"row-reverse",mr:50,mt:50,children:[Object(g.jsx)(A.a,{background:"#56CAD8",textColor:"white",borderRadius:"10px",_focus:{border:"none"},onClick:i,children:"New Meeting"}),Object(g.jsx)($e,{isOpen:n,onClose:r})]}),Object(g.jsxs)(f.a,{flexDir:"column",alignItems:"center",justifyContent:"space-between",children:[Object(g.jsx)(O.a,{fontSize:"22px",fontWeight:"light",color:"#898989",mb:"20px",children:"Today"}),e.isLoading||e.isIdle?Object(g.jsx)(Me.a,{}):e.isError?Object(g.jsxs)(O.a,{children:["An Error Occured!"," ",!1]}):0===e.data.length?Object(g.jsx)(et,{}):e.data.map((function(e){return Object(g.jsx)(Qe,Object(p.a)({},e),e._id)}))]})]})}var nt=function(){return K({refetchOnMount:!0}),Object(g.jsxs)(f.a,{h:"100vh",flexDir:"row",background:"#F9F9F9",class:"dashboard",overflow:"hidden",children:[Object(g.jsx)(Be,{}),Object(g.jsx)(tt,{})]})},it=["mutate"];var rt=["mutate"];function ct(e){var t=e.id,n=e.onError,r=e.onSuccess,c=function(e,t){var n=Object(U.a)((function(){return H.a.post("http://134.209.132.81:4000/api/v1/meetings/subscribe/".concat(e)).then((function(e){return e.data}))}),t),i=n.mutate,r=Object(W.a)(n,rt);return Object(p.a)({subscribe:i},r)}(t,{onSuccess:function(e){"current"===e.status&&u()},onError:n}),a=c.subscribe,o=c.isLoading,s=c.error,l=c.data,d=function(e,t){var n=Object(U.a)((function(){return H.a.post("http://134.209.132.81:4000/api/v1/meetings/join/".concat(e)).then((function(e){return e.data}))}),t),i=n.mutate,r=Object(W.a)(n,it);return Object(p.a)({join:i},r)}(t,{onSuccess:function(e){return null===r||void 0===r?void 0:r(e,l)},onError:n}),u=d.join,j=d.data,b=d.error,f=d.isLoading,h=d.isSuccess;return Object(i.useEffect)((function(){a()}),[a]),{token:j,isSuccess:"current"===(null===l||void 0===l?void 0:l.status)&&h||"incoming"===(null===l||void 0===l?void 0:l.status),isLoading:f||o,meeting:l,error:s||b}}var at=n(17),ot=n(16),st=n(618),lt=n(657),dt=n(664);function ut(e){var t=Object(i.useState)(!!e&&e.isEnabled),n=Object(j.a)(t,2),r=n[0],c=n[1];return Object(i.useEffect)((function(){if(c(!!e&&e.isEnabled),e){var t=function(){return c(!0)},n=function(){return c(!1)};return e.on("enabled",t),e.on("disabled",n),function(){e.off("enabled",t),e.off("disabled",n)}}}),[e]),r}function jt(e){var t=Object(i.useState)(null===e||void 0===e?void 0:e.mediaStreamTrack),n=Object(j.a)(t,2),r=n[0],c=n[1];return Object(i.useEffect)((function(){if(c(null===e||void 0===e?void 0:e.mediaStreamTrack),e){var t=function(){return c(e.mediaStreamTrack)};return e.on("started",t),function(){e.off("started",t)}}}),[e]),r}var bt,ft=0,ht=window.AudioContext||window.webkitAudioContext;function Ot(e){var t=(bt=bt||new ht).createMediaStreamSource(e),n=bt.createAnalyser();return n.smoothingTimeConstant=.2,n.fftSize=256,t.connect(n),n}function mt(e){var t=e.audioTrack,n=e.color,r=void 0===n?"white":n,c=Object(i.useRef)(null),a=Object(i.useState)(),o=Object(j.a)(a,2),s=o[0],l=o[1],d=ut(t),u=jt(t);Object(i.useEffect)((function(){if(t&&u&&d){var e=new MediaStream([u.clone()]),n=function(){return e.getTracks().forEach((function(e){return e.stop()}))};t.on("stopped",n);var i=function(){n(),e=new MediaStream([u.clone()]),l(Ot(e))};return l(Ot(e)),window.addEventListener("focus",i),function(){n(),window.removeEventListener("focus",i),t.off("stopped",n)}}}),[d,u,t]),Object(i.useEffect)((function(){var e=c.current;if(d&&e&&s){var t=new Uint8Array(s.frequencyBinCount),n=Object(dt.a)((function(){s.getByteFrequencyData(t);for(var n=0,i=t.length,r=0;r<i;r++)n+=t[r];var c=Math.min(14,Math.max(0,7*Math.log10(n/i/3)));null===e||void 0===e||e.setAttribute("y",String(14-c))}),100);return function(){e.setAttribute("y","14"),n.stop()}}}),[d,s]);var b="audio-level-clip-".concat(ft++);return d?Object(g.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","data-test-audio-indicator":!0,children:[Object(g.jsx)("defs",{children:Object(g.jsx)("clipPath",{id:b,children:Object(g.jsx)("rect",{ref:c,x:"0",y:"14",width:"24",height:"24"})})}),Object(g.jsxs)("g",{fill:"none",fillRule:"evenodd",transform:"translate(.5)",children:[Object(g.jsx)("rect",{clipPath:"url(#".concat(b,")"),width:"5.2",height:"10",x:"9.5",y:"3.5",rx:"6",ry:"3",fill:"#23BF6E"}),Object(g.jsx)("path",{fill:r,strokeWidth:"0",d:"M17.389 10.667c.276 0 .5.224.5.5 0 3.114-2.396 5.67-5.445 5.923v2.632c0 .276-.223.5-.5.5-.245 0-.45-.177-.491-.41l-.009-.09V17.09C8.395 16.836 6 14.281 6 11.167c0-.276.224-.5.5-.5s.5.224.5.5c0 2.73 2.214 4.944 4.944 4.944 2.731 0 4.945-2.214 4.945-4.944 0-.276.224-.5.5-.5zM11.944 4c1.566 0 2.834 1.268 2.834 2.833v4.334c0 1.564-1.268 2.833-2.834 2.833-1.564 0-2.833-1.27-2.833-2.833V6.833C9.111 5.268 10.38 4 11.944 4zm0 1c-1.012 0-1.833.82-1.833 1.833v4.334c0 1.012.822 1.833 1.833 1.833 1.013 0 1.834-.82 1.834-1.833V6.833c0-1.013-.82-1.833-1.834-1.833z"})]})]}):Object(g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",transform:"translate(-0.5, 0)","data-test-audio-mute-icon":!0,children:Object(g.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[Object(g.jsx)("path",{fill:r,strokeWidth:"0",d:"M11.889 6.667c.276 0 .5.224.5.5 0 3.114-2.396 5.67-5.445 5.923v2.632c0 .276-.223.5-.5.5-.245 0-.45-.177-.491-.41l-.009-.09V13.09c-1.116-.093-2.145-.494-3-1.119l.717-.717c.793.54 1.751.857 2.783.857 2.731 0 4.945-2.214 4.945-4.944 0-.276.224-.5.5-.5zM1 6.667c.276 0 .5.224.5.5 0 .975.282 1.884.77 2.65l-.722.721C.888 9.58.5 8.418.5 7.167c0-.276.224-.5.5-.5zm8.277-1.031v1.53C9.278 8.732 8.01 10 6.445 10c-.446 0-.868-.103-1.243-.287l.776-.773c.149.039.306.06.467.06.963 0 1.751-.74 1.828-1.683l.006-.15v-.531l1-1zM6.444 0C8.01 0 9.278 1.268 9.278 2.833l-.002-.025-.999.999v-.974c0-.962-.74-1.75-1.682-1.827L6.445 1c-.962 0-1.751.74-1.828 1.683l-.006.15v4.334c0 .097.008.192.022.285l-.804.805c-.112-.269-.184-.558-.209-.86l-.009-.23V2.833C3.611 1.268 4.88 0 6.444 0z",transform:"translate(6.5 4)"}),Object(g.jsx)("path",{fill:"red",strokeWidth:"0",d:"M12.146.646c.196-.195.512-.195.708 0 .173.174.192.443.057.638l-.057.07-12 12c-.196.195-.512.195-.708 0-.173-.174-.192-.443-.057-.638l.057-.07 12-12z",transform:"translate(6.5 4)"})]})})}var xt=r.a.memo(mt);function pt(){return Object(g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"73",height:"73",viewBox:"0 0 73 73",children:Object(g.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[Object(g.jsx)("circle",{cx:"36.5",cy:"36.5",r:"36.5",fill:"#FFF"}),Object(g.jsx)("path",{fill:"#282A2B",strokeLinejoin:"round",d:"M30.973 23.925c-3.162 3.794-3.162 9.886 0 13.68l.262.301c.266.293.548.564.842.812l.192.154v2.95l-6.71 2.397-.213.082c-2.03.834-3.346 2.793-3.346 4.97v2.766c0 .532.431.963.963.963h27.874c.531 0 .962-.431.962-.963V49.27l-.005-.228-.015-.233c-.187-2.092-1.562-3.883-3.539-4.59l-6.71-2.397v-2.95l.192-.154c.393-.33.762-.702 1.104-1.112 3.162-3.795 3.162-9.887 0-13.681-3.25-3.9-8.603-3.9-11.853 0zm10.374 1.232c2.567 3.08 2.567 8.135 0 11.216-.404.484-.85.894-1.328 1.226-.26.18-.414.476-.414.791v4.111c0 .407.255.77.639.907l7.348 2.625c1.314.47 2.213 1.687 2.278 3.077l.004.183v1.781h-25.95l.002-1.804c0-1.394.843-2.65 2.131-3.18l.172-.065 7.327-2.617c.383-.137.639-.5.639-.907v-4.11c0-.316-.155-.612-.415-.792-.478-.332-.924-.742-1.328-1.226-2.567-3.08-2.567-8.135 0-11.216 2.427-2.912 6.248-2.974 8.735-.186l.16.186z"})]})})}var vt=Object(st.a)({outerContainer:{width:"2em",height:"2em",padding:"0.9em",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0, 0, 0, 0.5)"},innerContainer:{display:"flex",alignItems:"flex-end","& div":{width:"2px",marginRight:"1px","&:not(:last-child)":{borderRight:"none"}}}}),gt=[0,1,2,3,4];function wt(e){var t=e.participant,n=vt(),r=function(e){var t=Object(i.useState)(e.networkQualityLevel),n=Object(j.a)(t,2),r=n[0],c=n[1];return Object(i.useEffect)((function(){var t=function(e){return c(e)};return c(e.networkQualityLevel),e.on("networkQualityLevelChanged",t),function(){e.off("networkQualityLevelChanged",t)}}),[e]),r}(t);return null===r?null:Object(g.jsx)("div",{className:n.outerContainer,children:Object(g.jsx)("div",{className:n.innerContainer,children:gt.map((function(e){return Object(g.jsx)("div",{style:{height:"".concat(3*(e+1),"px"),background:r>e?"white":"rgba(255, 255, 255, 0.2)"}},e)}))})})}var Ct=n(659),St=n(343);function kt(){return Object(g.jsx)(Ct.a,{title:"Participant is pinned. Click to un-pin.",placement:"top",children:Object(g.jsx)(St.a,{style:{float:"right",background:"rgba(0, 0, 0, 0.5)",padding:"0.1em",boxSizing:"content-box"},width:"26",height:"26",viewBox:"0 0 26 26",children:Object(g.jsx)("path",{fill:"#FFF",fillRule:"evenodd",strokeWidth:"0",d:"M15.808 4.489c.208-.207.544-.207.75 0l4.953 4.952c.207.207.207.543 0 .75l-1.415 1.415c-.207.208-.543.208-.75 0l-.333-.333-3.007 3.007v2.611c0 .113-.035.222-.1.312l-.055.063-1.06 1.062c-.208.207-.544.207-.751 0l-2.809-2.81-5.992 5.993c-.207.207-.543.207-.75 0-.184-.184-.205-.47-.062-.677l.062-.073 5.991-5.993-2.808-2.808c-.184-.184-.204-.47-.061-.677l.061-.073 1.062-1.061c.1-.1.234-.156.375-.156h2.61l3.007-3.007-.332-.332c-.185-.184-.205-.47-.062-.677l.062-.073zm.376 1.125l-.666.664.333.333c.185.184.205.47.062.677l-.062.074-3.537 3.537c-.1.1-.234.155-.375.155h-2.61l-.531.531 2.803 2.803.005.006.005.005 2.804 2.803.53-.531v-2.61c0-.112.036-.221.102-.311l.054-.064 3.537-3.537c.208-.208.544-.208.75 0l.333.332.664-.666-4.201-4.201z"})})})}function yt(){return Object(g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(g.jsx)("path",{fill:"#707578",fillRule:"evenodd",d:"M17.657 6.343c3.124 3.124 3.124 8.19 0 11.314-3.124 3.124-8.19 3.124-11.314 0-3.124-3.124-3.124-8.19 0-11.314 3.124-3.124 8.19-3.124 11.314 0zm-10.444.87c-2.643 2.644-2.643 6.93 0 9.574 2.644 2.643 6.93 2.643 9.574 0 2.57-2.57 2.641-6.693.214-9.35l-.214-.224L16.563 7c-2.657-2.427-6.78-2.356-9.35.214zm4.865.484l.02.003.026.005.041.01c.025.007.045.014.063.021l.043.019c.018.009.036.019.053.03.01.005.02.012.03.02.027.019.053.04.077.063l2.773 2.774c.24.24.24.63 0 .87-.213.214-.545.237-.785.071l-.085-.07-1.719-1.72v5.9c0 .34-.275.615-.615.615-.302 0-.553-.218-.605-.505l-.01-.11-.001-5.9-1.718 1.72c-.24.24-.63.24-.87 0-.214-.215-.238-.546-.072-.786l.072-.085 2.769-2.77.015-.014c.02-.018.04-.035.062-.05l.005-.004.008-.006c.027-.018.055-.034.085-.048l.034-.015.059-.02.032-.008c.021-.005.044-.008.068-.011l.038-.003H12.025l.027.002.026.002z"})})}var At=n(344);function Et(e){var t=Object(i.useState)(e&&e.isSwitchedOff),n=Object(j.a)(t,2),r=n[0],c=n[1];return Object(i.useEffect)((function(){if(c(e&&e.isSwitchedOff),e){var t=function(){return c(!0)},n=function(){return c(!1)};return e.on("switchedOff",t),e.on("switchedOn",n),function(){e.off("switchedOff",t),e.off("switchedOn",n)}}}),[e]),!!r}var Tt=n(13);function Lt(e){var t=Object(i.useState)([]),n=Object(j.a)(t,2),r=n[0],c=n[1];return Object(i.useEffect)((function(){c(Array.from(e.tracks.values()));var t=function(e){return c((function(t){return[].concat(Object(Tt.a)(t),[e])}))},n=function(e){return c((function(t){return t.filter((function(t){return t!==e}))}))};return e.on("trackPublished",t),e.on("trackUnpublished",n),function(){e.off("trackPublished",t),e.off("trackUnpublished",n)}}),[e]),r}function Dt(e){var t=Object(i.useState)(e&&e.track),n=Object(j.a)(t,2),r=n[0],c=n[1];return Object(i.useEffect)((function(){if(c(e&&e.track),e){var t=function(){return c(null)};return e.on("subscribed",c),e.on("unsubscribed",t),function(){e.off("subscribed",c),e.off("unsubscribed",t)}}}),[e]),r}function Nt(e){var t=Object(i.useState)(!1),n=Object(j.a)(t,2),r=n[0],c=n[1];return Object(i.useEffect)((function(){var t=function(){return c(!0)},n=function(){return c(!1)};return n(),e.on("reconnecting",t),e.on("reconnected",n),function(){e.off("reconnecting",t),e.off("reconnected",n)}}),[e]),r}var It=Object(st.a)((function(e){return Object(lt.a)({container:Object(at.a)({position:"relative",display:"flex",alignItems:"center",height:0,overflow:"hidden",marginBottom:"0.5em","& video":{filter:"none",objectFit:"contain !important"},borderRadius:"4px",border:"".concat(e.participantBorderWidth,"px solid rgb(245, 248, 255)"),paddingTop:"calc(".concat(56.25,"% - ").concat(e.participantBorderWidth,"px)"),background:"black"},e.breakpoints.down("sm"),{height:e.sidebarMobileHeight,width:"".concat(16*e.sidebarMobileHeight/9,"px"),marginRight:"8px",marginBottom:"0",fontSize:"10px",paddingTop:"".concat(e.sidebarMobileHeight-2,"px")}),innerContainer:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},infoContainer:{position:"absolute",zIndex:2,display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%",width:"100%",background:"transparent",top:0},avatarContainer:Object(at.a)({display:"flex",alignItems:"center",justifyContent:"center",background:"black",position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:1},e.breakpoints.down("sm"),{"& svg":{transform:"scale(0.7)"}}),reconnectingContainer:{position:"absolute",top:0,right:0,bottom:0,left:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(40, 42, 43, 0.75)",zIndex:1},screenShareIconContainer:{background:"rgba(0, 0, 0, 0.5)",padding:"0.18em 0.3em",marginRight:"0.3em",display:"flex","& path":{fill:"white"}},identity:{background:"rgba(0, 0, 0, 0.5)",color:"white",padding:"0.18em 0.3em",margin:0,display:"flex",alignItems:"center"},infoRowBottom:{display:"flex",justifyContent:"space-between",position:"absolute",bottom:0,left:0},typeography:Object(at.a)({color:"white"},e.breakpoints.down("sm"),{fontSize:"0.75rem"}),hideParticipant:{display:"none"},cursorPointer:{cursor:"pointer"}})}));function Ft(e){var t,n=e.participant,i=e.onClick,r=e.isSelected,c=e.children,a=e.isLocalParticipant,o=e.hideParticipant,s=Lt(n),l=s.find((function(e){return"audio"===e.kind})),d=s.find((function(e){return e.trackName.includes("camera")})),u=Boolean(d),j=s.find((function(e){return e.trackName.includes("screen")})),b=Et(Dt(d)),f=Dt(l),h=Nt(n),O=It();return Object(g.jsxs)("div",{className:Object(ot.a)(O.container,(t={},Object(at.a)(t,O.hideParticipant,o),Object(at.a)(t,O.cursorPointer,Boolean(i)),t)),onClick:i,"data-cy-participant":n.identity,children:[Object(g.jsxs)("div",{className:O.infoContainer,children:[Object(g.jsx)(wt,{participant:n}),Object(g.jsxs)("div",{className:O.infoRowBottom,children:[j&&Object(g.jsx)("span",{className:O.screenShareIconContainer,children:Object(g.jsx)(yt,{})}),Object(g.jsxs)("span",{className:O.identity,children:[Object(g.jsx)(xt,{audioTrack:f}),Object(g.jsxs)(At.a,{variant:"body1",className:O.typeography,component:"span",children:[n.identity,a&&" (You)"]})]})]}),Object(g.jsx)("div",{children:r&&Object(g.jsx)(kt,{})})]}),Object(g.jsxs)("div",{className:O.innerContainer,children:[(!u||b)&&Object(g.jsx)("div",{className:O.avatarContainer,children:Object(g.jsx)(pt,{})}),h&&Object(g.jsx)("div",{className:O.reconnectingContainer,children:Object(g.jsx)(At.a,{variant:"body1",className:O.typeography,children:"Reconnecting..."})}),c]})]})}var Bt={width:1280,height:720,frameRate:24},Pt="TwilioVideoApp-selectedAudioInput",Mt="TwilioVideoApp-selectedAudioOutput",zt="TwilioVideoApp-selectedVideoInput",Rt=n(329),Wt=n.n(Rt),Vt="undefined"!==typeof navigator&&"string"===typeof navigator.userAgent&&/Mobile/.test(navigator.userAgent);function Ht(e){if(!Wt()(e))return e;var t={};for(var n in e){var i=e[n];"undefined"!==typeof i&&(t[n]=Ht(i))}return t}function Ut(){return Zt.apply(this,arguments)}function Zt(){return(Zt=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.enumerateDevices();case 2:return t=e.sent,e.abrupt("return",{audioInputDevices:t.filter((function(e){return"audioinput"===e.kind})),videoInputDevices:t.filter((function(e){return"videoinput"===e.kind})),audioOutputDevices:t.filter((function(e){return"audiooutput"===e.kind})),hasAudioInputDevices:t.some((function(e){return"audioinput"===e.kind})),hasVideoInputDevices:t.some((function(e){return"videoinput"===e.kind}))});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jt(e){return Yt.apply(this,arguments)}function Yt(){return(Yt=Object(b.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.permissions){e.next=13;break}return e.prev=1,e.next=4,navigator.permissions.query({name:t});case 4:return n=e.sent,e.abrupt("return","denied"===n.state);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",!1);case 11:e.next=14;break;case 13:return e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function qt(){var e=Object(i.useState)({audioInputDevices:[],videoInputDevices:[],audioOutputDevices:[],hasAudioInputDevices:!1,hasVideoInputDevices:!1}),t=Object(j.a)(e,2),n=t[0],r=t[1];return Object(i.useEffect)((function(){var e=function(){return Ut().then((function(e){return r(e)}))};return navigator.mediaDevices.addEventListener("devicechange",e),e(),function(){navigator.mediaDevices.removeEventListener("devicechange",e)}}),[]),n}function Qt(){var e=qt().audioOutputDevices,t=Object(i.useState)("default"),n=Object(j.a)(t,2),r=n[0],c=n[1],a=Object(i.useCallback)((function(e){window.localStorage.setItem(Mt,e),c(e)}),[]);return Object(i.useEffect)((function(){var t=window.localStorage.getItem(Mt);e.some((function(e){return t&&e.deviceId===t}))&&c(t)}),[e]),[r,a]}function Gt(e){var t=e.track,n=Qt(),r=Object(j.a)(n,1)[0],c=Object(i.useRef)();return Object(i.useEffect)((function(){return c.current=t.attach(),c.current.setAttribute("data-cy-audio-track-name",t.name),document.body.appendChild(c.current),function(){return t.detach().forEach((function(e){return e.remove()}))}}),[t]),Object(i.useEffect)((function(){var e,t;null===(e=c.current)||void 0===e||null===(t=e.setSinkId)||void 0===t||t.call(e,r)}),[r]),null}var Kt=n(658);var Xt=Object(Kt.a)("video")({width:"100%",height:"100%"});function _t(e){var t,n,r=e.track,c=e.isLocal,a=e.priority,o=Object(i.useRef)(null),s=jt(r),l=function(e){var t=Object(i.useState)(null===e||void 0===e?void 0:e.dimensions),n=Object(j.a)(t,2),r=n[0],c=n[1];return Object(i.useEffect)((function(){if(c(null===e||void 0===e?void 0:e.dimensions),e){var t=function(e){return c({width:e.dimensions.width,height:e.dimensions.height})};return e.on("dimensionsChanged",t),function(){e.off("dimensionsChanged",t)}}}),[e]),r}(r),d=(null!==(t=null===l||void 0===l?void 0:l.height)&&void 0!==t?t:0)>(null!==(n=null===l||void 0===l?void 0:l.width)&&void 0!==n?n:0);Object(i.useEffect)((function(){var e=o.current;return e.muted=!0,r.setPriority&&a&&r.setPriority(a),r.attach(e),function(){r.detach(e),r.setPriority&&a&&r.setPriority(null)}}),[r,a]);var u="environment"!==(null===s||void 0===s?void 0:s.getSettings().facingMode),b={transform:c&&u?"rotateY(180deg)":"",objectFit:d||r.name.includes("screen")?"contain":"cover"};return Object(g.jsx)(Xt,{ref:o,style:b})}function $t(e){var t=e.publication,n=e.isLocalParticipant,i=e.videoOnly,r=e.videoPriority,c=Dt(t);if(!c)return null;switch(c.kind){case"video":return Object(g.jsx)(_t,{track:c,priority:r,isLocal:c.name.includes("camera")&&n});case"audio":return i?null:Object(g.jsx)(Gt,{track:c});default:return null}}function en(e){var t,n=e.participant,i=e.videoOnly,r=e.enableScreenShare,c=e.videoPriority,a=e.isLocalParticipant,o=Lt(n);return t=r&&o.some((function(e){return e.trackName.includes("screen")}))?o.filter((function(e){return!e.trackName.includes("camera")})):o.filter((function(e){return!e.trackName.includes("screen")})),Object(g.jsx)(g.Fragment,{children:t.map((function(e){return Object(g.jsx)($t,{publication:e,participant:n,isLocalParticipant:a,videoOnly:i,videoPriority:c},e.kind)}))})}function tn(e){var t=e.participant,n=e.videoOnly,i=e.enableScreenShare,r=e.onClick,c=e.isSelected,a=e.isLocalParticipant,o=e.hideParticipant;return Object(g.jsx)(Ft,{participant:t,onClick:r,isSelected:c,isLocalParticipant:a,hideParticipant:o,children:Object(g.jsx)(en,{participant:t,videoOnly:n,enableScreenShare:i,isLocalParticipant:a})})}var nn=Object(i.createContext)(null);function rn(){var e=Object(i.useContext)(nn),t=Object(j.a)(e,2);return[t[0],t[1]]}function cn(e){var t=e.room,n=e.children,r=Object(i.useState)(null),c=Object(j.a)(r,2),a=c[0],o=c[1];return Object(i.useEffect)((function(){if(t){var e=function(){return o(null)},n=function(e){return o((function(t){return t===e?null:t}))};return t.on("disconnected",e),t.on("participantDisconnected",n),function(){t.off("disconnected",e),t.off("participantDisconnected",n)}}}),[t]),Object(g.jsx)(nn.Provider,{value:[a,function(e){return o((function(t){return t===e?null:e}))}],children:n})}function an(){var e=jn(),t=e.room,n=e.localTracks,r=e.getLocalVideoTrack,c=e.removeLocalVideoTrack,a=e.onError,o=null===t||void 0===t?void 0:t.localParticipant,s=n.find((function(e){return e.name.includes("camera")})),l=Object(i.useState)(!1),d=Object(j.a)(l,2),u=d[0],b=d[1],f=Object(i.useCallback)((function(){if(!u)if(s){var e=null===o||void 0===o?void 0:o.unpublishTrack(s);null===o||void 0===o||o.emit("trackUnpublished",e),c()}else b(!0),r().then((function(e){return null===o||void 0===o?void 0:o.publishTrack(e,{priority:"low"})})).catch(a).finally((function(){return b(!1)}))}),[s,o,r,u,a,c]);return[!!s,f]}function on(){var e=jn().room,t=an(),n=Object(j.a)(t,2),r=n[0],c=n[1],a=Object(i.useRef)(!1);return Object(i.useEffect)((function(){if(e&&Vt){var t=function(){"hidden"===document.visibilityState&&r?(a.current=!0,c()):a.current&&(a.current=!1,c())};return document.addEventListener("visibilitychange",t),function(){document.removeEventListener("visibilitychange",t)}}}),[r,e,c]),null}var sn=n(99),ln=n.n(sn);window.TwilioVideo=ln.a;var dn=Object(i.createContext)(null);function un(e){var t=e.options,n=e.children,r=e.onError,c=void 0===r?function(){}:r,a=Object(i.useCallback)((function(e){console.log("ERROR: ".concat(e.message),e),c(e)}),[c]),o=function(){var e=Object(i.useState)(),t=Object(j.a)(e,2),n=t[0],r=t[1],c=Object(i.useState)(),a=Object(j.a)(c,2),o=a[0],s=a[1],l=Object(i.useState)(!1),d=Object(j.a)(l,2),f=d[0],h=d[1],O=Object(i.useCallback)((function(e){var t={};return e&&(t.deviceId={exact:e}),ln.a.createLocalAudioTrack(t).then((function(e){return r(e),e}))}),[]),m=Object(i.useCallback)(Object(b.a)(u.a.mark((function e(){var t,n,i,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.localStorage.getItem(zt),e.next=3,Ut();case 3:return n=e.sent,i=n.videoInputDevices,r=i.some((function(e){return t&&e.deviceId===t})),c=Object(p.a)(Object(p.a)({},Bt),{},{name:"camera-".concat(Date.now())},r&&{deviceId:{exact:t}}),e.abrupt("return",ln.a.createLocalVideoTrack(c).then((function(e){return s(e),e})));case 8:case"end":return e.stop()}}),e)}))),[]),x=Object(i.useCallback)((function(){n&&(n.stop(),r(void 0))}),[n]),v=Object(i.useCallback)((function(){o&&(o.stop(),s(void 0))}),[o]),g=Object(i.useCallback)(Object(b.a)(u.a.mark((function e(){var t,i,c,a,l,d,j,b,O,m,x,v,g;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ut();case 2:if(t=e.sent,i=t.audioInputDevices,c=t.videoInputDevices,a=t.hasAudioInputDevices,l=t.hasVideoInputDevices,a||l){e.next=9;break}return e.abrupt("return",Promise.resolve());case 9:if(!(f||n||o)){e.next=11;break}return e.abrupt("return",Promise.resolve());case 11:return h(!0),d=window.localStorage.getItem(Pt),j=window.localStorage.getItem(zt),b=i.some((function(e){return d&&e.deviceId===d})),O=c.some((function(e){return j&&e.deviceId===j})),e.next=18,Jt("camera");case 18:return m=e.sent,e.next=21,Jt("microphone");case 21:return x=e.sent,v=a&&!x,g={video:l&&!m&&Object(p.a)(Object(p.a)({},Bt),{},{name:"camera-".concat(Date.now())},O&&{deviceId:{exact:j}}),audio:v&&(b?{deviceId:{exact:d}}:a)},e.abrupt("return",ln.a.createLocalTracks(g).then((function(e){var t,n=e.find((function(e){return"video"===e.kind})),i=e.find((function(e){return"audio"===e.kind}));if(n&&(s(n),window.localStorage.setItem(zt,null!==(t=n.mediaStreamTrack.getSettings().deviceId)&&void 0!==t?t:"")),i&&r(i),m&&x){var c=new Error;throw c.name="NotAllowedError",c}if(m)throw new Error("CameraPermissionsDenied");if(x)throw new Error("MicrophonePermissionsDenied")})).finally((function(){return h(!1)})));case 26:case"end":return e.stop()}}),e)}))),[n,o,f]);return{localTracks:[n,o].filter((function(e){return void 0!==e})),getLocalVideoTrack:m,getLocalAudioTrack:O,isAcquiringLocalTracks:f,removeLocalAudioTrack:x,removeLocalVideoTrack:v,getAudioAndVideoTracks:g}}(),s=o.localTracks,l=o.getLocalVideoTrack,d=o.getLocalAudioTrack,f=o.isAcquiringLocalTracks,h=o.removeLocalAudioTrack,O=o.removeLocalVideoTrack,m=o.getAudioAndVideoTracks,x=function(e,t,n){var r=Object(i.useState)(null),c=Object(j.a)(r,2),a=c[0],o=c[1],s=Object(i.useState)(!1),l=Object(j.a)(s,2),d=l[0],u=l[1],b=Object(i.useRef)(n);return Object(i.useEffect)((function(){b.current=n}),[n]),{room:a,isConnecting:d,connect:Object(i.useCallback)((function(n){return u(!0),ln.a.connect(n,{tracks:e}).then((function(e){o(e);var t=function(){return e.disconnect()};e.setMaxListeners(15),e.once("disconnected",(function(){setTimeout((function(){return o(null)})),window.removeEventListener("beforeunload",t),Vt&&window.removeEventListener("pagehide",t)})),window.twilioRoom=e,e.localParticipant.videoTracks.forEach((function(e){return e.setPriority("low")})),u(!1),window.addEventListener("beforeunload",t),Vt&&window.addEventListener("pagehide",t)}),(function(e){t(e),u(!1)}))}),[e,t])}}(s,a,t),v=x.room,w=x.isConnecting,C=x.connect,S=function(e,t){var n=Object(i.useState)(!1),r=Object(j.a)(n,2),c=r[0],a=r[1],o=Object(i.useRef)(null),s=Object(i.useCallback)((function(){navigator.mediaDevices.getDisplayMedia({audio:!1,video:{frameRate:10,height:1080,width:1920}}).then((function(n){var i=n.getTracks()[0];e.localParticipant.publishTrack(i,{name:"screen",priority:"low"}).then((function(t){o.current=function(){e.localParticipant.unpublishTrack(i),e.localParticipant.emit("trackUnpublished",t),i.stop(),a(!1)},i.onended=o.current,a(!0)})).catch(t)})).catch((function(e){"AbortError"!==e.name&&"NotAllowedError"!==e.name&&t(e)}))}),[e,t]),l=Object(i.useCallback)((function(){e&&(c?o.current():s())}),[c,s,e]);return[c,l]}(v,c),k=Object(j.a)(S,2),y=k[0],A=k[1];return function(e,t,n,r,c,a){Object(i.useEffect)((function(){if(e){var i=function(e,i){i&&t(i),n(),r(),c&&a()};return e.on("disconnected",i),function(){e.off("disconnected",i)}}}),[e,t,n,r,c,a])}(v,c,h,O,y,A),function(e,t){Object(i.useEffect)((function(){if(e)return e.localParticipant.on("trackPublicationFailed",t),function(){e.localParticipant.off("trackPublicationFailed",t)}}),[e,t])}(v,c),function(e){var t=e.find((function(e){return"audio"===e.kind}));Object(i.useEffect)((function(){var e=function(){"ended"===(null===t||void 0===t?void 0:t.mediaStreamTrack.readyState)&&t.restart({})};return navigator.mediaDevices.addEventListener("devicechange",e),function(){navigator.mediaDevices.removeEventListener("devicechange",e)}}),[t])}(s),Object(g.jsxs)(dn.Provider,{value:{room:v,localTracks:s,isConnecting:w,onError:a,getLocalVideoTrack:l,getLocalAudioTrack:d,connect:C,isAcquiringLocalTracks:f,removeLocalVideoTrack:O,isSharingScreen:y,toggleScreenShare:A,getAudioAndVideoTracks:m},children:[Object(g.jsx)(cn,{room:v,children:n}),Object(g.jsx)(on,{})]})}function jn(){var e=Object(i.useContext)(dn);if(!e)throw new Error("useVideoContext must be used within a VideoProvider");return e}function bn(){var e,t=jn().room,n=Object(i.useState)(null!==(e=null===t||void 0===t?void 0:t.dominantSpeaker)&&void 0!==e?e:null),r=Object(j.a)(n,2),c=r[0],a=r[1];return Object(i.useEffect)((function(){if(t){var e=function(e){null!==e&&a(e)},n=function(e){a((function(t){return t===e?null:t}))};return t.on("dominantSpeakerChanged",e),t.on("participantDisconnected",n),function(){t.off("dominantSpeakerChanged",e),t.off("participantDisconnected",n)}}}),[t]),c}function fn(){var e,t=jn().room,n=bn(),r=Object(i.useState)(Array.from(null!==(e=null===t||void 0===t?void 0:t.participants.values())&&void 0!==e?e:[])),c=Object(j.a)(r,2),a=c[0],o=c[1];return Object(i.useEffect)((function(){n&&o((function(e){return[n].concat(Object(Tt.a)(e.filter((function(e){return e!==n}))))}))}),[n]),Object(i.useEffect)((function(){if(t){var e=function(e){return o((function(t){return[].concat(Object(Tt.a)(t),[e])}))},n=function(e){return o((function(t){return t.filter((function(t){return t!==e}))}))};return t.on("participantConnected",e),t.on("participantDisconnected",n),function(){t.off("participantConnected",e),t.off("participantDisconnected",n)}}}),[t]),a}function hn(){var e=jn().room,t=Object(i.useState)(),n=Object(j.a)(t,2),r=n[0],c=n[1];return Object(i.useEffect)((function(){if(e){var t=function(){c(Array.from(e.participants.values()).concat(e.localParticipant).find((function(e){return Array.from(e.tracks.values()).find((function(e){return e.trackName.includes("screen")}))})))};return t(),e.on("trackPublished",t),e.on("trackUnpublished",t),e.on("participantDisconnected",t),e.localParticipant.on("trackPublished",t),e.localParticipant.on("trackUnpublished",t),function(){e.off("trackPublished",t),e.off("trackUnpublished",t),e.off("participantDisconnected",t),e.localParticipant.off("trackPublished",t),e.localParticipant.off("trackUnpublished",t)}}}),[e]),r}function On(){var e=rn(),t=Object(j.a)(e,1)[0],n=hn(),i=bn(),r=fn(),c=jn().room,a=null===c||void 0===c?void 0:c.localParticipant;return t||(n!==a?n:null)||i||r[0]||a}var mn=Object(st.a)((function(e){return Object(lt.a)({container:Object(at.a)({overflowY:"auto",background:"rgb(79, 83, 85)",gridArea:"1 / 2 / 1 / 3",zIndex:5},e.breakpoints.down("sm"),{gridArea:"2 / 1 / 3 / 3",overflowY:"initial",overflowX:"auto",display:"flex"}),transparentBackground:{background:"transparent"},scrollContainer:{display:"flex",justifyContent:"center"},innerScrollContainer:Object(at.a)({width:"calc(".concat(e.sidebarWidth,"px - 3em)"),padding:"1.5em 0"},e.breakpoints.down("sm"),{width:"auto",padding:"".concat(e.sidebarMobilePadding,"px"),display:"flex"})})}));function xn(){var e=mn(),t=jn().room.localParticipant,n=fn(),i=rn(),r=Object(j.a)(i,2),c=r[0],a=r[1],o=hn(),s=On(),l=o&&o!==t;return 0===n.length?null:Object(g.jsx)("aside",{className:Object(ot.a)(e.container,Object(at.a)({},e.transparentBackground,!l)),children:Object(g.jsx)("div",{className:e.scrollContainer,children:Object(g.jsxs)("div",{className:e.innerScrollContainer,children:[Object(g.jsx)(tn,{participant:t,isLocalParticipant:!0}),n.map((function(e){var t=e===s&&e!==o&&!(e===c);return Object(g.jsx)(tn,{participant:e,isSelected:e===c,onClick:function(){return a(e)},hideParticipant:t},e.sid)}))]})})})}var pn=Object(st.a)((function(e){return{container:{position:"relative",display:"flex",alignItems:"center"},identity:{background:"rgba(0, 0, 0, 0.5)",color:"white",padding:"0.1em 0.3em 0.1em 0",display:"inline-flex","& svg":{marginLeft:"0.3em"},marginRight:"0.4em",alignItems:"center"},infoContainer:{position:"absolute",zIndex:2,height:"100%",width:"100%"},reconnectingContainer:{position:"absolute",top:0,right:0,bottom:0,left:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(40, 42, 43, 0.75)",zIndex:1},fullWidth:Object(at.a)({gridArea:"1 / 1 / 2 / 3"},e.breakpoints.down("sm"),{gridArea:"1 / 1 / 3 / 3"}),avatarContainer:{display:"flex",alignItems:"center",justifyContent:"center",background:"black",position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:1,"& svg":{transform:"scale(2)"}},recordingIndicator:Object(at.a)({position:"absolute",bottom:0,display:"flex",alignItems:"center",background:"rgba(0, 0, 0, 0.5)",color:"white",padding:"0.1em 0.3em 0.1em 0",fontSize:"1.2rem",height:"28px"},e.breakpoints.down("sm"),{bottom:"auto",right:0,top:0}),circle:{height:"12px",width:"12px",background:"red",borderRadius:"100%",margin:"0 0.6em",animation:"1.25s $pulsate ease-out infinite"},"@keyframes pulsate":{"0%":{background:"#A90000"},"50%":{background:"#f00"},"100%":{background:"#A90000"}}}}));function vn(e){var t=e.participant,n=e.children,r=pn(),c=jn().room.localParticipant,a=c===t,o=hn(),s=o&&o!==c,l=Lt(t),d=l.find((function(e){return e.trackName.includes("camera")})),u=l.find((function(e){return e.trackName.includes("screen")})),b=Dt(u||d),f=Boolean(b),h=Dt(l.find((function(e){return"audio"===e.kind}))),O=Et(b),m=Nt(t),x=function(){var e=jn().room,t=Object(i.useState)(Boolean(null===e||void 0===e?void 0:e.isRecording)),n=Object(j.a)(t,2),r=n[0],c=n[1];return Object(i.useEffect)((function(){if(e){c(e.isRecording);var t=function(){return c(!0)},n=function(){return c(!1)};return e.on("recordingStarted",t),e.on("recordingStopped",n),function(){e.off("recordingStarted",t),e.off("recordingStopped",n)}}}),[e]),r}();return Object(g.jsxs)("div",{"data-cy-main-participant":!0,"data-cy-participant":t.identity,className:Object(ot.a)(r.container,Object(at.a)({},r.fullWidth,!s)),children:[Object(g.jsxs)("div",{className:r.infoContainer,children:[Object(g.jsxs)("div",{style:{display:"flex"},children:[Object(g.jsxs)("div",{className:r.identity,children:[Object(g.jsx)(xt,{audioTrack:h}),Object(g.jsxs)(At.a,{variant:"body1",color:"inherit",children:[t.identity,a&&" (You)",u&&" - Screen"]})]}),Object(g.jsx)(wt,{participant:c})]}),x&&Object(g.jsx)(Ct.a,{title:"All participants' audio and video is currently being recorded. Visit the app settings to stop recording.",placement:"top",children:Object(g.jsxs)("div",{className:r.recordingIndicator,children:[Object(g.jsx)("div",{className:r.circle}),Object(g.jsx)(At.a,{variant:"body1",color:"inherit","data-cy-recording-indicator":!0,children:"Recording"})]})})]}),(!f||O)&&Object(g.jsx)("div",{className:r.avatarContainer,children:Object(g.jsx)(pt,{})}),m&&Object(g.jsx)("div",{className:r.reconnectingContainer,children:Object(g.jsx)(At.a,{variant:"body1",style:{color:"white"},children:"Reconnecting..."})}),n]})}function gn(){var e=On(),t=jn().room.localParticipant,n=rn(),i=Object(j.a)(n,1)[0],r=hn(),c=e!==i&&e!==r||e===t?null:"high";return Object(g.jsx)(vn,{participant:e,children:Object(g.jsx)(en,{participant:e,videoOnly:!0,enableScreenShare:e!==t,videoPriority:c,isLocalParticipant:e===t})})}var wn=Object(st.a)((function(e){console.log(e.sidebarWidth);var t="".concat(e.sidebarMobileHeight+2*e.sidebarMobilePadding+e.participantBorderWidth,"px");return{container:Object(at.a)({position:"relative",height:"100%",display:"grid",gridTemplateColumns:"1fr ".concat(e.sidebarWidth,"px"),gridTemplateRows:"100%"},e.breakpoints.down("sm"),{gridTemplateColumns:"100%",gridTemplateRows:"calc(100% - ".concat(t,") ").concat(t)}),chatWindowOpen:{gridTemplateColumns:"1fr ".concat(e.sidebarWidth,"px ").concat(e.chatWindowWidth,"px")}}}));function Cn(){var e=wn();return console.log(),Object(g.jsxs)("div",{className:Object(ot.a)(e.container),children:[Object(g.jsx)(gn,{}),Object(g.jsx)(xn,{})]})}function Sn(){var e,t={trackSwitchOffMode:void 0,dominantSpeakerPriority:"standard",bandwidthProfileMode:"collaboration",maxAudioBitrate:"16000",contentPreferencesMode:"auto",clientTrackSwitchOffControl:"auto"},n={bandwidthProfile:{video:{mode:t.bandwidthProfileMode,dominantSpeakerPriority:t.dominantSpeakerPriority,trackSwitchOffMode:t.trackSwitchOffMode,contentPreferencesMode:t.contentPreferencesMode,clientTrackSwitchOffControl:t.clientTrackSwitchOffControl}},dominantSpeaker:!0,networkQuality:{local:1,remote:1},preferredVideoCodecs:[{codec:"VP8"}],environment:Object({NODE_ENV:"production",PUBLIC_URL:"/edugaze-fe",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_TWILIO_ENVIRONMENT};return Vt&&(null===n||void 0===n||null===(e=n.bandwidthProfile)||void 0===e?void 0:e.video)&&(n.bandwidthProfile.video.maxSubscriptionBitrate=25e5),"dev"===Object({NODE_ENV:"production",PUBLIC_URL:"/edugaze-fe",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_TWILIO_ENVIRONMENT&&(n.wsServer="wss://us2.vss.dev.twilio.com/signaling"),Ht(n)}var kn=n(637),yn=n(336),An=Object(yn.a)(),En=Object(yn.a)({overrides:{MuiCssBaseline:{"@global":{"html, body, #root":{height:"100%"}}},MuiButton:{root:{borderRadius:"4px",textTransform:"none",color:"rgb(40, 42, 43)",fontSize:"0.9rem",transition:An.transitions.create(["background-color","box-shadow","border","color"],{duration:An.transitions.duration.short})},text:{padding:"6px 14px"},contained:{boxShadow:"none","&:hover":{boxShadow:"none"}},outlinedPrimary:{border:"2px solid #027AC5","&:hover":{border:"2px solid rgb(1, 85, 137)"}},startIcon:{marginRight:"6px"}},MuiTypography:{body1:{color:"rgb(40, 42, 43)",fontSize:"0.9rem"}},MuiInputBase:{root:{fontSize:"0.9rem"}},MuiSelect:{root:{padding:"0.85em"}},MuiDialogActions:{root:{padding:"16px"}},MuiTextField:{root:{color:"rgb(40, 42, 43)"}},MuiInputLabel:{root:{color:"rgb(40, 42, 43)",fontSize:"1.1rem",marginBottom:"0.2em",fontWeight:500}},MuiOutlinedInput:{notchedOutline:{borderColor:"rgb(136, 140, 142)"}}},typography:{fontFamily:"Inter, sans-serif"},palette:{primary:{main:"#027AC5"}},brand:"#E22525",footerHeight:72,mobileFooterHeight:56,sidebarWidth:300,sidebarMobileHeight:90,sidebarMobilePadding:8,participantBorderWidth:2,mobileTopBarHeight:52,chatWindowWidth:320}),Tn=n(630),Ln=n(649),Dn=n(629),Nn=n(635);function In(){var e=jn().localTracks.find((function(e){return"audio"===e.kind}));return Object(g.jsx)(xt,{audioTrack:e})}var Fn=Object(st.a)((function(e){return{container:{position:"relative",height:0,overflow:"hidden",paddingTop:"".concat(56.25,"%"),background:"black"},innerContainer:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},identityContainer:{position:"absolute",bottom:0,zIndex:1},identity:{background:"rgba(0, 0, 0, 0.5)",color:"white",padding:"0.18em 0.3em",margin:0,display:"flex",alignItems:"center"},avatarContainer:Object(at.a)({display:"flex",alignItems:"center",justifyContent:"center",background:"black",position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:1},e.breakpoints.down("sm"),{"& svg":{transform:"scale(0.7)"}})}}));function Bn(e){var t=e.identity,n=Fn(),i=jn().localTracks.find((function(e){return e.name.includes("camera")}));return Object(g.jsxs)("div",{className:n.container,children:[Object(g.jsx)("div",{className:n.innerContainer,children:i?Object(g.jsx)(_t,{track:i,isLocal:!0}):Object(g.jsx)("div",{className:n.avatarContainer,children:Object(g.jsx)(pt,{})})}),Object(g.jsx)("div",{className:n.identityContainer,children:Object(g.jsxs)("span",{className:n.identity,children:[Object(g.jsx)(In,{}),Object(g.jsx)(At.a,{variant:"body1",color:"inherit",component:"span",children:t})]})})]})}var Pn=n(338),Mn=n(661),zn=n(331),Rn=n.n(zn),Wn=n(634),Vn=n(652),Hn=n(628),Un=n(626),Zn=n(627),Jn=n(624),Yn=n(625),qn=n(330);var Qn=function(e){var t=e.open,n=e.onClose;return Object(g.jsxs)(Vn.a,{open:t,onClose:n,fullWidth:!0,maxWidth:"xs",children:[Object(g.jsx)(Jn.a,{children:"About"}),Object(g.jsx)(Yn.a,{}),Object(g.jsxs)(Un.a,{children:[Object(g.jsxs)(Zn.a,{children:["Browser supported: ",String(ln.a.isSupported)]}),Object(g.jsxs)(Zn.a,{children:["SDK Version: ",ln.a.version]}),Object(g.jsxs)(Zn.a,{children:["App Version: ",qn.a]}),Object(g.jsxs)(Zn.a,{children:["Deployed Tag: ",Object({NODE_ENV:"production",PUBLIC_URL:"/edugaze-fe",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_GIT_TAG||"N/A"]}),Object(g.jsxs)(Zn.a,{children:["Deployed Commit Hash: ",Object({NODE_ENV:"production",PUBLIC_URL:"/edugaze-fe",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_GIT_COMMIT||"N/A"]})]}),Object(g.jsx)(Yn.a,{}),Object(g.jsx)(Hn.a,{children:Object(g.jsx)(Dn.a,{onClick:n,color:"primary",variant:"contained",autoFocus:!0,children:"OK"})})]})},Gn=n(631),Kn=n(647);function Xn(){var e=qt().audioInputDevices,t=jn().localTracks.find((function(e){return"audio"===e.kind})),n=jt(t),i=null===n||void 0===n?void 0:n.getSettings().deviceId;return Object(g.jsxs)("div",{children:[Object(g.jsx)(At.a,{variant:"subtitle2",gutterBottom:!0,children:"Audio Input"}),Object(g.jsxs)(Tn.a,{container:!0,alignItems:"center",justify:"space-between",children:[Object(g.jsx)("div",{className:"inputSelect",children:e.length>1?Object(g.jsx)(Gn.a,{fullWidth:!0,children:Object(g.jsx)(Kn.a,{onChange:function(e){return n=e.target.value,window.localStorage.setItem(Pt,n),void(null===t||void 0===t||t.restart({deviceId:{exact:n}}));var n},value:i||"",variant:"outlined",children:e.map((function(e){return Object(g.jsx)(Mn.a,{value:e.deviceId,children:e.label},e.deviceId)}))})}):Object(g.jsx)(At.a,{children:(null===t||void 0===t?void 0:t.mediaStreamTrack.label)||"No Local Audio"})}),Object(g.jsx)(xt,{audioTrack:t,color:"black"})]})]})}function _n(){var e,t=qt().audioOutputDevices,n=Qt(),i=Object(j.a)(n,2),r=i[0],c=i[1],a=null===(e=t.find((function(e){return e.deviceId===r})))||void 0===e?void 0:e.label;return Object(g.jsx)("div",{className:"inputSelect",children:t.length>1?Object(g.jsxs)(Gn.a,{fullWidth:!0,children:[Object(g.jsx)(At.a,{variant:"subtitle2",gutterBottom:!0,children:"Audio Output"}),Object(g.jsx)(Kn.a,{onChange:function(e){return c(e.target.value)},value:r,variant:"outlined",children:t.map((function(e){return Object(g.jsx)(Mn.a,{value:e.deviceId,children:e.label},e.deviceId)}))})]}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(At.a,{variant:"subtitle2",children:"Audio Output"}),Object(g.jsx)(At.a,{children:a||"System Default Audio Output"})]})})}var $n=Object(st.a)({preview:{width:"300px",maxHeight:"200px",margin:"0.5em auto","& video":{maxHeight:"200px"}}});function ei(){var e=$n(),t=qt().videoInputDevices,n=jn().localTracks.find((function(e){return"video"===e.kind})),r=jt(n),c=Object(i.useState)(window.localStorage.getItem(zt)),a=Object(j.a)(c,2),o=a[0],s=a[1],l=(null===r||void 0===r?void 0:r.getSettings().deviceId)||o;return Object(g.jsxs)("div",{children:[n&&Object(g.jsx)("div",{className:e.preview,children:Object(g.jsx)(_t,{isLocal:!0,track:n})}),t.length>1?Object(g.jsxs)(Gn.a,{fullWidth:!0,children:[Object(g.jsx)(At.a,{variant:"subtitle2",gutterBottom:!0,children:"Video Input"}),Object(g.jsx)(Kn.a,{onChange:function(e){return t=e.target.value,s(t),window.localStorage.setItem(zt,t),void(null===n||void 0===n||n.restart(Object(p.a)(Object(p.a)({},Bt),{},{deviceId:{exact:t}})));var t},value:l||"",variant:"outlined",children:t.map((function(e){return Object(g.jsx)(Mn.a,{value:e.deviceId,children:e.label},e.deviceId)}))})]}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(At.a,{variant:"subtitle2",gutterBottom:!0,children:"Video Input"}),Object(g.jsx)(At.a,{children:(null===n||void 0===n?void 0:n.mediaStreamTrack.label)||"No Local Video"})]})]})}var ti=Object(st.a)((function(e){var t;return{container:(t={width:"600px",minHeight:"400px"},Object(at.a)(t,e.breakpoints.down("xs"),{width:"calc(100vw - 32px)"}),Object(at.a)(t,"& .inputSelect",{width:"calc(100% - 35px)"}),t),button:{float:"right"},paper:Object(at.a)({},e.breakpoints.down("xs"),{margin:"16px"}),headline:{marginBottom:"1.3em",fontSize:"1.1rem"},listSection:{margin:"2em 0 0.8em","&:first-child":{margin:"1em 0 2em 0"}}}}));function ni(e){var t=e.open,n=e.onClose,i=ti();return Object(g.jsxs)(Vn.a,{open:t,onClose:n,classes:{paper:i.paper},children:[Object(g.jsx)(Jn.a,{children:"Audio and Video Settings"}),Object(g.jsx)(Yn.a,{}),Object(g.jsxs)(Un.a,{className:i.container,children:[Object(g.jsxs)("div",{className:i.listSection,children:[Object(g.jsx)(At.a,{variant:"h6",className:i.headline,children:"Video"}),Object(g.jsx)(ei,{})]}),Object(g.jsx)(Yn.a,{}),Object(g.jsxs)("div",{className:i.listSection,children:[Object(g.jsx)(At.a,{variant:"h6",className:i.headline,children:"Audio"}),Object(g.jsx)(Xn,{})]}),Object(g.jsx)("div",{className:i.listSection,children:Object(g.jsx)(_n,{})})]}),Object(g.jsx)(Yn.a,{}),Object(g.jsx)(Hn.a,{children:Object(g.jsx)(Dn.a,{color:"primary",variant:"contained",className:i.button,onClick:n,children:"Done"})})]})}function ii(){return Object(g.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(g.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.774 14.14L16.3413 13.2506C16.3286 13.2244 16.3173 13.1974 16.3075 13.17C16.1465 12.7274 16.3736 12.2377 16.8155 12.0749L17.7467 11.7347C18.5055 11.4566 19.0077 10.7311 19.0011 9.92278C18.9944 9.11441 18.4804 8.39788 17.7172 8.13314L16.7859 7.81039C16.758 7.80094 16.7306 7.7894 16.7056 7.77843C16.2794 7.57999 16.0942 7.07384 16.2915 6.64668L16.7082 5.74887C17.049 5.01563 16.8921 4.14738 16.3163 3.58049C15.7405 3.0136 14.8703 2.87065 14.1431 3.2235L13.246 3.65462C13.2199 3.66744 13.1931 3.67882 13.1658 3.68869C12.954 3.76821 12.7189 3.75812 12.5148 3.66073C12.3097 3.56606 12.1511 3.39306 12.0746 3.18044L12.0741 3.17844L11.7334 2.25081C11.4547 1.49408 10.7313 0.994061 9.92513 1.00105C9.119 1.00804 8.40369 1.52053 8.13727 2.28199L7.8091 3.22223C7.79964 3.25006 7.78863 3.27733 7.7761 3.30391C7.57656 3.73058 7.06934 3.91499 6.64288 3.71592L5.74485 3.29868C5.01263 2.96105 4.14713 3.11998 3.58195 3.69585C3.01677 4.27171 2.87367 5.14046 3.22434 5.86685L3.65571 6.76067C3.66851 6.78686 3.67999 6.81368 3.69009 6.84103C3.85069 7.28399 3.62314 7.77372 3.18105 7.9366L2.25109 8.27683C1.74395 8.46368 1.33939 8.85649 1.13749 9.3581C0.935598 9.8597 0.955223 10.4232 1.19151 10.9093C1.41059 11.3666 1.80499 11.7159 2.28525 11.878L3.21579 12.2005C3.24614 12.2114 3.27565 12.2233 3.30063 12.2343C3.72728 12.4329 3.91226 12.9399 3.7139 13.3671L3.29483 14.2675C3.07772 14.742 3.06371 15.2845 3.25603 15.7693C3.44835 16.2542 3.83032 16.6393 4.31342 16.8354C4.34216 16.847 4.3712 16.8578 4.40056 16.8679C4.87879 17.0366 5.40471 17.0069 5.86112 16.7853L6.75557 16.3531C6.78218 16.3402 6.81093 16.3286 6.8356 16.3194C7.04851 16.2445 7.282 16.2542 7.48788 16.3465C7.6933 16.4413 7.85223 16.6144 7.92922 16.8273L8.27064 17.7606C8.55155 18.5147 9.27456 19.0117 10.079 19.0036C10.8834 18.9955 11.5969 18.4841 11.8635 17.7245L12.1864 16.7928C12.1968 16.7627 12.2087 16.7332 12.2201 16.7083C12.4211 16.2836 12.9258 16.099 13.3529 16.2939L14.2494 16.7105C14.9825 17.0512 15.8508 16.8933 16.4177 16.3161C16.9845 15.7389 17.1272 14.8675 16.774 14.14ZM15.4272 15.7438C15.1965 15.8557 14.9279 15.8582 14.6953 15.7505L13.7992 15.334C13.3395 15.1185 12.8127 15.0956 12.3358 15.2705C11.8589 15.4453 11.4714 15.8035 11.2594 16.2653C11.2334 16.3231 11.21 16.381 11.1879 16.4434L10.8648 17.3755C10.7896 17.5889 10.6327 17.7637 10.4286 17.8613C10.2245 17.959 9.9901 17.9714 9.77695 17.8959C9.53792 17.8159 9.34868 17.6308 9.26323 17.3935L8.92318 16.4634C8.74891 15.9867 8.39229 15.5989 7.93192 15.3856C7.47155 15.1724 6.94522 15.1511 6.46891 15.3264C6.40896 15.349 6.35008 15.3734 6.29456 15.4005L5.4017 15.832C5.198 15.9306 4.96337 15.9438 4.75003 15.8685C4.53569 15.7956 4.36017 15.6387 4.26376 15.4338C4.15381 15.2059 4.15081 14.9409 4.25558 14.7105L4.6727 13.8138C4.88722 13.3534 4.9098 12.8267 4.73547 12.3499C4.56113 11.8731 4.20422 11.4855 3.74357 11.2726C3.71568 11.26 3.68725 11.2477 3.65813 11.2359C3.62824 11.2238 3.59766 11.2124 3.56562 11.2012L2.6307 10.8774C2.29028 10.7597 2.06067 10.4405 2.0571 10.0801C2.05353 9.71966 2.27677 9.39575 2.61479 9.2709L3.54421 8.93088C4.05237 8.74551 4.45826 8.35329 4.66113 7.8516C4.864 7.34991 4.8448 6.7858 4.60832 6.29933L4.17719 5.40605C4.0208 5.08228 4.08434 4.69501 4.33601 4.43805C4.58769 4.18109 4.97337 4.1097 5.30004 4.2596L6.19629 4.67569C6.65433 4.89215 7.1799 4.91661 7.65626 4.74364C8.13263 4.57067 8.52036 4.21458 8.73335 3.75445C8.7625 3.69314 8.78809 3.6302 8.80997 3.56594L9.13622 2.6316C9.29214 2.18707 9.77837 1.95273 10.2227 2.10793C10.4645 2.18868 10.6555 2.37645 10.7405 2.61689L11.0804 3.54291C11.2533 4.01887 11.6082 4.40647 12.067 4.62043C12.5257 4.83438 13.0507 4.85716 13.5265 4.68374C13.5885 4.66176 13.6492 4.63608 13.7082 4.60683L14.6033 4.17624C14.8065 4.07688 15.0408 4.06283 15.2542 4.13722C15.4693 4.20945 15.6456 4.36621 15.7425 4.57137C15.8549 4.80183 15.8573 5.07079 15.749 5.30333L15.3321 6.20153C15.1187 6.66179 15.0968 7.18798 15.2714 7.66415C15.446 8.14033 15.8026 8.52742 16.2627 8.74013C16.3185 8.76535 16.3747 8.78849 16.4369 8.81002L17.3702 9.13315C17.7106 9.2515 17.9398 9.57117 17.9428 9.93176C17.9458 10.2924 17.722 10.6161 17.3836 10.7405L16.4524 11.0806C15.4631 11.4445 14.9535 12.54 15.3125 13.5312C15.335 13.5933 15.3607 13.6541 15.3895 13.7135L15.8224 14.6035C15.9214 14.807 15.9353 15.0416 15.8612 15.2555C15.787 15.4694 15.6309 15.6451 15.4272 15.7438L15.4272 15.7438ZM11.3877 6.5684C9.49155 5.80233 7.33291 6.71966 6.5662 8.61733C5.79949 10.515 6.71505 12.6744 8.61116 13.4405C10.5073 14.2065 12.6659 13.2892 13.4326 11.3915C14.197 9.49389 13.2821 7.33617 11.3877 6.5684ZM9.00779 12.4587C7.65343 11.9115 6.99946 10.3691 7.54711 9.01364C8.09476 7.65816 9.63664 7.00292 10.991 7.55012C12.3454 8.09732 12.9993 9.63974 12.4517 10.9952C11.9028 12.3495 10.3621 13.0042 9.00779 12.4587Z",fill:"#606B85"})})}var ri=Object(st.a)({settingsButton:{margin:"1.8em 0 0"}});function ci(e){var t=e.mobileButtonClass,n=ri(),r=Object(Wn.a)((function(e){return e.breakpoints.down("sm")})),c=Object(i.useState)(!1),a=Object(j.a)(c,2),o=a[0],s=a[1],l=Object(i.useState)(!1),d=Object(j.a)(l,2),u=d[0],b=d[1],f=Object(i.useState)(!1),h=Object(j.a)(f,2),O=h[0],m=h[1],x=Object(i.useState)(!1),p=Object(j.a)(x,2)[1],v=Object(i.useRef)(null);return Object(g.jsxs)(g.Fragment,{children:[r?Object(g.jsx)(Dn.a,{ref:v,onClick:function(){return s(!0)},startIcon:Object(g.jsx)(Rn.a,{}),className:t,children:"More"}):Object(g.jsx)(Dn.a,{ref:v,onClick:function(){return s(!0)},startIcon:Object(g.jsx)(ii,{}),className:n.settingsButton,children:"Settings"}),Object(g.jsxs)(Pn.a,{open:o,onClose:function(){return s((function(e){return!e}))},anchorEl:v.current,getContentAnchorEl:null,anchorOrigin:{vertical:"top",horizontal:r?"left":"right"},transformOrigin:{vertical:0,horizontal:"center"},children:[Object(g.jsx)(Mn.a,{onClick:function(){return b(!0)},children:Object(g.jsx)(At.a,{variant:"body1",children:"About"})}),Object(g.jsx)(Mn.a,{onClick:function(){return m(!0)},children:Object(g.jsx)(At.a,{variant:"body1",children:"Audio and Video Settings"})}),Object(g.jsx)(Mn.a,{onClick:function(){return p(!0)},children:Object(g.jsx)(At.a,{variant:"body1",children:"Connection Settings"})})]}),Object(g.jsx)(Qn,{open:u,onClose:function(){b(!1),s(!1)}}),Object(g.jsx)(ni,{open:O,onClose:function(){m(!1),s(!1)}})]})}function ai(){return Object(g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"17",viewBox:"0 0 12 17",children:Object(g.jsx)("path",{fill:"#707578",fillRule:"evenodd",d:"M11.389 6.667c.276 0 .5.224.5.5 0 3.114-2.396 5.67-5.445 5.923v2.632c0 .276-.223.5-.5.5-.245 0-.45-.177-.491-.41l-.009-.09V13.09C2.395 12.836 0 10.281 0 7.167c0-.276.224-.5.5-.5s.5.224.5.5c0 2.73 2.214 4.944 4.944 4.944 2.731 0 4.945-2.214 4.945-4.944 0-.276.224-.5.5-.5zM5.944 0C7.51 0 8.778 1.268 8.778 2.833v4.334C8.778 8.73 7.51 10 5.944 10 4.38 10 3.111 8.73 3.111 7.167V2.833C3.111 1.268 4.38 0 5.944 0zm0 1c-1.012 0-1.833.82-1.833 1.833v4.334C4.111 8.179 4.933 9 5.944 9c1.013 0 1.834-.82 1.834-1.833V2.833C7.778 1.82 6.958 1 5.944 1z"})})}function oi(){return Object(g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"24",viewBox:"0 0 25 24",children:Object(g.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[Object(g.jsx)("path",{fill:"#707578",d:"M11.889 6.667c.276 0 .5.224.5.5 0 3.114-2.396 5.67-5.445 5.923v2.632c0 .276-.223.5-.5.5-.245 0-.45-.177-.491-.41l-.009-.09V13.09c-1.116-.093-2.145-.494-3-1.119l.717-.717c.793.54 1.751.857 2.783.857 2.731 0 4.945-2.214 4.945-4.944 0-.276.224-.5.5-.5zM1 6.667c.276 0 .5.224.5.5 0 .975.282 1.884.77 2.65l-.722.721C.888 9.58.5 8.418.5 7.167c0-.276.224-.5.5-.5zm8.277-1.031v1.53C9.278 8.732 8.01 10 6.445 10c-.446 0-.868-.103-1.243-.287l.776-.773c.149.039.306.06.467.06.963 0 1.751-.74 1.828-1.683l.006-.15v-.531l1-1zM6.444 0C8.01 0 9.278 1.268 9.278 2.833l-.002-.025-.999.999v-.974c0-.962-.74-1.75-1.682-1.827L6.445 1c-.962 0-1.751.74-1.828 1.683l-.006.15v4.334c0 .097.008.192.022.285l-.804.805c-.112-.269-.184-.558-.209-.86l-.009-.23V2.833C3.611 1.268 4.88 0 6.444 0z",transform:"translate(6.5 4)"}),Object(g.jsx)("path",{fill:"red",d:"M12.146.646c.196-.195.512-.195.708 0 .173.174.192.443.057.638l-.057.07-12 12c-.196.195-.512.195-.708 0-.173-.174-.192-.443-.057-.638l.057-.07 12-12z",transform:"translate(6.5 4)"})]})})}function si(e){var t=function(){var e=jn().localTracks.find((function(e){return"audio"===e.kind}));return[ut(e),Object(i.useCallback)((function(){e&&(e.isEnabled?e.disable():e.enable())}),[e])]}(),n=Object(j.a)(t,2),r=n[0],c=n[1],a=jn().localTracks.some((function(e){return"audio"===e.kind}));return Object(g.jsx)(Dn.a,{className:e.className,onClick:c,disabled:!a||e.disabled,startIcon:r?Object(g.jsx)(ai,{}):Object(g.jsx)(oi,{}),"data-cy-audio-toggle":!0,children:a?r?"Mute":"Unmute":"No Audio"})}function li(){return Object(g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(g.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[Object(g.jsx)("path",{fill:"#707578",d:"M10.503.85c.32 0 .611.125.827.329l-.696.697c-.025-.018-.053-.032-.084-.038l-.047-.006H1.207c-.102 0-.19.071-.216.165l-.008.059v7.866c0 .101.07.189.165.215l.059.008h1.156l-.983.983h-.173c-.624 0-1.139-.476-1.2-1.083L0 9.922V2.056C0 1.433.476.917 1.084.856l.123-.007h9.296zm5.49 1.124l.007.082v7.866c0 .337-.328.566-.635.47l-.076-.03-3.58-1.79v1.35c0 .623-.476 1.138-1.083 1.2l-.123.006H4.16l.984-.983h5.359c.101 0 .189-.07.215-.164l.008-.06V4.564l.983-.982.353-.353 3.227-1.612c.301-.15.652.04.704.358zm-.977.876L11.71 4.504v2.967l3.307 1.654V2.85z",transform:"translate(4 6)"}),Object(g.jsx)("path",{fill:"red",fillRule:"nonzero",d:"M13.06.144c.192-.192.503-.192.695 0 .171.17.19.436.057.627l-.057.068-12.29 12.29c-.192.193-.503.193-.695 0-.171-.17-.19-.435-.057-.626l.057-.069L13.06.144z",transform:"translate(4 6)"})]})})}function di(){return Object(g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"24",viewBox:"0 0 25 24",children:Object(g.jsx)("path",{fill:"#707578",fillRule:"evenodd",d:"M15.003 7c.665 0 1.206.542 1.206 1.207v1.349l3.58-1.789c.301-.15.652.04.704.358l.007.082v7.866c0 .365-.385.603-.711.44l-3.58-1.79v1.35c0 .623-.476 1.138-1.083 1.2l-.123.006H5.707c-.665 0-1.207-.542-1.207-1.206V8.207C4.5 7.542 5.042 7 5.707 7zm0 .983H5.707c-.122 0-.224.102-.224.224v7.866c0 .121.102.223.224.223h9.296c.122 0 .223-.102.223-.223V8.207c0-.122-.101-.224-.223-.224zm4.513 1.019l-3.307 1.654v2.968l3.307 1.653V9.002z"})})}function ui(e){var t=an(),n=Object(j.a)(t,2),r=n[0],c=n[1],a=Object(i.useRef)(0),o=qt().hasVideoInputDevices,s=Object(i.useCallback)((function(){Date.now()-a.current>500&&(a.current=Date.now(),c())}),[c]);return Object(g.jsx)(Dn.a,{className:e.className,onClick:s,disabled:!o||e.disabled,startIcon:r?Object(g.jsx)(di,{}):Object(g.jsx)(li,{}),children:o?r?"Stop Video":"Start Video":"No Video"})}var ji=Object(st.a)((function(e){return{gutterBottom:{marginBottom:"1em"},marginTop:{marginTop:"1em"},deviceButton:{width:"100%",border:"2px solid #aaa",margin:"1em 0"},localPreviewContainer:Object(at.a)({paddingRight:"2em"},e.breakpoints.down("sm"),{padding:"0 2.5em"}),joinButtons:Object(at.a)({display:"flex",justifyContent:"space-between"},e.breakpoints.down("sm"),{flexDirection:"column-reverse",width:"100%","& button":{margin:"0.5em 0"}}),mobileButtonBar:Object(at.a)({},e.breakpoints.down("sm"),{display:"flex",justifyContent:"space-between",margin:"1.5em 0 1em"}),mobileButton:{padding:"0.8em 0",margin:0}}}));function bi(e){var t=e.name,n=e.roomName,i=e.setStep,r=e.token,c=e.isFetching,a=ji(),o=jn(),s=o.connect,l=o.isAcquiringLocalTracks,d=o.isConnecting,u=c||l||d;return c||d?Object(g.jsxs)(Tn.a,{container:!0,justify:"center",alignItems:"center",direction:"column",style:{height:"100%"},children:[Object(g.jsx)("div",{children:Object(g.jsx)(Nn.a,{variant:"indeterminate"})}),Object(g.jsx)("div",{children:Object(g.jsx)(At.a,{variant:"body2",style:{fontWeight:"bold",fontSize:"16px"},children:"Joining Meeting"})})]}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(At.a,{variant:"h5",className:a.gutterBottom,children:["Join ",n]}),Object(g.jsxs)(Tn.a,{container:!0,justify:"center",children:[Object(g.jsxs)(Tn.a,{item:!0,md:7,sm:12,xs:12,children:[Object(g.jsx)("div",{className:a.localPreviewContainer,children:Object(g.jsx)(Bn,{identity:t})}),Object(g.jsxs)("div",{className:a.mobileButtonBar,children:[Object(g.jsxs)(Ln.a,{mdUp:!0,children:[Object(g.jsx)(si,{className:a.mobileButton,disabled:u}),Object(g.jsx)(ui,{className:a.mobileButton,disabled:u})]}),Object(g.jsx)(ci,{mobileButtonClass:a.mobileButton})]})]}),Object(g.jsx)(Tn.a,{item:!0,md:5,sm:12,xs:12,children:Object(g.jsxs)(Tn.a,{container:!0,direction:"column",justify:"space-between",style:{height:"100%"},children:[Object(g.jsx)("div",{children:Object(g.jsxs)(Ln.a,{smDown:!0,children:[Object(g.jsx)(si,{className:a.deviceButton,disabled:u}),Object(g.jsx)(ui,{className:a.deviceButton,disabled:u})]})}),Object(g.jsxs)("div",{className:a.joinButtons,children:[Object(g.jsx)(Dn.a,{variant:"outlined",color:"primary",onClick:function(){return i(Si.roomNameStep)},children:"Cancel"}),Object(g.jsx)(Dn.a,{variant:"contained",color:"primary","data-cy-join-now":!0,onClick:function(){s(r)},disabled:u,children:"Join Now"})]})]})})]})]})}var fi=n(332),hi=n.n(fi);function Oi(){return Object(g.jsx)("svg",{width:"14px",height:"14px",viewBox:"0 0 14 14",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:Object(g.jsx)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(g.jsx)("g",{transform:"translate(-299.000000, -723.000000)",fill:"#D61F1F",children:Object(g.jsx)("g",{transform:"translate(276.000000, 704.000000)",children:Object(g.jsx)("g",{transform:"translate(23.000000, 19.000000)",children:Object(g.jsx)("path",{d:"M8.03935839,0.763849674 L13.2361503,5.96064161 C13.8101721,6.5346634 13.8101721,7.4653366 13.2361503,8.03935839 L8.03935839,13.2361503 C7.4653366,13.8101721 6.5346634,13.8101721 5.96064161,13.2361503 L0.763849674,8.03935839 C0.189827887,7.4653366 0.189827887,6.5346634 0.763849674,5.96064161 L5.96064161,0.763849674 C6.5346634,0.189827887 7.4653366,0.189827887 8.03935839,0.763849674 Z M7,8.66666667 C6.53976271,8.66666667 6.16666667,9.03976271 6.16666667,9.5 C6.16666667,9.96023729 6.53976271,10.3333333 7,10.3333333 C7.46023729,10.3333333 7.83333333,9.96023729 7.83333333,9.5 C7.83333333,9.03976271 7.46023729,8.66666667 7,8.66666667 Z M7.00842529,4.5 L6.99145559,4.5 C6.48802096,4.5 6.09771771,4.99363437 6.17690967,5.53663218 L6.53327351,7.40140326 C6.56721292,7.64822044 6.76519283,7.83333333 6.99711216,7.83333333 L7.00276873,7.83333333 C7.23468805,7.83333333 7.43266796,7.64822044 7.46660737,7.40140326 L7.82297121,5.53663218 C7.90216317,4.99363437 7.51751649,4.50617043 7.00842529,4.5 Z",id:"Error"})})})})})})}var mi=n(636),xi=n(653);function pi(){return Object(g.jsx)("svg",{width:"16px",height:"14px",viewBox:"0 0 16 14",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:Object(g.jsx)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(g.jsx)("g",{transform:"translate(-273.000000, -162.000000)",fill:"#E46216",children:Object(g.jsx)("g",{transform:"translate(251.000000, 143.000000)",children:Object(g.jsx)("g",{transform:"translate(22.000000, 19.000000)",children:Object(g.jsx)("path",{d:"M6.68405227,0.743750848 C7.26590697,-0.247916949 8.73410873,-0.247916949 9.31596344,0.743750848 L9.31596344,0.743750848 L15.7980583,11.7915293 C16.3754418,12.775573 15.6458879,14 14.4821027,14 L14.4821027,14 L1.5178827,14 C0.354135396,14 -0.375441293,12.775573 0.201934693,11.7915293 L0.201934693,11.7915293 Z M8,10 C7.44771525,10 7,10.4477153 7,11 C7,11.5522847 7.44771525,12 8,12 C8.55228475,12 9,11.5522847 9,11 C9,10.4477153 8.55228475,10 8,10 Z M8.01011035,5 L7.98974671,5 L7.87816923,5.00681158 C7.32928042,5.07427655 6.92320065,5.63308608 7.01229161,6.24395862 L7.01229161,6.24395862 L7.43992821,8.48168391 L7.46058982,8.57746523 C7.53403676,8.82448556 7.74990819,9 8.00332247,9 L8.00332247,9 L8.09436762,8.9919759 C8.33199007,8.94972242 8.5237268,8.74495557 8.55992884,8.48168391 L8.55992884,8.48168391 L8.98756545,6.24395862 L8.99896034,6.12268979 C9.02431547,5.52149772 8.58283795,5.00694173 8.01011035,5 L8.01011035,5 Z"})})})})})})}function vi(){return Object(g.jsx)("svg",{width:"20px",height:"20px",viewBox:"0 0 20 20",children:Object(g.jsx)("path",{fill:"#0263e0",fillRule:"evenodd",d:"M10 2a8 8 0 110 16 8 8 0 010-16zm0 7c-.26.01-.528.08-.707.24-.178.158-.292.355-.292.575v3.37c0 .21.11.428.292.577.173.14.457.247.707.237.26-.008.528-.078.707-.237.178-.16.292-.355.292-.577v-3.37a.766.766 0 00-.292-.575A1.14 1.14 0 0010 9zm0-3l-.266.036c-.17.047-.318.131-.441.253l-.156.198A.958.958 0 009 6.98v.04a.728.728 0 00.086.378c.04.121.108.227.206.315.09.094.197.163.321.202.12.06.248.09.386.084l.266-.035c.17-.047.318-.131.441-.253l.156-.198A.958.958 0 0011 7.02v-.04a.728.728 0 00-.086-.378.721.721 0 00-.206-.315.757.757 0 00-.321-.202.767.767 0 00-.386-.084z"})})}var gi=Object(st.a)((function(e){return{container:Object(at.a)({display:"flex",justifyContent:"space-between",width:"400px",minHeight:"50px",background:"white",padding:"1em",borderRadius:"3px",boxShadow:"0 12px 24px 4px rgba(40,42,43,0.2)"},e.breakpoints.down("sm"),{width:"100%"}),contentContainer:{display:"flex",lineHeight:1.8},iconContainer:{display:"flex",padding:"0 1.3em 0 0.3em",transform:"translateY(3px)"},headline:{fontWeight:"bold"},error:{borderLeft:"4px solid #D61F1F"},warning:{borderLeft:"4px solid #E46216"},info:{borderLeft:"4px solid #0263e0"}}}));function wi(e){var t,n=e.headline,i=e.message,r=e.variant,c=e.open,a=e.handleClose,o=gi();return Object(g.jsx)(xi.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:c,onClose:function(e,t){"clickaway"!==t&&(null===a||void 0===a||a())},autoHideDuration:1e4,children:Object(g.jsxs)("div",{className:Object(ot.a)(o.container,(t={},Object(at.a)(t,o.error,"error"===r),Object(at.a)(t,o.warning,"warning"===r),Object(at.a)(t,o.info,"info"===r),t)),children:[Object(g.jsxs)("div",{className:o.contentContainer,children:[Object(g.jsxs)("div",{className:o.iconContainer,children:["warning"===r&&Object(g.jsx)(pi,{}),"error"===r&&Object(g.jsx)(Oi,{}),"info"===r&&Object(g.jsx)(vi,{})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)(At.a,{variant:"body1",className:o.headline,component:"span",children:n}),Object(g.jsxs)(At.a,{variant:"body1",component:"span",children:[" ",i]})]})]}),Object(g.jsx)("div",{children:a&&Object(g.jsx)(mi.a,{size:"small","aria-label":"close",color:"inherit",onClick:a,children:Object(g.jsx)(hi.a,{fontSize:"small"})})})]})})}function Ci(e){var t=e.error,n=qt(),r=n.hasAudioInputDevices,c=n.hasVideoInputDevices,a=jn().isAcquiringLocalTracks,o=Object(i.useState)(!1),s=Object(j.a)(o,2),l=s[0],d=s[1],u=!l&&!a&&(Boolean(t)||!r||!c),b=function(e,t,n){var i="",r="";switch(!0){case"CameraPermissionsDenied"===(null===n||void 0===n?void 0:n.message):i="Unable to Access Media:",r="The user has denied permission to use video. Please grant permission to the browser to access the camera.";break;case"MicrophonePermissionsDenied"===(null===n||void 0===n?void 0:n.message):i="Unable to Access Media:",r="The user has denied permission to use audio. Please grant permission to the browser to access the microphone.";break;case"NotAllowedError"===(null===n||void 0===n?void 0:n.name):i="Unable to Access Media:",r="Permission denied by system"===n.message?"The operating system has blocked the browser from accessing the microphone or camera. Please check your operating system settings.":"The user has denied permission to use audio and video. Please grant permission to the browser to access the microphone and camera.";break;case"NotFoundError"===(null===n||void 0===n?void 0:n.name):i="Cannot Find Microphone or Camera:",r="The browser cannot access the microphone or camera. Please make sure all input devices are connected and enabled.";break;case Boolean(n):i="Error Acquiring Media:",r="".concat(n.name," ").concat(n.message);break;case!e&&!t:i="No Camera or Microphone Detected:",r="Other participants in the room will be unable to see and hear you.";break;case!t:i="No Camera Detected:",r="Other participants in the room will be unable to see you.";break;case!e:i="No Microphone Detected:",r="Other participants in the room will be unable to hear you."}return{headline:i,message:r}}(r,c,t),f=b.headline,h=b.message;return Object(g.jsx)(wi,{open:u,handleClose:function(){return d(!0)},headline:f,message:h,variant:"warning"})}var Si,ki=n(662),yi=n(663),Ai=Object(st.a)((function(e){return{gutterBottom:{marginBottom:"1em"},inputContainer:Object(at.a)({display:"flex",justifyContent:"space-between",margin:"1.5em 0 3.5em","& div:not(:last-child)":{marginRight:"1em"}},e.breakpoints.down("sm"),{margin:"1.5em 0 2em"}),textFieldContainer:{width:"100%"},continueButton:Object(at.a)({},e.breakpoints.down("sm"),{width:"100%"})}}));function Ei(e){var t=e.name,n=e.roomName,i=e.setName,r=e.setRoomName,c=e.handleSubmit,a=Ai(),o=!!K().data;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(At.a,{variant:"h5",className:a.gutterBottom,children:"Join a Room"}),Object(g.jsx)(At.a,{variant:"body1",children:o?"Enter the name of a room you'd like to join.":"Enter your name and the name of a room you'd like to join"}),Object(g.jsxs)("form",{onSubmit:c,children:[Object(g.jsxs)("div",{className:a.inputContainer,children:[!o&&Object(g.jsxs)("div",{className:a.textFieldContainer,children:[Object(g.jsx)(ki.a,{shrink:!0,htmlFor:"input-user-name",children:"Your Name"}),Object(g.jsx)(yi.a,{id:"input-user-name",variant:"outlined",fullWidth:!0,size:"small",value:t,onChange:function(e){i(e.target.value)}})]}),Object(g.jsxs)("div",{className:a.textFieldContainer,children:[Object(g.jsx)(ki.a,{shrink:!0,htmlFor:"input-room-name",children:"Room Name"}),Object(g.jsx)(yi.a,{autoCapitalize:"false",id:"input-room-name",variant:"outlined",fullWidth:!0,size:"small",value:n,onChange:function(e){r(e.target.value)}})]})]}),Object(g.jsx)(Tn.a,{container:!0,justify:"flex-end",children:Object(g.jsx)(Dn.a,{variant:"contained",type:"submit",color:"primary",disabled:!t||!n,className:a.continueButton,children:"Continue"})})]})]})}function Ti(e){var t=e.isFetching,n=e.token,r=jn().getAudioAndVideoTracks,c="room-gdeda",a=Object(i.useState)(Si.roomNameStep),o=Object(j.a)(a,2),s=o[0],l=o[1],d=K().data,u=Object(i.useState)((null===d||void 0===d?void 0:d.username)||""),b=Object(j.a)(u,2),f=b[0],h=b[1],O=Object(i.useState)(""),m=Object(j.a)(O,2),x=m[0],p=m[1],v=Object(i.useState)(),w=Object(j.a)(v,2),C=w[0],S=w[1];Object(i.useEffect)((function(){p(c),(null===d||void 0===d?void 0:d.username)&&l(Si.deviceSelectionStep)}),[c,null===d||void 0===d?void 0:d.username]),Object(i.useEffect)((function(){s!==Si.deviceSelectionStep||C||r().catch((function(e){console.log("Error acquiring local media:"),console.dir(e),S(e)}))}),[r,s,C]);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Ci,{error:C}),s===Si.roomNameStep&&Object(g.jsx)(Ei,{name:f,roomName:x,setName:h,setRoomName:p,handleSubmit:function(e){e.preventDefault(),window.location.origin.includes("twil.io")||window.history.replaceState(null,"",window.encodeURI("/room/".concat(x).concat(window.location.search||""))),l(Si.deviceSelectionStep)}}),s===Si.deviceSelectionStep&&Object(g.jsx)(bi,{isFetching:t,token:n,name:f,roomName:x,setStep:l})]})}!function(e){e[e.roomNameStep=0]="roomNameStep",e[e.deviceSelectionStep=1]="deviceSelectionStep"}(Si||(Si={}));var Li=n(196),Di=n(334),Ni=n(333),Ii=n.n(Ni)()("http://134.209.132.84:4004/");function Fi(){var e=Object(ye.g)().id,t=Object(i.useState)(""),n=Object(j.a)(t,2),r=n[0],c=n[1],a=Object(Di.useDebounce)(r,250)[0],o=K().data,s=Object(i.useRef)(null),l=Object(i.useRef)();return Object(i.useEffect)((function(){if(s){Ii.emit("join",{meeting:e,username:o.username});var t=s.current;return navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){t.srcObject=e,t.play()})),t.addEventListener("playing",n),function(){t.removeEventListener("playing",n)}}function n(){function e(){return t.apply(this,arguments)}function t(){return(t=Object(b.a)(u.a.mark((function t(){var n,i,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Li.a(s.current).withFaceExpressions();case 2:(null===(n=t.sent)||void 0===n?void 0:n.expressions)&&(i=Math.max.apply(null,Object.values(null===n||void 0===n?void 0:n.expressions)),r=Object.keys(null===n||void 0===n?void 0:n.expressions).find((function(e){return(null===n||void 0===n?void 0:n.expressions[e])===i}))),c(r||"out"),l.current=requestAnimationFrame(e);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}l.current=requestAnimationFrame(e)}}),[o.username,e,s]),Object(i.useEffect)((function(){a&&Ii.emit("emotion update",{msg:a,meeting:e,username:o.username}),console.log(a)}),[a,o.username,e]),Object(g.jsx)("video",{ref:s,style:{visibility:"hidden",position:"absolute"}})}function Bi(e){var t=e.setEmotions,n=Object(ye.g)().id;return Object(i.useEffect)((function(){Ii.emit("join",{meeting:"".concat(n)}),Ii.on("emotion update",(function(e){var n=JSON.parse(e);console.log("AAAAH",e),t({Angry:n.angry,Sad:n.sad,Disgusted:n.disgusted,Fearful:n.fearful,Happy:n.happy,Neutral:n.neutral,Out:n.out,Surprised:n.surprised})}))}),[n,t]),null}Li.b.ssdMobilenetv1.loadFromUri("/model"),Li.b.faceExpressionNet.loadFromUri("/model");var Pi,Mi=n(339);function zi(e){var t=e.emotions;return Object(g.jsx)(S.a,{position:"absolute",bottom:50,zIndex:10,left:30,children:Object(g.jsx)(Mi.a,{style:{width:350},labels:[Pi.HAPPY,Pi.NEUTRAL,Pi.OUT,Pi.SAD,Pi.SURPRISED,Pi.DISGUSTED,Pi.FEARFUL,Pi.ANGRY],datasets:[{data:[t.Happy,t.Neutral,t.Out,t.Sad,t.Surprised,t.Disgusted,t.Fearful,t.Angry],backgroundColor:["rgba(255, 99, 132, 0.6)","rgba(255, 159, 64, 0.6)","rgba(255, 205, 86, 0.6)","rgba(75, 192, 192, 0.6)","rgba(54, 162, 235, 0.6)","rgba(153, 102, 255, 0.6)","rgba(201, 203, 207, 0.6)","rgba(631, 192, 192, 0.6)"],borderColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)","rgb(201, 203, 207)","rgba(631, 192, 192)"]}]})})}!function(e){e.HAPPY="Happy",e.NEUTRAL="Neutral",e.SAD="Sad",e.SURPRISED="Surprised",e.DISGUSTED="Disgusted",e.FEARFUL="Fearful",e.OUT="Out",e.ANGRY="Angry"}(Pi||(Pi={}));var Ri={Angry:0,Disgusted:0,Fearful:0,Happy:0,Neutral:0,Out:0,Sad:0,Surprised:0},Wi=function(){var e=Sn(),t=Object(ye.g)().id,n=Object(R.a)(),i=ct({id:t});return Object(g.jsx)(kn.a,{theme:En,children:Object(g.jsx)(un,{options:e,onError:function(e){return n({description:e.message,status:"error"})},children:Object(g.jsx)(Vi,{meetingConfig:i,isLoading:i.isLoading})})})};function Vi(e){var t=e.meetingConfig,n=e.isLoading,r=jn().room,c=K().data,a=Object(i.useState)(Ri),o=Object(j.a)(a,2),s=o[0],l=o[1];return console.log(s),Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(Hi,{style:{height:"100vh"},children:["disconnected"!==(null===r||void 0===r?void 0:r.state)&&r?Object(g.jsx)(Cn,{}):Object(g.jsx)(Ti,{isFetching:n,token:t.token}),"student"===(null===c||void 0===c?void 0:c.role)&&Object(g.jsx)(Fi,{}),"instructor"===(null===c||void 0===c?void 0:c.role)&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Bi,{setEmotions:l}),"connected"===(null===r||void 0===r?void 0:r.state)&&Object(g.jsx)(zi,{emotions:s})]})]})})}var Hi=Object(Kt.a)("div")({display:"grid",gridTemplateRows:"1fr auto"});function Ui(){return(Ui=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Q(),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Zi=function(){return Ui.apply(this,arguments)}(),Ji=function(){var e=K(),t=Object(i.useState)("loading"),n=Object(j.a)(t,2),r=n[0],c=n[1];return Object(i.useEffect)((function(){Zi.then((function(e){X(null!==e&&void 0!==e?e:void 0),Z.set(null===e||void 0===e?void 0:e.token),e||c("unauthenticated")}))}),[]),Object(i.useEffect)((function(){e.data&&c("authenticated")}),[e.data]),"loading"===r?Object(g.jsx)("div",{children:"loading"}):"unauthenticated"===r?Object(g.jsxs)(B.a,{children:[Object(g.jsx)(Ae,{}),Object(g.jsxs)(ye.d,{children:[Object(g.jsx)(ye.b,{exact:!0,path:"/",children:Object(g.jsx)(ke,{})}),Object(g.jsx)(ye.b,{exact:!0,path:"/login",children:Object(g.jsx)(je,{})}),Object(g.jsx)(ye.b,{exact:!0,path:"/signup",children:Object(g.jsx)(re,{})}),Object(g.jsx)(ye.b,{children:Object(g.jsx)(ye.a,{to:"/"})})]})]}):Object(g.jsxs)(B.a,{children:[Object(g.jsx)(Ae,{}),Object(g.jsxs)(ye.d,{children:[Object(g.jsx)(ye.b,{path:"/dashboard",children:Object(g.jsx)(nt,{})}),Object(g.jsx)(ye.b,{exact:!0,path:"/meeting/:id",children:Object(g.jsx)(Wi,{})}),Object(g.jsx)(ye.b,{children:Object(g.jsx)(ye.a,{to:"/dashboard"})})]})]})},Yi=new s.a;var qi=function(){return Object(g.jsx)(o.a,{children:Object(g.jsx)(l.a,{client:Yi,children:Object(g.jsx)(Ji,{})})})},Qi=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,665)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),i(e),r(e),c(e),a(e)}))};a.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(qi,{})}),document.getElementById("root")),Qi()}},[[537,1,2]]]);
//# sourceMappingURL=main.1de7b715.chunk.js.map