{"version":3,"sources":["../node_modules/@vladmandic/face-api/dist sync","components/Logo.tsx","assets/logo.png","pages/landing/components/Footer.tsx","pages/signUp/components/SignUpHeader.tsx","pages/signUp/components/BottomOrPart.tsx","pages/signUp/components/BottomTextPart.tsx","axios.ts","util/cache.ts","hooks/useMeQuery.ts","pages/signUp/components/SignUpForm.tsx","pages/signUp/components/useSignUpMutation.ts","pages/signUp/components/TopPart.tsx","pages/signUp/components/SignUp.tsx","pages/signUp/components/FullSignUpForm.tsx","pages/signIn/components/SignInHeader.tsx","pages/signIn/components/BottomOrPart.tsx","pages/signIn/components/BottomTextPart.tsx","pages/signIn/components/SignInForm.tsx","pages/signIn/useSignInMutation.ts","pages/signIn/components/TopPart.tsx","pages/signIn/components/SignIn.tsx","pages/signIn/components/FullSignInForm.tsx","pages/landing/components/Header.tsx","assets/landing1.svg","pages/landing/Landing1.tsx","assets/landing2.svg","pages/landing/Landing2.tsx","assets/landing3.svg","pages/landing/Landing3.tsx","assets/landing4.svg","pages/landing/Landing4.tsx","assets/landing5.svg","pages/landing/Landing5.tsx","pages/landing/Landing.tsx","components/ScrollToTop.tsx","assets/eye_logo.svg","pages/dashboard/components/NavItem.tsx","pages/dashboard/components/SideBar.tsx","assets/no_meeting_img.svg","pages/dashboard/hooks/useMeetingsQuery.ts","pages/dashboard/components/MeetingCard.tsx","pages/dashboard/hooks/useStartMeetingMutation.ts","pages/dashboard/NewMeetingModal.tsx","pages/dashboard/hooks/useNewMeetingMutation.ts","pages/dashboard/MeetingsPage.tsx","pages/dashboard/DashboardHomepage.tsx","pages/meeting/useMeeting.ts","pages/meeting/useSubscribeMutation.ts","pages/meeting/useJoinMutation.ts","hooks/useIsTrackEnabled/useIsTrackEnabled.tsx","hooks/useMediaStreamTrack/useMediaStreamTrack.ts","twilio-components/AudioLevelIndicator/AudioLevelIndicator.tsx","icons/AvatarIcon.tsx","twilio-components/NetworkQualityLevel/NetworkQualityLevel.tsx","hooks/useParticipantNetworkQualityLevel/useParticipantNetworkQualityLevel.tsx","twilio-components/ParticipantInfo/PinIcon/PinIcon.tsx","icons/ScreenShareIcon.tsx","hooks/useIsTrackSwitchedOff/useIsTrackSwitchedOff.tsx","hooks/usePublications/usePublications.tsx","hooks/useTrack/useTrack.tsx","hooks/useParticipantIsReconnecting/useParticipantIsReconnecting.ts","twilio-components/ParticipantInfo/ParticipantInfo.tsx","constants.ts","utils/index.ts","hooks/useDevices/useDevices.tsx","hooks/useAppSinkId.ts","twilio-components/AudioTrack/AudioTrack.tsx","twilio-components/VideoTrack/VideoTrack.tsx","hooks/useVideoTrackDimensions/useVideoTrackDimensions.tsx","twilio-components/Publication/Publication.tsx","twilio-components/ParticipantTracks/ParticipantTracks.tsx","twilio-components/Participant/Participant.tsx","twilio-components/VideoProvider/useSelectedParticipant/useSelectedParticipant.tsx","hooks/useLocalVideoToggle/useLocalVideoToggle.tsx","twilio-components/VideoProvider/AttachVisibilityHandler/AttachVisibilityHandler.tsx","twilio-components/VideoProvider/useRoom/useRoom.tsx","twilio-components/VideoProvider/index.tsx","twilio-components/VideoProvider/useLocalTracks/useLocalTracks.ts","twilio-components/VideoProvider/useScreenShareToggle/useScreenShareToggle.tsx","twilio-components/VideoProvider/useHandleRoomDisconnection/useHandleRoomDisconnection.ts","twilio-components/VideoProvider/useHandleTrackPublicationFailed/useHandleTrackPublicationFailed.ts","twilio-components/VideoProvider/useRestartAudioTrackOnDeviceChange/useRestartAudioTrackOnDeviceChange.ts","hooks/useVideoContext/useVideoContext.ts","hooks/useDominantSpeaker/useDominantSpeaker.tsx","hooks/useParticipants/useParticipants.tsx","hooks/useScreenShareParticipant/useScreenShareParticipant.tsx","hooks/useMainParticipant/useMainParticipant.tsx","twilio-components/ParticipantList/ParticipantList.tsx","twilio-components/MainParticipantInfo/MainParticipantInfo.tsx","hooks/useIsRecording/useIsRecording.ts","twilio-components/MainParticipant/MainParticipant.tsx","twilio-components/Room/Room.tsx","utils/useConnectionOptions/useConnectionOptions.ts","theme.ts","twilio-components/LocalAudioLevelIndicator/LocalAudioLevelIndicator.tsx","twilio-components/PreJoinScreens/DeviceSelectionScreen/LocalVideoPreview/LocalVideoPreview.tsx","twilio-components/AboutDialog/AboutDialog.tsx","twilio-components/DeviceSelectionDialog/AudioInputList/AudioInputList.tsx","twilio-components/DeviceSelectionDialog/AudioOutputList/AudioOutputList.tsx","twilio-components/DeviceSelectionDialog/VideoInputList/VideoInputList.tsx","twilio-components/DeviceSelectionDialog/DeviceSelectionDialog.tsx","icons/SettingsIcon.tsx","twilio-components/PreJoinScreens/DeviceSelectionScreen/SettingsMenu/SettingsMenu.tsx","icons/MicIcon.tsx","icons/MicOffIcon.tsx","twilio-components/Buttons/ToggleAudioButton/ToggleAudioButton.tsx","hooks/useLocalAudioToggle/useLocalAudioToggle.tsx","icons/VideoOffIcon.tsx","icons/VideoOnIcon.tsx","twilio-components/Buttons/ToggleVideoButton/ToggleVideoButton.tsx","twilio-components/PreJoinScreens/DeviceSelectionScreen/DeviceSelectionScreen.tsx","icons/ErrorIcon.tsx","icons/WarningIcon.tsx","icons/InfoIcon.tsx","twilio-components/Snackbar/Snackbar.tsx","twilio-components/PreJoinScreens/MediaErrorSnackbar/MediaErrorSnackbar.tsx","twilio-components/PreJoinScreens/PreJoinScreens.tsx","twilio-components/PreJoinScreens/RoomNameScreen/RoomNameScreen.tsx","components/EmotionDetector.tsx","components/EmotionReceiver.tsx","pages/meeting/Meeting.tsx","pages/meeting/Chart.tsx","Router.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","Logo","props","src","Footer","height","py","bgColor","mx","px","justify","flexDir","mb","me","spacing","display","SignUpHeader","textAlign","fontSize","fontWeight","fontStyle","BottomOrPart","alignItems","marginTop","flex","marginX","BottomTextPart","marginLeft","direction","as","RouterLink","color","to","axios","interceptors","request","use","InMemoryToken","get","headers","_token","set","token","ME_KEY","setMe","localStorage","setItem","JSON","stringify","getMe","getItem","parse","useMeQuery","options","useQuery","then","res","data","refetchOnMount","enabled","setMeQueryData","queryClient","setQueryData","logout","removeItem","SignUpForm","pass","em","useMutation","params","post","onSuccess","response","cache","rest","signUp","mutate","useSignUpMutation","toast","status","description","onError","error","isLoading","useToast","useState","email","setEmail","password","setPassword","role","setRole","username","setUsername","re","isInvalid","test","isInvalidEmail","isInvalidPassword","CheckIcon","my","method","onSubmit","event","preventDefault","width","borderRadius","borderColor","type","placeholder","value","rule","required","onChange","currentTarget","mt","justifyContent","isDisabled","textColor","marginBottom","onClick","duration","TopPart","align","ArrowBack","SignUp","minHeight","borderWidth","Height","alignContent","boxShadow","p","FullSignUpForm","paddingX","paddingTop","minW","SignInHeader","SignInForm","signIn","useSignInMutation","SignIn","FullSignInForm","Header","colorScheme","Landing1","pt","flexDirection","maxW","landing1","Landing2","minH","landing2","Landing3","landing3","Landing4","landing4","Landing5","landing5","Landing","withRouter","history","useEffect","unlisten","listen","window","scrollTo","NavItem","icon","title","active","navSize","w","placement","backgroundColor","border","_hover","textDecor","background","ml","Sidebar","changeNavSize","themeColor","meQuery","eye_logo","alignSelf","size","AiOutlineHome","AiOutlineCalendar","AiOutlineHistory","AiOutlineBarChart","BiDoorOpen","pos","_focus","MEETINGS_KEY","invalidateMeetingsQuery","invalidateQueries","RemainingTime","startTime","mr","AiOutlineFieldTime","_","Date","MeetingCard","course","endTime","_id","start","useStartMeetingMutation","canStart","setCanStart","meetingLink","useClipboard","hasCopied","_onCopy","onCopy","clear","setInterval","clearInterval","h","rounded","variant","Check","Copy","initialState","NewMeetingModal","isOpen","onClose","_onClose","setMeeting","meeting","createMeeting","toISOString","createMeating","useNewMeetingMutation","isCentered","pb","old","target","min","slice","disabled","getTime","compareTime","EmptyList","noMeetingsIcon","Homepage","meetingsQuery","useMeetingsQuery","useDisclosure","onOpen","overflow","isIdle","isError","process","length","map","DashboardHomepage","class","useMeeting","subscribe","useSubscribeMutation","join","isSubscribing","subscribeError","useJoinMutation","joinError","isJoining","isJoinSuccess","isSuccess","useIsTrackEnabled","track","isEnabled","setIsEnabled","setEnabled","setDisabled","on","off","useMediaStreamTrack","mediaStreamTrack","setMediaStreamTrack","handleStarted","audioContext","clipId","AudioContext","webkitAudioContext","initializeAnalyser","stream","audioSource","createMediaStreamSource","analyser","createAnalyser","smoothingTimeConstant","fftSize","connect","AudioLevelIndicator","audioTrack","SVGRectRef","useRef","setAnalyser","isTrackEnabled","newMediaStream","MediaStream","clone","stopAllMediaStreamTracks","getTracks","forEach","stop","reinitializeAnalyser","addEventListener","removeEventListener","SVGClipElement","current","sampleArray","Uint8Array","frequencyBinCount","timer","interval","getByteFrequencyData","values","i","volume","Math","max","log10","setAttribute","String","clipPathId","xmlns","viewBox","ref","x","y","fill","fillRule","transform","clipPath","rx","ry","strokeWidth","d","React","memo","AvatarIcon","cx","cy","r","strokeLinejoin","useStyles","makeStyles","outerContainer","padding","innerContainer","marginRight","borderRight","BARS_ARRAY","NetworkQualityLevel","participant","classes","networkQualityLevel","setNetworkQualityLevel","handleNewtorkQualityLevelChange","newNetworkQualityLevel","useParticipantNetworkQualityLevel","className","level","style","PinIcon","Tooltip","SvgIcon","float","boxSizing","ScreenShareIcon","useIsTrackSwitchedOff","isSwitchedOff","setIsSwitchedOff","handleSwitchedOff","handleSwitchedOn","usePublications","publications","setPublications","Array","from","tracks","publicationAdded","publication","prevPublications","publicationRemoved","filter","useTrack","setTrack","removeTrack","useParticipantIsReconnecting","isReconnecting","setIsReconnecting","handleReconnecting","handleReconnected","theme","createStyles","container","position","objectFit","participantBorderWidth","breakpoints","down","sidebarMobileHeight","top","left","infoContainer","zIndex","avatarContainer","right","bottom","reconnectingContainer","screenShareIconContainer","identity","margin","infoRowBottom","typeography","hideParticipant","cursorPointer","cursor","ParticipantInfo","isSelected","children","isLocalParticipant","audioPublication","find","kind","videoPublication","trackName","includes","isVideoEnabled","Boolean","isScreenShareEnabled","isVideoSwitchedOff","isParticipantReconnecting","clsx","Typography","component","DEFAULT_VIDEO_CONSTRAINTS","frameRate","SELECTED_AUDIO_INPUT_KEY","SELECTED_AUDIO_OUTPUT_KEY","SELECTED_VIDEO_INPUT_KEY","isMobile","navigator","userAgent","removeUndefineds","obj","isPlainObject","key","val","getDeviceInfo","a","mediaDevices","enumerateDevices","devices","audioInputDevices","device","videoInputDevices","audioOutputDevices","hasAudioInputDevices","some","hasVideoInputDevices","isPermissionDenied","name","permissions","query","result","state","useDevices","deviceInfo","setDeviceInfo","getDevices","useActiveSinkId","activeSinkId","_setActiveSinkId","setActiveSinkId","useCallback","sinkId","selectedSinkId","deviceId","AudioTrack","audioEl","attach","document","body","appendChild","detach","el","remove","setSinkId","Video","styled","VideoTrack","isLocal","priority","dimensions","setDimensions","handleDimensionsChanged","newTrack","useVideoTrackDimensions","isPortrait","muted","setPriority","isFrontFacing","getSettings","facingMode","Publication","videoOnly","videoPriority","ParticipantTracks","filteredPublications","enableScreenShare","Participant","selectedParticipantContext","createContext","useSelectedParticipant","useContext","SelectedParticipantProvider","room","selectedParticipant","_setSelectedParticipant","onDisconnect","handleParticipantDisconnected","prevParticipant","Provider","useLocalVideoToggle","useVideoContext","localTracks","getLocalVideoTrack","removeLocalVideoTrack","localParticipant","videoTrack","isPublishing","setIspublishing","toggleVideoEnabled","localTrackPublication","unpublishTrack","emit","publishTrack","catch","finally","AttachVisibilityHandler","shouldRepublishVideoOnForeground","handleVisibilityChange","visibilityState","TwilioVideo","VideoContext","VideoProvider","onErrorCallback","console","log","message","setAudioTrack","setVideoTrack","isAcquiringLocalTracks","setIsAcquiringLocalTracks","getLocalAudioTrack","exact","createLocalAudioTrack","selectedVideoDeviceId","hasSelectedVideoDevice","now","createLocalVideoTrack","removeLocalAudioTrack","undefined","getAudioAndVideoTracks","Promise","selectedAudioDeviceId","hasSelectedAudioDevice","isCameraPermissionDenied","isMicrophonePermissionDenied","shouldAcquireAudio","localTrackConstraints","video","audio","createLocalTracks","newVideoTrack","newAudioTrack","useLocalTracks","setRoom","isConnecting","setIsConnecting","optionsRef","newRoom","disconnect","setMaxListeners","once","setTimeout","twilioRoom","videoTracks","useRoom","isSharing","setIsSharing","stopScreenShareRef","shareScreen","getDisplayMedia","trackPublication","onended","toggleScreenShare","useScreenShareToggle","isSharingScreen","onDisconnected","useHandleRoomDisconnection","useHandleTrackPublicationFailed","handleDeviceChange","readyState","restart","useRestartAudioTrackOnDeviceChange","context","useDominantSpeaker","dominantSpeaker","setDominantSpeaker","handleDominantSpeakerChanged","newDominantSpeaker","prevDominantSpeaker","useParticipants","participants","setParticipants","prevParticipants","participantConnected","participantDisconnected","useScreenShareParticipant","screenShareParticipant","setScreenShareParticipant","updateScreenShareParticipant","concat","useMainParticipant","overflowY","gridArea","overflowX","transparentBackground","scrollContainer","innerScrollContainer","sidebarWidth","sidebarMobilePadding","ParticipantList","setSelectedParticipant","mainParticipant","isRemoteParticipantScreenSharing","sid","fullWidth","recordingIndicator","circle","animation","MainParticipantInfo","screenSharePublication","isRecording","setIsRecording","handleRecordingStarted","handleRecordingStopped","useIsRecording","MainParticipant","totalMobileSidebarHeight","gridTemplateColumns","gridTemplateRows","chatWindowOpen","chatWindowWidth","Room","useConnectionOptions","settings","trackSwitchOffMode","dominantSpeakerPriority","bandwidthProfileMode","maxAudioBitrate","contentPreferencesMode","clientTrackSwitchOffControl","connectionOptions","bandwidthProfile","mode","networkQuality","local","remote","preferredVideoCodecs","codec","environment","REACT_APP_TWILIO_ENVIRONMENT","maxSubscriptionBitrate","wsServer","defaultTheme","createTheme","overrides","MuiCssBaseline","MuiButton","root","textTransform","transition","transitions","create","short","text","contained","outlinedPrimary","startIcon","MuiTypography","body1","MuiInputBase","MuiSelect","MuiDialogActions","MuiTextField","MuiInputLabel","MuiOutlinedInput","notchedOutline","typography","fontFamily","palette","primary","main","brand","footerHeight","mobileFooterHeight","mobileTopBarHeight","LocalAudioLevelIndicator","identityContainer","LocalVideoPreview","AboutDialog","open","Dialog","maxWidth","DialogTitle","Divider","DialogContent","DialogContentText","isSupported","version","appVersion","REACT_APP_GIT_TAG","REACT_APP_GIT_COMMIT","DialogActions","Button","autoFocus","AudioInputList","localAudioTrack","localAudioInputDeviceId","gutterBottom","Grid","FormControl","Select","newDeviceId","MenuItem","label","AudioOutputList","activeOutputLabel","preview","maxHeight","VideoInputList","localVideoTrack","storedLocalVideoDeviceId","setStoredLocalVideoDeviceId","localVideoInputDeviceId","button","paper","headline","listSection","DeviceSelectionDialog","SettingsIcon","clipRule","settingsButton","SettingsMenu","mobileButtonClass","useMediaQuery","menuOpen","setMenuOpen","aboutOpen","setAboutOpen","deviceSettingsOpen","setDeviceSettingsOpen","setConnectionSettingsOpen","anchorRef","Menu","anchorEl","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","MicIcon","MicOffIcon","ToggleAudioButton","disable","enable","useLocalAudioToggle","isAudioEnabled","toggleAudioEnabled","hasAudioTrack","VideoOffIcon","VideoOnIcon","ToggleVideoButton","lastClickTimeRef","toggleVideo","deviceButton","localPreviewContainer","paddingRight","joinButtons","mobileButtonBar","mobileButton","DeviceSelectionScreen","roomName","setStep","isFetching","videoConnect","disableButtons","CircularProgress","item","md","sm","xs","Hidden","mdUp","smDown","Steps","roomNameStep","ErrorIcon","stroke","WarningIcon","InfoIcon","contentContainer","lineHeight","iconContainer","borderLeft","warning","info","Snackbar","handleClose","reason","autoHideDuration","IconButton","MediaErrorSnackbar","isSnackbarDismissed","setIsSnackbarDismissed","isSnackbarOpen","hasAudio","hasVideo","getSnackbarContent","inputContainer","textFieldContainer","continueButton","RoomNameScreen","setName","setRoomName","handleSubmit","hasUsername","InputLabel","shrink","htmlFor","TextField","autoCapitalize","PreJoinScreens","URLRoomName","step","mediaError","setMediaError","deviceSelectionStep","dir","location","origin","replaceState","encodeURI","search","socket","io","EmotionDetector","meetingId","useParams","emotion","setEmotion","debouncedEmotion","useDebounce","videoEl","requestRef","getUserMedia","srcObject","play","detectEmotions","faceapi","withFaceExpressions","results","expressions","highestVal","apply","Object","highestEmotion","requestAnimationFrame","msg","visibility","EmotionReceiver","setEmotions","msge","Angry","angry","Sad","sad","Disgusted","disgusted","Fearful","fearful","Happy","happy","Neutral","neutral","Out","out","Surprised","surprised","ssdMobilenetv1","loadFromUri","faceExpressionNet","Emotions","Chart","emotions","labels","HAPPY","NEUTRAL","OUT","SAD","SURPRISED","DISGUSTED","FEARFUL","ANGRY","datasets","Meeting","meetingConfig","HarlemRiver","Container","bootstrapPromise","bootstrap","MainRouter","initialAppStatus","setInitialAppStatus","path","QueryClient","App","QueryClientProvider","client","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1de7b715.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 532;","import { Image } from '@chakra-ui/image';\nimport { ImageProps } from '@chakra-ui/react';\nimport logo from 'src/assets/logo.png';\n\nexport const Logo = (props: ImageProps) => <Image {...props} src={logo} />;\n","export default \"data:image/png;base64,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\"","import { Center, Flex, HStack, Link, Text, VStack } from '@chakra-ui/layout';\nimport { Logo } from 'src/components';\n\nexport const Footer = () => (\n  <Flex\n    height={['unset', 'unset', '224px']}\n    py={['6', '6']}\n    bgColor=\"gray.200\"\n    mx={['-4', '-4', '-20']}\n    px={['4', '4', '20']}\n    justify=\"space-between\"\n  >\n    <Center flexDir={['row', 'row', 'column']}>\n      <Logo mb={['unset', 'unset', '10']} me={[10, 10, 'unset']} />\n      <Text>©2021 Edugaze</Text>\n    </Center>\n    <HStack spacing={10} display={['none', 'none', 'flex']}>\n      <VStack spacing={5}>\n        <Link>Products</Link>\n        <Link>About</Link>\n        <Link>Pricing</Link>\n      </VStack>\n      <VStack spacing={5}>\n        <Link>Help & Support</Link>\n        <Link>FAQs</Link>\n        <Link>Contact Us</Link>\n      </VStack>\n    </HStack>\n  </Flex>\n);\n","import { Box, Heading } from '@chakra-ui/react';\nconst SignUpHeader = () => {\n  return (\n    <Box textAlign=\"center\">\n      <Heading fontSize=\"24px\" fontWeight=\"500\" fontStyle=\"normal\">\n        Welcome!\n      </Heading>\n    </Box>\n  );\n};\n\nexport default SignUpHeader;\n","import { Divider } from '@chakra-ui/react';\nimport { Flex, Text } from '@chakra-ui/layout';\n\nconst BottomOrPart = () => {\n  return (\n    <Flex flexDir=\"row\" alignItems=\"center\" marginTop=\"5px\" flex={1}>\n      <Flex flex=\"1\">\n        <Divider />\n      </Flex>\n      <Text marginX={4}>or</Text>\n      <Flex flex=\"1\">\n        <Divider />\n      </Flex>\n    </Flex>\n  );\n};\n\nexport default BottomOrPart;\n","import { HStack, Link } from '@chakra-ui/react';\nimport { Box } from '@chakra-ui/react';\nimport { Link as RouterLink } from 'react-router-dom';\n\nconst BottomTextPart = () => {\n  return (\n    <Box textAlign=\"center\" marginTop=\"5px\" marginLeft=\"100px\">\n      <HStack direction={['column', 'row']}>\n        <text>Already have an account?</text>\n        <Link as={RouterLink} color=\"blue\" to=\"/login\">\n          Sign In?\n        </Link>\n      </HStack>\n    </Box>\n  );\n};\n\nexport default BottomTextPart;\n","import axios from 'axios';\n\naxios.interceptors.request.use((req) => {\n  if (InMemoryToken.get())\n    req.headers['Authorization'] = `Bearer ${InMemoryToken.get()}`;\n  return req;\n});\n\nexport const InMemoryToken = (() => {\n  let _token: string | undefined;\n  const get = () => _token;\n  const set = (token?: string) => {\n    _token = token;\n  };\n  return { get, set };\n})();\n","import { Me } from 'src/types';\n\nconst ME_KEY = 'cache/me';\n\nexport function setMe(me: Me) {\n  localStorage.setItem(ME_KEY, JSON.stringify(me));\n}\n\nexport function clearMe() {\n  localStorage.removeItem(ME_KEY);\n}\n\nexport function getMe(): Me | null {\n  const me = localStorage.getItem(ME_KEY);\n  return me ? (JSON.parse(me) as Me) : null;\n}\n","import { useQuery, UseQueryOptions } from 'react-query';\nimport axios from 'axios';\nimport { Me } from 'src/types';\nimport { queryClient } from 'src/App';\nimport { InMemoryToken } from 'src/axios';\nimport * as cache from 'src/util/cache';\n\nconst ME_KEY = 'me-query';\n\nexport function useMeQuery(options?: UseQueryOptions<Me>) {\n  return useQuery<Me>(\n    ME_KEY,\n    () =>\n      axios\n        .get('http://178.128.140.169:4002/api/v1/auth/verify')\n        .then((res) => res.data),\n    {\n      refetchOnMount: false,\n      enabled: !!InMemoryToken.get(),\n      ...options,\n    }\n  );\n}\n\nexport function setMeQueryData(me?: Me) {\n  queryClient.setQueryData(ME_KEY, me);\n}\n\nexport function logout() {\n  InMemoryToken.set();\n  setMeQueryData();\n  cache.clearMe();\n}\n","import { Button } from '@chakra-ui/button';\nimport { Box, Icon, InputRightElement, Stack } from '@chakra-ui/react';\nimport { Input } from '@chakra-ui/react';\nimport { CheckIcon } from '@chakra-ui/icons';\nimport BottomOrPart from './BottomOrPart';\nimport { Image } from '@chakra-ui/react';\nimport { FormControl } from '@chakra-ui/react';\nimport { useState } from 'react';\nimport BottomTextPart from './BottomTextPart';\nimport { Radio, RadioGroup } from '@chakra-ui/react';\nimport { useToast } from '@chakra-ui/react';\nimport { useSignUpMutation } from './useSignUpMutation';\n///////////////////////////////////////////////////////////////////\n\nexport type Role = 'instructor' | 'student';\nconst SignUpForm = () => {\n  const { signUp, isLoading } = useSignUpMutation({\n    onSuccess: () => {\n      toast({ status: 'success', description: 'Signed up successfully!' });\n    },\n    onError: (error: any) => {\n      toast({ status: 'error', description: error?.response?.data });\n    },\n  });\n\n  const toast = useToast();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [role, setRole] = useState<'' | Role>('');\n  const [username, setUsername] = useState('');\n\n  let re =\n    /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  const isInvalid =\n    password === '' ||\n    email === '' ||\n    !re.test(email) ||\n    role === '' ||\n    username === '';\n  const isInvalidEmail = email === '' || !re.test(email);\n  const isInvalidPassword = password === '';\n\n  const handleSignIn = (event: any) => {\n    event.preventDefault();\n    signUp({ email, password, role: role as Role, username });\n  };\n  let pass;\n  let em;\n  if (!isInvalidEmail) {\n    em = <Icon as={CheckIcon} color=\"#31B3C2\" />;\n  } else {\n    em = <Image id=\"myImage\" src=\"//:0\" />;\n  }\n  if (!isInvalidPassword) {\n    pass = <Icon as={CheckIcon} color=\"#31B3C2\" />;\n  } else {\n    pass = <Image id=\"myImage\" src=\"//:0\" />;\n  }\n\n  return (\n    <Box my={8} textAlign=\"center\" bgColor=\"#FFFFFF\">\n      <form method=\"POST\" onSubmit={handleSignIn}>\n        <FormControl\n          width=\"full\"\n          mb={4}\n          borderRadius=\"4px\"\n          bgColor=\"#EFEFEF\"\n          borderColor=\"#31B3C2\"\n        >\n          <Input\n            type=\"username\"\n            placeholder=\"Username\"\n            value={username}\n            rule={{ required: true }}\n            onChange={(event) => setUsername(event.currentTarget.value)}\n          />\n          <InputRightElement width=\"3rem\" height=\"3rem\">\n            {em}\n          </InputRightElement>\n        </FormControl>\n\n        <FormControl\n          width=\"full\"\n          borderRadius=\"4px\"\n          bgColor=\"#EFEFEF\"\n          borderColor=\"#31B3C2\"\n        >\n          <Input\n            type=\"email\"\n            placeholder=\"Email\"\n            value={email}\n            rule={{ required: true }}\n            onChange={(event) => setEmail(event.currentTarget.value)}\n          />\n          <InputRightElement width=\"3rem\" height=\"3rem\">\n            {em}\n          </InputRightElement>\n        </FormControl>\n\n        <FormControl\n          mt={4}\n          mb={4}\n          width=\"full\"\n          borderRadius=\"4px\"\n          bgColor=\"#EFEFEF\"\n          borderColor=\"#31B3C2\"\n        >\n          <Input\n            type=\"password\"\n            placeholder=\"Password\"\n            value={password}\n            rule={{ required: true }}\n            onChange={(event) => setPassword(event.currentTarget.value)}\n          />\n          <InputRightElement width=\"3rem\" height=\"3rem\">\n            {pass}\n          </InputRightElement>\n        </FormControl>\n\n        <RadioGroup onChange={setRole as (val: string) => void}>\n          <Stack direction=\"row\" flex=\"1\" justifyContent=\"center\">\n            <Radio value=\"instructor\">Instructor</Radio>\n            <Radio value=\"student\">Student</Radio>\n          </Stack>\n        </RadioGroup>\n        <Button\n          type=\"submit\"\n          isDisabled={isInvalid}\n          bgColor=\"#31B3C2\"\n          textColor=\"#FFFFFF\"\n          width=\"full\"\n          mt={4}\n          isLoading={isLoading}\n          marginBottom=\"5px\"\n        >\n          Sign Up\n        </Button>\n        <BottomOrPart></BottomOrPart>\n        <Button\n          bgColor=\"#31B3C2\"\n          textColor=\"#FFFFFF\"\n          width=\"full\"\n          mt={4}\n          onClick={() => {\n            toast({\n              description: 'Upcoming feature',\n              status: 'info',\n              duration: 2000,\n            });\n          }}\n          // textAlign=\"center\"\n        >\n          Sign Up with Google\n        </Button>\n        <BottomTextPart />\n      </form>\n    </Box>\n  );\n};\n\nexport default SignUpForm;\n","import axios from 'axios';\nimport { useMutation, UseMutationOptions } from 'react-query';\nimport { InMemoryToken } from 'src/axios';\nimport { setMeQueryData } from 'src/hooks/useMeQuery';\nimport { Me } from 'src/types';\nimport * as cache from 'src/util/cache';\nimport { Role } from './SignUpForm';\n\ntype SignUpParams = {\n  username: string;\n  email: string;\n  password: string;\n  role: Role;\n};\nexport function useSignUpMutation(\n  options?: UseMutationOptions<Me, Error, SignUpParams>\n) {\n  const { mutate: signUp, ...rest } = useMutation<Me, Error, SignUpParams>(\n    (params) => {\n      return axios\n        .post('http://178.128.140.169:4002/api/v1/auth/signup', params)\n        .then((res) => res.data);\n    },\n    {\n      ...options,\n      onSuccess: (response, ...rest) => {\n        cache.setMe(response);\n        setMeQueryData(response);\n        InMemoryToken.set(response.token);\n        options?.onSuccess?.(response, ...rest);\n      },\n    }\n  );\n  return { signUp, ...rest };\n}\n","import { HStack, Link } from '@chakra-ui/react';\nimport { ArrowBackIcon } from '@chakra-ui/icons';\nimport { Link as RouterLink } from 'react-router-dom';\n\nconst TopPart = () => {\n  return (\n    <HStack align=\"left\">\n      <ArrowBackIcon color=\"#9EA0A5\" />\n      <Link as={RouterLink} color=\"#9EA0A5\" fontSize=\"14px\" to=\"/\">\n        Go back\n      </Link>\n    </HStack>\n  );\n};\n\nexport default TopPart;\n","import SignUpHeader from './SignUpHeader';\nimport SignUpForm from './SignUpForm';\nimport TopPart from './TopPart';\nimport { Box, Flex } from '@chakra-ui/react';\nconst SignUp = () => {\n  return (\n    <Flex minHeight=\"100vh\" width=\"full\" align=\"center\" justifyContent=\"center\">\n      <Box\n        borderWidth={1}\n        bgColor=\"#FFFFFF\"\n        width=\"486px\"\n        Height=\"562px\"\n        borderRadius={10}\n        textAlign=\"center\"\n        alignContent=\"center\"\n        boxShadow=\"lg\"\n      >\n        <Box p={4} width=\"full\">\n          <TopPart />\n          <SignUpHeader />\n          <SignUpForm />\n        </Box>\n      </Box>\n    </Flex>\n  );\n};\nexport default SignUp;\n","import { Footer } from 'src/pages/landing/components/Footer';\nimport { Box } from '@chakra-ui/layout';\nimport SignUp from './SignUp';\nconst FullSignUpForm = () => {\n  return (\n    <Box\n      paddingX={[4, 4, 20]}\n      paddingTop={[4, 4, 10]}\n      minW=\"400px\"\n      bgColor=\"#31B3C2\"\n    >\n      <SignUp />\n      <Footer />\n    </Box>\n  );\n};\n\nexport default FullSignUpForm;\n","import { Box, Heading } from '@chakra-ui/react';\nconst SignInHeader = () => {\n  return (\n    <Box textAlign=\"center\">\n      <Heading fontSize=\"24px\" fontWeight=\"500\" fontStyle=\"normal\">\n        Welcome Back!\n      </Heading>\n    </Box>\n  );\n};\n\nexport default SignInHeader;\n","import { Divider } from '@chakra-ui/react';\nimport { Flex, Text } from '@chakra-ui/layout';\n\nconst BottomOrPart = () => {\n  return (\n    <Flex flexDir=\"row\" alignItems=\"center\" marginTop=\"5px\" flex={1}>\n      <Flex flex=\"1\">\n        <Divider />\n      </Flex>\n      <Text marginX={4}>or</Text>\n      <Flex flex=\"1\">\n        <Divider />\n      </Flex>\n    </Flex>\n  );\n};\n\nexport default BottomOrPart;\n","import { HStack, Link } from '@chakra-ui/react';\nimport { Box } from '@chakra-ui/react';\n\nimport { Link as RouterLink } from 'react-router-dom';\n\nconst BottomTextPart = () => {\n  return (\n    <Box textAlign=\"center\" marginTop=\"5px\" marginLeft=\"100px\">\n      <HStack direction={['column', 'row']}>\n        <text>Don't have an account?</text>\n        <Link as={RouterLink} color=\"blue\" to=\"/signup\">\n          Sign up?\n        </Link>\n      </HStack>\n    </Box>\n  );\n};\n\nexport default BottomTextPart;\n","import { Button } from '@chakra-ui/button';\nimport { Box, Icon, InputRightElement } from '@chakra-ui/react';\nimport { Input } from '@chakra-ui/react';\nimport { CheckIcon } from '@chakra-ui/icons';\nimport BottomOrPart from './BottomOrPart';\nimport { Image } from '@chakra-ui/react';\nimport { FormControl } from '@chakra-ui/react';\nimport { useState } from 'react';\nimport BottomTextPart from './BottomTextPart';\nimport { useToast } from '@chakra-ui/react';\nimport { useSignInMutation } from '../useSignInMutation';\n///////////////////////////////////////////////////////////////////\n\nconst SignInForm = () => {\n  const toast = useToast();\n  const { signIn, isLoading } = useSignInMutation({\n    onSuccess: () => {\n      toast({ status: 'success', description: 'Signed in successfully!' });\n    },\n    onError: (error: any) => {\n      toast({ status: 'error', description: error?.response?.data });\n    },\n  });\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  let re =\n    /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  const isInvalid = password === '' || email === '' || !re.test(email);\n  const isInvalidEmail = email === '' || !re.test(email);\n  const isInvalidPassword = password === '';\n\n  const handleSignIn = (event: any) => {\n    event.preventDefault();\n    signIn({ email, password });\n  };\n  let pass;\n  let em;\n  if (!isInvalidEmail) {\n    em = <Icon as={CheckIcon} color=\"#31B3C2\" />;\n  } else {\n    em = <Image id=\"myImage\" src=\"//:0\" />;\n  }\n  if (!isInvalidPassword) {\n    pass = <Icon as={CheckIcon} color=\"#31B3C2\" />;\n  } else {\n    pass = <Image id=\"myImage\" src=\"//:0\" />;\n  }\n\n  return (\n    <Box my={8} textAlign=\"center\" bgColor=\"#FFFFFF\">\n      <form method=\"POST\" onSubmit={handleSignIn}>\n        <FormControl\n          width=\"full\"\n          borderRadius=\"4px\"\n          bgColor=\"#EFEFEF\"\n          borderColor=\"#31B3C2\"\n        >\n          <Input\n            type=\"email\"\n            placeholder=\"Email\"\n            value={email}\n            rule={{ required: true }}\n            onChange={(event) => setEmail(event.currentTarget.value)}\n          />\n          <InputRightElement width=\"3rem\" height=\"3rem\">\n            {em}\n          </InputRightElement>\n        </FormControl>\n\n        <FormControl\n          mt={4}\n          width=\"full\"\n          borderRadius=\"4px\"\n          bgColor=\"#EFEFEF\"\n          borderColor=\"#31B3C2\"\n        >\n          <Input\n            type=\"password\"\n            placeholder=\"Password\"\n            value={password}\n            rule={{ required: true }}\n            onChange={(event) => setPassword(event.currentTarget.value)}\n          />\n          <InputRightElement width=\"3rem\" height=\"3rem\">\n            {pass}\n          </InputRightElement>\n        </FormControl>\n        <Button\n          type=\"submit\"\n          isDisabled={isInvalid}\n          bgColor=\"#31B3C2\"\n          textColor=\"#FFFFFF\"\n          width=\"full\"\n          mt={4}\n          marginBottom=\"5px\"\n        >\n          Sign In\n        </Button>\n        <BottomOrPart></BottomOrPart>\n        <Button\n          onClick={() => {\n            toast({\n              description: 'Upcoming feature',\n              status: 'info',\n              duration: 2000,\n            });\n          }}\n          bgColor=\"#31B3C2\"\n          textColor=\"#FFFFFF\"\n          width=\"full\"\n          isLoading={isLoading}\n          mt={4}\n        >\n          Sign In with Google\n        </Button>\n        <BottomTextPart />\n      </form>\n    </Box>\n  );\n};\n\nexport default SignInForm;\n","import axios from 'axios';\nimport { useMutation, UseMutationOptions } from 'react-query';\nimport { InMemoryToken } from 'src/axios';\nimport { setMeQueryData } from 'src/hooks/useMeQuery';\nimport { Me } from 'src/types';\nimport * as cache from 'src/util/cache';\n\ntype SignInParams = {\n  email: string;\n  password: string;\n};\n\nexport function useSignInMutation(\n  options?: UseMutationOptions<Me, Error, SignInParams>\n) {\n  const { mutate: signIn, ...rest } = useMutation<Me, Error, SignInParams>(\n    (params) => {\n      return axios\n        .post('http://178.128.140.169:4002/api/v1/auth/login', params)\n        .then((res) => res.data);\n    },\n    {\n      ...options,\n      onSuccess: (response, ...rest) => {\n        cache.setMe(response);\n        InMemoryToken.set(response.token);\n        setMeQueryData(response);\n        options?.onSuccess?.(response, ...rest);\n      },\n    }\n  );\n  return { signIn, ...rest };\n}\n","import React from 'react';\nimport { HStack, Link } from '@chakra-ui/react';\nimport { ArrowBackIcon } from '@chakra-ui/icons';\nimport { Link as RouterLink } from 'react-router-dom';\n\nconst TopPart = () => {\n  return (\n    <HStack align=\"left\">\n      <ArrowBackIcon color=\"#9EA0A5\" />\n      <Link as={RouterLink} color=\"#9EA0A5\" fontSize=\"14px\" to=\"/\">\n        Go back\n      </Link>\n    </HStack>\n  );\n};\n\nexport default TopPart;\n","import SignInHeader from './SignInHeader';\nimport SignInForm from './SignInForm';\nimport TopPart from './TopPart';\nimport { Box, Flex } from '@chakra-ui/react';\nconst SignIn = () => {\n  return (\n    <Flex minHeight=\"100vh\" width=\"full\" align=\"center\" justifyContent=\"center\">\n      <Box\n        borderWidth={1}\n        width=\"486px\"\n        Height=\"562px\"\n        borderRadius={10}\n        textAlign=\"center\"\n        alignContent=\"center\"\n        boxShadow=\"lg\"\n        bgColor=\"#FFFFFF\"\n      >\n        <Box p={4} width=\"full\">\n          <TopPart />\n          <SignInHeader />\n          <SignInForm />\n        </Box>\n      </Box>\n    </Flex>\n  );\n};\nexport default SignIn;\n","import { Footer } from 'src/pages/landing/components/Footer';\nimport { Box } from '@chakra-ui/layout';\nimport SignIn from './SignIn';\nconst FullSignInForm = () => {\n  return (\n    <Box\n      paddingX={[4, 4, 20]}\n      paddingTop={[4, 4, 10]}\n      minW=\"400px\"\n      bgColor=\"#31B3C2\"\n    >\n      <SignIn />\n      <Footer />\n    </Box>\n  );\n};\n\nexport default FullSignInForm;\n","import { Button } from '@chakra-ui/button';\nimport { Flex, HStack, Link } from '@chakra-ui/layout';\nimport { FlexProps } from '@chakra-ui/react';\nimport { Logo } from 'src/components/Logo';\n\nimport { Link as RouterLink } from 'react-router-dom';\n\nexport const Header: React.FC<FlexProps> = (props) => {\n  return (\n    <Flex justifyContent=\"space-between\" {...props}>\n      <Logo />\n      <HStack spacing={8} display={['none', 'none', 'flex']}>\n        <Link>About</Link>\n        <Link>Pricing</Link>\n        <Link>FAQs</Link>\n        <Link>Contacts</Link>\n      </HStack>\n      <HStack spacing={10}>\n        <Link as={RouterLink} to=\"/login\">\n          Login\n        </Link>\n        <RouterLink to=\"/signup\">\n          <Button colorScheme=\"cyan\" textColor=\"white\">\n            Try for free\n          </Button>\n        </RouterLink>\n      </HStack>\n    </Flex>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/landing1.f9c7b665.svg\";","import { Button } from '@chakra-ui/button';\nimport { Image } from '@chakra-ui/image';\nimport { Box, BoxProps, Flex, Heading, Text } from '@chakra-ui/layout';\nimport landing1 from 'src/assets/landing1.svg';\n\nimport { Link as RouterLink } from 'react-router-dom';\n\nexport const Landing1: React.FC<BoxProps> = (props) => (\n  <Box minHeight={'calc(100vh - 88px)'} pt={[10, 10, '130px']} {...props}>\n    <Flex\n      justify=\"space-between\"\n      flexDirection={['column-reverse', 'column-reverse', 'row']}\n    >\n      <Box>\n        <Heading\n          paddingTop={24}\n          textAlign={['center', 'center', 'unset']}\n          fontWeight=\"bold\"\n          fontSize=\"4xl\"\n          mb=\"10\"\n        >\n          Make your online lectures <Text color=\"cyan.500\">smarter</Text>\n        </Heading>\n        <Text\n          fontSize=\"2xl\"\n          mb={10}\n          maxW={['unset', 'unset', '360px']}\n          textAlign={['center', 'center', 'unset']}\n        >\n          Real-time emotion detection, interactive polls and much more! All in\n          one place\n        </Text>\n        <RouterLink to=\"/signup\">\n          <Button\n            colorScheme=\"cyan\"\n            width={['100%', '100%', 'unset']}\n            textColor=\"white\"\n          >\n            Try for free\n          </Button>\n        </RouterLink>\n      </Box>\n      <Image src={landing1} px={[16, 16, 'unset']} />\n    </Flex>\n  </Box>\n);\n","export default __webpack_public_path__ + \"static/media/landing2.a9fc1781.svg\";","import { Image } from '@chakra-ui/image';\nimport { Box, BoxProps, Flex, Text } from '@chakra-ui/layout';\nimport landing2 from 'src/assets/landing2.svg';\n\nexport const Landing2: React.FC<BoxProps> = (props) => (\n  <Box minH=\"100vh\" {...props} pt=\"10\">\n    <Text fontWeight=\"semibold\" fontSize=\"4xl\" mb=\"7\" textAlign=\"center\">\n      Transform your distance learning\n    </Text>\n    <Text textAlign=\"center\" mb=\"16\" fontSize=\"xl\">\n      Interactive Private Effecient lectures\n    </Text>\n    <Flex\n      justify=\"space-around\"\n      flexDirection={['column-reverse', 'column-reverse', 'row']}\n    >\n      <Box textAlign={['center', 'center', 'unset']}>\n        <Text\n          fontWeight=\"bold\"\n          fontSize=\"4xl\"\n          mb=\"4\"\n          color=\"cyan.500\"\n          pt={[16, 16, 'unset']}\n        >\n          Emotion Detection\n        </Text>\n        <Text fontSize=\"2xl\" maxW={['unset', 'unset', '360px']}>\n          Observe real-time statistics of students emotins during the lecture.\n        </Text>\n      </Box>\n      <Image px={[16, 16, 'unset']} src={landing2} />\n    </Flex>\n  </Box>\n);\n","export default __webpack_public_path__ + \"static/media/landing3.e3206560.svg\";","import { Image } from '@chakra-ui/image';\nimport { Box, BoxProps, Flex, Text } from '@chakra-ui/layout';\nimport landing3 from 'src/assets/landing3.svg';\n\nexport const Landing3: React.FC<BoxProps> = (props) => (\n  <Flex justify=\"center\" flexDir=\"column\" minH=\"100vh\" {...props} pt=\"10\">\n    <Flex\n      justify=\"space-around\"\n      align=\"center\"\n      flexDirection={['column', 'column', 'row']}\n    >\n      <Image px={[16, 16, 'unset']} src={landing3} mb={[10, 10, 'unset']} />\n\n      <Box textAlign={['center', 'center', 'unset']}>\n        <Text fontWeight=\"bold\" fontSize=\"4xl\" mb=\"4\" color=\"cyan.500\">\n          Students Privacy\n        </Text>\n        <Text fontSize=\"2xl\" maxW=\"360px\">\n          Keep your students emotions anonymous and their data secure. No image\n          leaves their devices.\n        </Text>\n      </Box>\n    </Flex>\n  </Flex>\n);\n","export default __webpack_public_path__ + \"static/media/landing4.f5adfe34.svg\";","import { Image } from '@chakra-ui/image';\nimport { Box, BoxProps, Flex, Text } from '@chakra-ui/layout';\nimport { Tag } from '@chakra-ui/tag';\nimport landing4 from 'src/assets/landing4.svg';\n\nexport const Landing4: React.FC<BoxProps> = (props) => (\n  <Flex justify=\"center\" flexDir=\"column\" minH=\"100vh\" {...props} pt=\"10\">\n    <Flex\n      justify=\"space-around\"\n      align=\"center\"\n      mb=\"4\"\n      flexDirection={['column-reverse', 'column-reverse', 'row']}\n    >\n      <Box textAlign={['center', 'center', 'unset']}>\n        <Box display=\"flex\" alignItems=\"baseline\">\n          <Text fontWeight=\"bold\" fontSize=\"4xl\" color=\"cyan.500\" me={2}>\n            Interactive Polls\n          </Text>\n          <Box>\n            <Tag colorScheme=\"green\">Comming soon</Tag>\n          </Box>\n        </Box>\n        <Text fontSize=\"2xl\" maxW=\"360px\">\n          Engage your class with interactive polls, quizzes and questions.\n        </Text>\n      </Box>\n      <Image px={[16, 16, 'unset']} src={landing4} mb={[16, 16, 'unset']} />\n    </Flex>\n  </Flex>\n);\n","export default __webpack_public_path__ + \"static/media/landing5.395f2b72.svg\";","import { Image } from '@chakra-ui/image';\nimport { BoxProps, Flex, Heading } from '@chakra-ui/layout';\nimport { Button } from '@chakra-ui/button';\nimport landing5 from 'src/assets/landing5.svg';\n\nimport { Link as RouterLink } from 'react-router-dom';\n\nexport const Landing5: React.FC<BoxProps> = (props) => (\n  <Flex justify=\"center\" flexDir=\"column\" minH=\"100vh\" {...props} pt=\"10\">\n    <Flex flexDir=\"column\" align=\"center\">\n      <Image src={landing5} mb={10} px={[16, 16, 'unset']} />\n      <Heading mb={10} fontSize=\"4xl\" textAlign={['center', 'center', 'unset']}>\n        Start your first lecture{' '}\n        <Heading display=\"inline\" color=\"cyan.500\">\n          now\n        </Heading>\n      </Heading>\n      <RouterLink to=\"/signup\">\n        <Button colorScheme=\"cyan\" textColor=\"white\">\n          Try for free\n        </Button>\n      </RouterLink>\n    </Flex>\n  </Flex>\n);\n","import { Header } from 'src/pages/landing/components/Header';\nimport { Footer } from 'src/pages/landing/components/Footer';\nimport { Box } from '@chakra-ui/layout';\nimport { Landing1 } from './Landing1';\nimport { Landing2 } from './Landing2';\nimport { Landing3 } from './Landing3';\nimport { Landing4 } from './Landing4';\nimport { Landing5 } from './Landing5';\n\nexport const Landing = () => (\n  <Box paddingX={[4, 4, 20]} paddingTop={[4, 4, 10]} minW=\"400px\">\n    <Header />\n    <Landing1 />\n    <Landing2 />\n    <Landing3 />\n    <Landing4 />\n    <Landing5 />\n    <Footer />\n  </Box>\n);\n","import { useEffect } from 'react';\nimport { withRouter } from 'react-router-dom';\n\nfunction ScrollToTop({ history }: { history: any }) {\n  useEffect(() => {\n    const unlisten = history.listen(() => {\n      window.scrollTo(0, 0);\n    });\n    return () => {\n      unlisten();\n    };\n  }, [history]);\n\n  return null;\n}\n\nexport default withRouter(ScrollToTop);\n","export default __webpack_public_path__ + \"static/media/eye_logo.65f81cbb.svg\";","import { Flex, Text, Icon, Link, Menu, MenuButton } from '@chakra-ui/react';\n\nexport default function NavItem({ icon, title, active, navSize }: any) {\n  return (\n    <Flex\n      mt=\"25px\"\n      flexDir=\"column\"\n      w=\"100%\"\n      alignItems={navSize === 'small' ? 'center' : 'flex-start'}\n    >\n      <Menu placement=\"right\">\n        <Link\n          backgroundColor={active && ' rgba(145, 206, 199, 0.26)'}\n          border={active && '2px'}\n          borderColor={'rgba(86, 202, 216, 1)'}\n          p=\"8px\"\n          borderRadius={8}\n          _hover={{\n            textDecor: 'none',\n            background: 'rgba(145, 206, 199, 0.26)',\n          }}\n          w={navSize === 'large' ? '140px' : '40px'}\n        >\n          <MenuButton w=\"100%\">\n            <Flex color={active ? 'rgba(86, 202, 216, 1)' : 'gray.400'}>\n              <Icon as={icon} fontSize=\"2xl\" />\n              <Text ml=\"14px\" display={navSize === 'small' ? 'none' : 'flex'}>\n                {title}\n              </Text>\n            </Flex>\n          </MenuButton>\n        </Link>\n      </Menu>\n    </Flex>\n  );\n}\n","import {\n  Flex,\n  Heading,\n  Image,\n  Text,\n  Divider,\n  Avatar,\n  IconButton,\n  Link,\n  Icon,\n} from '@chakra-ui/react';\nimport eye_logo from 'src/assets/eye_logo.svg';\nimport { useState } from 'react';\nimport {\n  AiOutlineHome,\n  AiOutlineCalendar,\n  AiOutlineHistory,\n  AiOutlineBarChart,\n  AiOutlineRight,\n  AiOutlineLeft,\n} from 'react-icons/ai';\nimport { BiDoorOpen } from 'react-icons/bi';\nimport NavItem from './NavItem';\nimport { useMeQuery } from 'src/hooks/useMeQuery';\nimport { logout } from 'src/hooks/useMeQuery';\n\nexport default function Sidebar() {\n  const [navSize, changeNavSize] = useState('large');\n  const themeColor = '#56CAD8';\n  const meQuery = useMeQuery();\n  return (\n    <Flex\n      w={navSize === 'small' ? '81px' : '262px'}\n      flexDir=\"column\"\n      alignItems={navSize === 'small' ? 'center' : 'flex-start'}\n      background=\"white\"\n    >\n      <Flex flexDir=\"column\" justifyContent=\"space-between\" w=\"100%\">\n        <Flex as=\"nav\" w={navSize === 'small' ? '53px' : '206px'} mt=\"28px\">\n          <Image\n            w=\"53px\"\n            ml={navSize === 'small' ? '14px' : '28px'}\n            src={eye_logo}\n          ></Image>\n          <Heading\n            ml=\"13px\"\n            fontSize=\"32px\"\n            alignSelf=\"center\"\n            color=\"#31B3C2\"\n            display={navSize === 'small' ? 'none' : 'flex'}\n          >\n            Edugaze\n          </Heading>\n        </Flex>\n        {/* container of nav items */}\n        <Flex\n          flexDir=\"column\"\n          alignItems={navSize === 'small' ? 'center' : 'flex-start'}\n          justifyContent=\"space-between\"\n          ml={navSize === 'small' ? '0px' : '28px'}\n          mt=\"100px\"\n        >\n          <Flex mt={4} align=\"center\" mb={30}>\n            <Avatar size=\"sm\" background={themeColor} />\n            <Flex\n              flexDir=\"row\"\n              ml={4}\n              display={navSize === 'small' ? 'none' : 'flex'}\n            >\n              <Heading as=\"h3\" size=\"sm\" textColor={themeColor}>\n                {meQuery.data?.username}\n              </Heading>\n            </Flex>\n          </Flex>\n\n          <Divider w={navSize === 'small' ? '40px' : '206px'} align=\"center\" />\n\n          {/* individual nav items */}\n          <NavItem icon={AiOutlineHome} title=\"Home\" navSize={navSize} active />\n          <NavItem\n            icon={AiOutlineCalendar}\n            title=\"Calendar\"\n            navSize={navSize}\n          />\n          <NavItem icon={AiOutlineHistory} title=\"History\" navSize={navSize} />\n          <NavItem\n            icon={AiOutlineBarChart}\n            title=\"Statistics\"\n            navSize={navSize}\n          />\n          {/* <NavItem icon={AiOutlineSetting} title=\"Settings\" navSize={navSize} /> */}\n\n          <Link mt=\"25px\" color=\"#56CAD8\" p=\"8px\" onClick={logout}>\n            <Flex flexDir=\"row\">\n              <Icon as={BiDoorOpen} fontSize=\"2xl\" />\n              <Text\n                as=\"u\"\n                ml=\"14px\"\n                display={navSize === 'small' ? 'none' : 'flex'}\n              >\n                Logout\n              </Text>\n            </Flex>\n          </Link>\n\n          {/* toggle navbar button */}\n          <Flex flexDir=\"row\" align=\"center\" mt=\"33px\" mb=\"33px\" pos=\"sticky\">\n            <IconButton\n              aria-label=\"Expand Navbar\"\n              background=\"none\"\n              w=\"100%\"\n              icon={\n                navSize === 'small' ? (\n                  <AiOutlineRight color={themeColor} />\n                ) : (\n                  <AiOutlineLeft color={themeColor} />\n                )\n              }\n              onClick={() => {\n                if (navSize === 'small') changeNavSize('large');\n                else changeNavSize('small');\n              }}\n              _focus={{ border: 'none' }}\n            />\n            <Flex\n              flexDir=\"row\"\n              ml=\"20px\"\n              display={navSize === 'small' ? 'none' : 'flex'}\n            >\n              <Text size=\"md\" textColor={themeColor} fontWeight=\"bold\">\n                Collapse\n              </Text>\n            </Flex>\n          </Flex>\n        </Flex>\n      </Flex>\n    </Flex>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/no_meeting_img.395e68a8.svg\";","import { useQuery, UseQueryOptions } from 'react-query';\nimport axios, { AxiosError } from 'axios';\nimport { queryClient } from 'src/App';\n\nconst MEETINGS_KEY = 'meetings-key';\n\ntype MeetingsQueryStatus = 'incoming' | 'ended';\n\nexport type Meeting = {\n  title: string;\n  course: string;\n  host: string;\n  startTime: string;\n  _id: string;\n  status: 'incoming' | 'ended' | 'current';\n  endTime: string;\n};\n\nexport function useMeetingsQuery(\n  options?: UseQueryOptions<Meeting[], AxiosError>,\n  status: MeetingsQueryStatus = 'incoming'\n) {\n  return useQuery<Meeting[], AxiosError>(\n    [MEETINGS_KEY, status],\n    () =>\n      axios\n        .get(`http://134.209.132.81:4000/api/v1/meetings/list?status=${status}`)\n        .then((res) => res.data),\n    options\n  );\n}\n\nexport const invalidateMeetingsQuery = () =>\n  queryClient.invalidateQueries([MEETINGS_KEY, 'incoming']);\n","import {\n  Box,\n  Flex,\n  Heading,\n  Text,\n  Button,\n  Icon,\n  IconButton,\n  useClipboard,\n  useToast,\n} from '@chakra-ui/react';\nimport { AiOutlineFieldTime } from 'react-icons/ai';\nimport { Meeting } from '../hooks/useMeetingsQuery';\nimport * as _ from 'date-fns';\nimport { useMeQuery } from 'src/hooks/useMeQuery';\nimport { useEffect, useState } from 'react';\nimport { CheckIcon, CopyIcon } from '@chakra-ui/icons';\nimport { useStartMeetingMutation } from '../hooks/useStartMeetingMutation';\n\nconst RemainingTime = ({ startTime }: { startTime: string }) => (\n  <Flex color=\"gray.400\" mr=\"10px\" alignItems=\"center\">\n    <Icon me={2} as={AiOutlineFieldTime} fontSize=\"2xl\" />\n    <Text>in {_.formatDistanceToNowStrict(new Date(startTime))}</Text>\n  </Flex>\n);\n\nconst baseUrl = 'localhost:3000';\ntype Props = Meeting;\nexport default function MeetingCard({\n  course,\n  startTime,\n  endTime,\n  _id,\n  title,\n  status,\n}: Props) {\n  const { start } = useStartMeetingMutation(_id);\n  const [canStart, setCanStart] = useState(\n    _.isAfter(new Date(), new Date(startTime))\n  );\n  const meetingLink = `${baseUrl}/meeting/${_id}`;\n  const { hasCopied, onCopy: _onCopy, value } = useClipboard(meetingLink, {});\n  const toast = useToast({\n    status: 'success',\n    description: `${value} is copied `,\n  });\n  const onCopy = () => {\n    _onCopy();\n    toast();\n  };\n  useEffect(() => {\n    const clear = setInterval(() => {\n      setCanStart(_.isAfter(new Date(), new Date(startTime)));\n    }, 1000 * 60);\n    return () => {\n      clearInterval(clear);\n    };\n  }, [startTime]);\n\n  const { data: me } = useMeQuery();\n  return (\n    <Box\n      w=\"90%\"\n      h=\"110px\"\n      rounded=\"10px\"\n      backgroundColor=\"white\"\n      boxShadow=\"sm\"\n      p={4}\n      mb=\"20px\"\n    >\n      <Flex flexDir=\"row\" justifyContent=\"space-between\" h=\"100%\" w=\"100%\">\n        <Flex flexDir=\"column\" justifyContent=\"center\">\n          <Heading size=\"md\" mb=\"15px\">\n            {title} - {course}\n          </Heading>\n          <Heading size=\"sm\" color=\"gray.500\">\n            {_.format(new Date(startTime), 'h:mm aaa')} -{' '}\n            {_.format(new Date(endTime), 'h:mm aaa')}{' '}\n          </Heading>\n        </Flex>\n\n        <Flex alignItems=\"center\">\n          {me?.role === 'instructor' ? (\n            <>\n              <IconButton\n                onClick={onCopy}\n                variant=\"outline\"\n                me={4}\n                colorScheme=\"teal\"\n                aria-label=\"\"\n                icon={hasCopied ? <CheckIcon /> : <CopyIcon />}\n              />\n              {canStart ? (\n                <Button\n                  background=\"#56CAD8\"\n                  onClick={() => start()}\n                  textColor=\"white\"\n                  borderRadius=\"10px\"\n                  _focus={{ border: 'none' }}\n                >\n                  Start NOW\n                </Button>\n              ) : (\n                <RemainingTime startTime={startTime} />\n              )}\n            </>\n          ) : (\n            <RemainingTime startTime={startTime} />\n          )}\n        </Flex>\n      </Flex>\n    </Box>\n  );\n}\n","import axios, { AxiosError } from 'axios';\nimport { useMutation, UseMutationOptions } from 'react-query';\nimport { invalidateMeetingsQuery } from './useMeetingsQuery';\n\nexport function useStartMeetingMutation(\n  id: string,\n  options?: UseMutationOptions<string, AxiosError>\n) {\n  const { mutate: start, ...rest } = useMutation<string, AxiosError>(\n    () =>\n      axios\n        .post(`http://134.209.132.81:4000/api/v1/meetings/start/${id}`)\n        .then((res) => res.data),\n    { ...options, onSuccess: invalidateMeetingsQuery }\n  );\n  return { start, ...rest };\n}\n","import {\n  Modal,\n  ModalOverlay,\n  ModalContent,\n  ModalHeader,\n  ModalCloseButton,\n  ModalBody,\n  FormControl,\n  FormLabel,\n  Input,\n  ModalFooter,\n  Button,\n  useToast,\n} from '@chakra-ui/react';\nimport { useState } from 'react';\nimport { useNewMeetingMutation } from './hooks/useNewMeetingMutation';\n\ntype Params = {\n  title: string;\n  course: string;\n  startTime: string;\n  endTime: string;\n};\n\nconst initialState = {\n  course: '',\n  title: '',\n  startTime: '',\n  endTime: '',\n};\nexport function NewMeetingModal({\n  isOpen,\n  onClose,\n}: {\n  isOpen: boolean;\n  onClose: () => void;\n}) {\n  const toast = useToast();\n  const _onClose = () => {\n    setMeeting(initialState);\n    onClose();\n  };\n  const [meeting, setMeeting] = useState<Params>(initialState);\n  const { createMeating: createMeeting } = useNewMeetingMutation({\n    onSuccess: () => {\n      toast({ status: 'success', description: 'Meeting created!' });\n      _onClose();\n    },\n    onError: (error) => {\n      toast({\n        status: 'error',\n        description: error?.response?.data ?? 'An error occured!',\n      });\n    },\n  });\n  function compareTime() {\n    var startTime = new Date(meeting.startTime);\n    var endTime = new Date(meeting.endTime);\n    if (startTime.getTime() > endTime.getTime()) {\n      toast({\n        status: 'error',\n        description: 'Meeting end time cannot be earlier than start time',\n      });\n      return;\n    } else createMeeting(meeting);\n  }\n  return (\n    <Modal isOpen={isOpen} onClose={_onClose} isCentered>\n      <ModalOverlay />\n      <ModalContent>\n        <ModalHeader>Create New Meeting</ModalHeader>\n        <ModalCloseButton />\n        <ModalBody pb={6}>\n          <FormControl>\n            <FormLabel>Meeting Title</FormLabel>\n            <Input\n              onChange={(e) =>\n                setMeeting((old) => ({ ...old, title: e.target.value }))\n              }\n              value={meeting.title}\n              placeholder=\"Meeting title\"\n            />\n          </FormControl>\n\n          <FormControl mt={4}>\n            <FormLabel>Course Name</FormLabel>\n            <Input\n              onChange={(e) =>\n                setMeeting((old) => ({ ...old, course: e.target.value }))\n              }\n              value={meeting.course}\n              placeholder=\"Course name\"\n            />\n          </FormControl>\n\n          <FormControl mt={4}>\n            <FormLabel>Start Time</FormLabel>\n            <Input\n              min={new Date().toISOString().slice(0, -8)}\n              value={meeting.startTime}\n              onChange={(e) =>\n                setMeeting((old) => ({ ...old, startTime: e.target.value }))\n              }\n              type=\"datetime-local\"\n            />\n          </FormControl>\n\n          <FormControl mt={4}>\n            <FormLabel>End Time</FormLabel>\n            <Input\n              value={meeting.endTime}\n              type=\"datetime-local\"\n              disabled={!meeting.startTime}\n              min={meeting.startTime}\n              onChange={(e) => {\n                setMeeting((old) => ({ ...old, endTime: e.target.value }));\n              }}\n            />\n          </FormControl>\n        </ModalBody>\n\n        <ModalFooter>\n          <Button\n            background=\"#56CAD8\"\n            textColor=\"white\"\n            // onClick={() => createMeating(meeting)}\n            onClick={() => compareTime()}\n            mr={3}\n            _focus={{ border: 'none' }}\n          >\n            Create\n          </Button>\n          <Button onClick={_onClose}>Cancel</Button>\n        </ModalFooter>\n      </ModalContent>\n    </Modal>\n  );\n}\n","import axios, { AxiosError } from 'axios';\nimport { useMutation, UseMutationOptions } from 'react-query';\nimport { invalidateMeetingsQuery, Meeting } from './useMeetingsQuery';\n\ntype BaseMeeting = Omit<Omit<Omit<Meeting, 'host'>, 'status'>, '_id'>;\nexport function useNewMeetingMutation(\n  options?: UseMutationOptions<unknown, AxiosError, BaseMeeting>\n) {\n  const { mutate: createMeating, ...rest } = useMutation<\n    unknown,\n    AxiosError,\n    BaseMeeting\n  >(\n    (params) =>\n      axios.post('http://134.209.132.81:4000/api/v1/meetings/new', {\n        ...params,\n        startTime: new Date(params.startTime).toISOString(),\n        endTime: new Date(params.endTime).toISOString(),\n      } as BaseMeeting),\n    {\n      ...options,\n      onSuccess: (...params) => {\n        invalidateMeetingsQuery();\n        options?.onSuccess?.(...params);\n      },\n    }\n  );\n  return { createMeating, ...rest };\n}\n","import {\n  Flex,\n  Button,\n  Image,\n  Text,\n  useDisclosure,\n  Spinner,\n} from '@chakra-ui/react';\nimport noMeetingsIcon from 'src/assets/no_meeting_img.svg';\nimport MeetingCard from './components/MeetingCard';\nimport { useMeetingsQuery } from './hooks/useMeetingsQuery';\n\nimport { NewMeetingModal } from './NewMeetingModal';\n\nconst EmptyList = () => (\n  <Flex flexDir=\"column\" alignItems=\"center\">\n    <Image src={noMeetingsIcon}></Image>\n    <Text fontSize=\"24px\" fontWeight=\"bold\">\n      No live meetings at the moment!\n    </Text>\n  </Flex>\n);\n\nexport default function Homepage() {\n  const meetingsQuery = useMeetingsQuery();\n  const { isOpen, onOpen, onClose } = useDisclosure();\n  return (\n    <Flex overflow=\"auto\" w=\"100%\" flexDir=\"column\">\n      <Flex flexDir=\"row-reverse\" mr={50} mt={50}>\n        <Button\n          background=\"#56CAD8\"\n          textColor=\"white\"\n          borderRadius=\"10px\"\n          _focus={{ border: 'none' }}\n          onClick={onOpen}\n        >\n          New Meeting\n        </Button>\n        <NewMeetingModal isOpen={isOpen} onClose={onClose} />\n      </Flex>\n\n      {/* meetings do exist */}\n      <Flex flexDir=\"column\" alignItems=\"center\" justifyContent=\"space-between\">\n        <Text fontSize=\"22px\" fontWeight=\"light\" color=\"#898989\" mb=\"20px\">\n          Today\n        </Text>\n\n        {meetingsQuery.isLoading || meetingsQuery.isIdle ? (\n          <Spinner />\n        ) : meetingsQuery.isError ? (\n          <Text>\n            An Error Occured!{' '}\n            {process.env.NODE_ENV === 'development' &&\n              meetingsQuery.error.response?.data}\n          </Text>\n        ) : meetingsQuery.data.length === 0 ? (\n          <EmptyList />\n        ) : (\n          meetingsQuery.data.map((meeting) => (\n            <MeetingCard key={meeting._id} {...meeting} />\n          ))\n        )}\n        {/* <MeetingCard\n          courseName=\"Computer Networks - CSE431\"\n          startTime=\"08:00 AM\"\n          endTime=\"10:00 AM\"\n          active\n        />\n        <MeetingCard\n          courseName=\"Software Quality Assurance - CSE434\"\n          startTime=\"08:00 AM\"\n          endTime=\"10:00 AM\"\n        />\n        <MeetingCard\n          courseName=\"Agile - CS325\"\n          startTime=\"08:00 AM\"\n          endTime=\"10:00 AM\"\n        />\n\n        <Text fontSize=\"22px\" fontWeight=\"light\" color=\"#898989\" mb=\"20px\">\n          May 19\n        </Text> \n        <MeetingCard\n          courseName=\"Software Maintenance - CSE426\"\n          startTime=\"09:00 AM\"\n          endTime=\"11:00 AM\"\n        />\n        <MeetingCard\n          courseName=\"Ontologies - CSE486\"\n          startTime=\"12:00 PM\"\n          endTime=\"02:00 PM\"\n        /> */}\n      </Flex>\n    </Flex>\n  );\n}\n","import { Flex } from '@chakra-ui/react';\nimport { useMeQuery } from 'src/hooks/useMeQuery';\nimport Sidebar from './components/SideBar';\nimport Homepage from './MeetingsPage';\n\nexport const DashboardHomepage = () => {\n  useMeQuery({ refetchOnMount: true });\n  return (\n    <Flex\n      h=\"100vh\"\n      flexDir=\"row\"\n      background=\"#F9F9F9\"\n      class=\"dashboard\"\n      overflow=\"hidden\"\n    >\n      {/* Sidebar */}\n      <Sidebar />\n\n      {/* homepage */}\n      <Homepage />\n    </Flex>\n  );\n};\n","import { useEffect } from 'react';\nimport { Meeting } from '../dashboard/hooks/useMeetingsQuery';\nimport { useJoinMutation } from './useJoinMutation';\nimport { useSubscribeMutation } from './useSubscribeMutation';\n\ntype UseMeetingParams = {\n  id: string;\n  onError?: (error: Error) => void;\n  onSuccess?: (token: string, meeting: Meeting) => void;\n};\nexport type UseMeetingReturn =\n  | {\n      isSuccess: true;\n      token: string;\n      meeting: Meeting;\n      isLoading: false;\n      error: null;\n    }\n  | {\n      isSuccess: false;\n      token: undefined;\n      meeting: undefined;\n      isLoading: true;\n      error: null;\n    }\n  | {\n      isSuccess: false;\n      token: undefined;\n      meeting: undefined;\n      isLoading: false;\n      error: Error;\n    };\n\nexport function useMeeting({ id, onError, onSuccess }: UseMeetingParams) {\n  const {\n    subscribe,\n    isLoading: isSubscribing,\n    error: subscribeError,\n    data: meeting,\n  } = useSubscribeMutation(id, {\n    onSuccess: (meeting) => {\n      if (meeting.status === 'current') {\n        join();\n      }\n    },\n    onError: onError,\n  });\n\n  const {\n    join,\n    data: token,\n    error: joinError,\n    isLoading: isJoining,\n    isSuccess: isJoinSuccess,\n  } = useJoinMutation(id, {\n    onSuccess: (token) => onSuccess?.(token, meeting!),\n    onError: onError,\n  });\n\n  useEffect(() => {\n    subscribe();\n  }, [subscribe]);\n\n  return {\n    token,\n    isSuccess:\n      (meeting?.status === 'current' && isJoinSuccess) ||\n      meeting?.status === 'incoming',\n    isLoading: isJoining || isSubscribing,\n    meeting: meeting,\n    error: subscribeError ? subscribeError : joinError,\n  } as UseMeetingReturn;\n}\n","import axios from 'axios';\nimport { useMutation, UseMutationOptions } from 'react-query';\nimport { Meeting } from '../dashboard/hooks/useMeetingsQuery';\n\nexport function useSubscribeMutation(\n  id: string,\n  options?: UseMutationOptions<Meeting, Error>\n) {\n  const { mutate: subscribe, ...rest } = useMutation<Meeting, Error>(\n    () =>\n      axios\n        .post(`http://134.209.132.81:4000/api/v1/meetings/subscribe/${id}`)\n        .then((res) => res.data),\n    options\n  );\n  return { subscribe, ...rest };\n}\n","import axios from 'axios';\nimport { useMutation, UseMutationOptions } from 'react-query';\n\nexport function useJoinMutation(\n  id: string,\n  options?: UseMutationOptions<string, Error>\n) {\n  const { mutate: join, ...rest } = useMutation<string, Error>(\n    () =>\n      axios\n        .post(`http://134.209.132.81:4000/api/v1/meetings/join/${id}`)\n        .then((res) => res.data),\n    options\n  );\n  return { join, ...rest };\n}\n","import { useState, useEffect } from 'react';\nimport { LocalAudioTrack, LocalVideoTrack, RemoteAudioTrack, RemoteVideoTrack } from 'twilio-video';\n\ntype TrackType = LocalAudioTrack | LocalVideoTrack | RemoteAudioTrack | RemoteVideoTrack | undefined;\n\nexport default function useIsTrackEnabled(track: TrackType) {\n  const [isEnabled, setIsEnabled] = useState(track ? track.isEnabled : false);\n\n  useEffect(() => {\n    setIsEnabled(track ? track.isEnabled : false);\n\n    if (track) {\n      const setEnabled = () => setIsEnabled(true);\n      const setDisabled = () => setIsEnabled(false);\n      track.on('enabled', setEnabled);\n      track.on('disabled', setDisabled);\n      return () => {\n        track.off('enabled', setEnabled);\n        track.off('disabled', setDisabled);\n      };\n    }\n  }, [track]);\n\n  return isEnabled;\n}\n","import { useState, useEffect } from 'react';\nimport { AudioTrack, VideoTrack } from 'twilio-video';\n\n/*\n * This hook allows components to reliably use the 'mediaStreamTrack' property of\n * an AudioTrack or a VideoTrack. Whenever 'localTrack.restart(...)' is called, it\n * will replace the mediaStreamTrack property of the localTrack, but the localTrack\n * object will stay the same. Therefore this hook is needed in order for components\n * to rerender in response to the mediaStreamTrack changing.\n */\nexport default function useMediaStreamTrack(track?: AudioTrack | VideoTrack) {\n  const [mediaStreamTrack, setMediaStreamTrack] = useState(track?.mediaStreamTrack);\n\n  useEffect(() => {\n    setMediaStreamTrack(track?.mediaStreamTrack);\n\n    if (track) {\n      const handleStarted = () => setMediaStreamTrack(track.mediaStreamTrack);\n      track.on('started', handleStarted);\n      return () => {\n        track.off('started', handleStarted);\n      };\n    }\n  }, [track]);\n\n  return mediaStreamTrack;\n}\n","import React, { useEffect, useRef, useState } from 'react';\nimport { AudioTrack, LocalAudioTrack, RemoteAudioTrack } from 'twilio-video';\nimport { interval } from 'd3-timer';\nimport useIsTrackEnabled from '../../hooks/useIsTrackEnabled/useIsTrackEnabled';\nimport useMediaStreamTrack from '../../hooks/useMediaStreamTrack/useMediaStreamTrack';\n\nlet clipId = 0;\nconst getUniqueClipId = () => clipId++;\n\n// @ts-ignore\nconst AudioContext = window.AudioContext || window.webkitAudioContext;\nlet audioContext: AudioContext;\n\nexport function initializeAnalyser(stream: MediaStream) {\n  audioContext = audioContext || new AudioContext();\n  const audioSource = audioContext.createMediaStreamSource(stream);\n\n  const analyser = audioContext.createAnalyser();\n  analyser.smoothingTimeConstant = 0.2;\n  analyser.fftSize = 256;\n\n  audioSource.connect(analyser);\n  return analyser;\n}\n\nfunction AudioLevelIndicator({ audioTrack, color = 'white' }: { audioTrack?: AudioTrack; color?: string }) {\n  const SVGRectRef = useRef<SVGRectElement>(null);\n  const [analyser, setAnalyser] = useState<AnalyserNode>();\n  const isTrackEnabled = useIsTrackEnabled(audioTrack as LocalAudioTrack | RemoteAudioTrack);\n  const mediaStreamTrack = useMediaStreamTrack(audioTrack);\n\n  useEffect(() => {\n    if (audioTrack && mediaStreamTrack && isTrackEnabled) {\n      // Here we create a new MediaStream from a clone of the mediaStreamTrack.\n      // A clone is created to allow multiple instances of this component for a single\n      // AudioTrack on iOS Safari.\n      let newMediaStream = new MediaStream([mediaStreamTrack.clone()]);\n\n      // Here we listen for the 'stopped' event on the audioTrack. When the audioTrack is stopped,\n      // we stop the cloned track that is stored in 'newMediaStream'. It is important that we stop\n      // all tracks when they are not in use. Browsers like Firefox don't let you create a new stream\n      // from a new audio device while the active audio device still has active tracks.\n      const stopAllMediaStreamTracks = () => newMediaStream.getTracks().forEach(track => track.stop());\n      audioTrack.on('stopped', stopAllMediaStreamTracks);\n\n      const reinitializeAnalyser = () => {\n        stopAllMediaStreamTracks();\n        newMediaStream = new MediaStream([mediaStreamTrack.clone()]);\n        setAnalyser(initializeAnalyser(newMediaStream));\n      };\n\n      setAnalyser(initializeAnalyser(newMediaStream));\n\n      // Here we reinitialize the AnalyserNode on focus to avoid an issue in Safari\n      // where the analysers stop functioning when the user switches to a new tab\n      // and switches back to the app.\n      window.addEventListener('focus', reinitializeAnalyser);\n\n      return () => {\n        stopAllMediaStreamTracks();\n        window.removeEventListener('focus', reinitializeAnalyser);\n        audioTrack.off('stopped', stopAllMediaStreamTracks);\n      };\n    }\n  }, [isTrackEnabled, mediaStreamTrack, audioTrack]);\n\n  useEffect(() => {\n    const SVGClipElement = SVGRectRef.current;\n\n    if (isTrackEnabled && SVGClipElement && analyser) {\n      const sampleArray = new Uint8Array(analyser.frequencyBinCount);\n\n      const timer = interval(() => {\n        analyser.getByteFrequencyData(sampleArray);\n        let values = 0;\n\n        const length = sampleArray.length;\n        for (let i = 0; i < length; i++) {\n          values += sampleArray[i];\n        }\n\n        const volume = Math.min(14, Math.max(0, Math.log10(values / length / 3) * 7));\n\n        SVGClipElement?.setAttribute('y', String(14 - volume));\n      }, 100);\n\n      return () => {\n        SVGClipElement.setAttribute('y', '14');\n        timer.stop();\n      };\n    }\n  }, [isTrackEnabled, analyser]);\n\n  // Each instance of this component will need a unique HTML ID\n  const clipPathId = `audio-level-clip-${getUniqueClipId()}`;\n\n  return isTrackEnabled ? (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" data-test-audio-indicator>\n      <defs>\n        <clipPath id={clipPathId}>\n          <rect ref={SVGRectRef} x=\"0\" y=\"14\" width=\"24\" height=\"24\" />\n        </clipPath>\n      </defs>\n      <g fill=\"none\" fillRule=\"evenodd\" transform=\"translate(.5)\">\n        <rect\n          clipPath={`url(#${clipPathId})`}\n          width=\"5.2\"\n          height=\"10\"\n          x=\"9.5\"\n          y=\"3.5\"\n          rx=\"6\"\n          ry=\"3\"\n          fill=\"#23BF6E\"\n        ></rect>\n        <path\n          fill={color}\n          strokeWidth=\"0\"\n          d=\"M17.389 10.667c.276 0 .5.224.5.5 0 3.114-2.396 5.67-5.445 5.923v2.632c0 .276-.223.5-.5.5-.245 0-.45-.177-.491-.41l-.009-.09V17.09C8.395 16.836 6 14.281 6 11.167c0-.276.224-.5.5-.5s.5.224.5.5c0 2.73 2.214 4.944 4.944 4.944 2.731 0 4.945-2.214 4.945-4.944 0-.276.224-.5.5-.5zM11.944 4c1.566 0 2.834 1.268 2.834 2.833v4.334c0 1.564-1.268 2.833-2.834 2.833-1.564 0-2.833-1.27-2.833-2.833V6.833C9.111 5.268 10.38 4 11.944 4zm0 1c-1.012 0-1.833.82-1.833 1.833v4.334c0 1.012.822 1.833 1.833 1.833 1.013 0 1.834-.82 1.834-1.833V6.833c0-1.013-.82-1.833-1.834-1.833z\"\n        />\n      </g>\n    </svg>\n  ) : (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      transform=\"translate(-0.5, 0)\"\n      data-test-audio-mute-icon\n    >\n      <g fill=\"none\" fillRule=\"evenodd\">\n        <path\n          fill={color}\n          strokeWidth=\"0\"\n          d=\"M11.889 6.667c.276 0 .5.224.5.5 0 3.114-2.396 5.67-5.445 5.923v2.632c0 .276-.223.5-.5.5-.245 0-.45-.177-.491-.41l-.009-.09V13.09c-1.116-.093-2.145-.494-3-1.119l.717-.717c.793.54 1.751.857 2.783.857 2.731 0 4.945-2.214 4.945-4.944 0-.276.224-.5.5-.5zM1 6.667c.276 0 .5.224.5.5 0 .975.282 1.884.77 2.65l-.722.721C.888 9.58.5 8.418.5 7.167c0-.276.224-.5.5-.5zm8.277-1.031v1.53C9.278 8.732 8.01 10 6.445 10c-.446 0-.868-.103-1.243-.287l.776-.773c.149.039.306.06.467.06.963 0 1.751-.74 1.828-1.683l.006-.15v-.531l1-1zM6.444 0C8.01 0 9.278 1.268 9.278 2.833l-.002-.025-.999.999v-.974c0-.962-.74-1.75-1.682-1.827L6.445 1c-.962 0-1.751.74-1.828 1.683l-.006.15v4.334c0 .097.008.192.022.285l-.804.805c-.112-.269-.184-.558-.209-.86l-.009-.23V2.833C3.611 1.268 4.88 0 6.444 0z\"\n          transform=\"translate(6.5 4)\"\n        />\n        <path\n          fill=\"red\"\n          strokeWidth=\"0\"\n          d=\"M12.146.646c.196-.195.512-.195.708 0 .173.174.192.443.057.638l-.057.07-12 12c-.196.195-.512.195-.708 0-.173-.174-.192-.443-.057-.638l.057-.07 12-12z\"\n          transform=\"translate(6.5 4)\"\n        />\n      </g>\n    </svg>\n  );\n}\n\nexport default React.memo(AudioLevelIndicator);\n","import React from 'react';\n\nexport default function AvatarIcon() {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"73\" height=\"73\" viewBox=\"0 0 73 73\">\n      <g fill=\"none\" fillRule=\"evenodd\">\n        <circle cx=\"36.5\" cy=\"36.5\" r=\"36.5\" fill=\"#FFF\" />\n        <path\n          fill=\"#282A2B\"\n          strokeLinejoin=\"round\"\n          d=\"M30.973 23.925c-3.162 3.794-3.162 9.886 0 13.68l.262.301c.266.293.548.564.842.812l.192.154v2.95l-6.71 2.397-.213.082c-2.03.834-3.346 2.793-3.346 4.97v2.766c0 .532.431.963.963.963h27.874c.531 0 .962-.431.962-.963V49.27l-.005-.228-.015-.233c-.187-2.092-1.562-3.883-3.539-4.59l-6.71-2.397v-2.95l.192-.154c.393-.33.762-.702 1.104-1.112 3.162-3.795 3.162-9.887 0-13.681-3.25-3.9-8.603-3.9-11.853 0zm10.374 1.232c2.567 3.08 2.567 8.135 0 11.216-.404.484-.85.894-1.328 1.226-.26.18-.414.476-.414.791v4.111c0 .407.255.77.639.907l7.348 2.625c1.314.47 2.213 1.687 2.278 3.077l.004.183v1.781h-25.95l.002-1.804c0-1.394.843-2.65 2.131-3.18l.172-.065 7.327-2.617c.383-.137.639-.5.639-.907v-4.11c0-.316-.155-.612-.415-.792-.478-.332-.924-.742-1.328-1.226-2.567-3.08-2.567-8.135 0-11.216 2.427-2.912 6.248-2.974 8.735-.186l.16.186z\"\n        />\n      </g>\n    </svg>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Participant } from 'twilio-video';\nimport useParticipantNetworkQualityLevel from '../../hooks/useParticipantNetworkQualityLevel/useParticipantNetworkQualityLevel';\n\nconst useStyles = makeStyles({\n  outerContainer: {\n    width: '2em',\n    height: '2em',\n    padding: '0.9em',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    background: 'rgba(0, 0, 0, 0.5)',\n  },\n  innerContainer: {\n    display: 'flex',\n    alignItems: 'flex-end',\n    '& div': {\n      width: '2px',\n      marginRight: '1px',\n      '&:not(:last-child)': {\n        borderRight: 'none',\n      },\n    },\n  },\n});\n\nconst STEP = 3;\nconst BARS_ARRAY = [0, 1, 2, 3, 4];\n\nexport default function NetworkQualityLevel({ participant }: { participant: Participant }) {\n  const classes = useStyles();\n  const networkQualityLevel = useParticipantNetworkQualityLevel(participant);\n\n  if (networkQualityLevel === null) return null;\n\n  return (\n    <div className={classes.outerContainer}>\n      <div className={classes.innerContainer}>\n        {BARS_ARRAY.map(level => (\n          <div\n            key={level}\n            style={{\n              height: `${STEP * (level + 1)}px`,\n              background: networkQualityLevel > level ? 'white' : 'rgba(255, 255, 255, 0.2)',\n            }}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n","import { useEffect, useState } from 'react';\nimport { Participant } from 'twilio-video';\n\nexport default function useParticipantNetworkQualityLevel(participant: Participant) {\n  const [networkQualityLevel, setNetworkQualityLevel] = useState(participant.networkQualityLevel);\n\n  useEffect(() => {\n    const handleNewtorkQualityLevelChange = (newNetworkQualityLevel: number) =>\n      setNetworkQualityLevel(newNetworkQualityLevel);\n\n    setNetworkQualityLevel(participant.networkQualityLevel);\n    participant.on('networkQualityLevelChanged', handleNewtorkQualityLevelChange);\n    return () => {\n      participant.off('networkQualityLevelChanged', handleNewtorkQualityLevelChange);\n    };\n  }, [participant]);\n\n  return networkQualityLevel;\n}\n","import React from 'react';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nexport default function PinIcon() {\n  return (\n    <Tooltip title=\"Participant is pinned. Click to un-pin.\" placement=\"top\">\n      <SvgIcon\n        style={{ float: 'right', background: 'rgba(0, 0, 0, 0.5)', padding: '0.1em', boxSizing: 'content-box' }}\n        width=\"26\"\n        height=\"26\"\n        viewBox=\"0 0 26 26\"\n      >\n        <path\n          fill=\"#FFF\"\n          fillRule=\"evenodd\"\n          strokeWidth=\"0\"\n          d=\"M15.808 4.489c.208-.207.544-.207.75 0l4.953 4.952c.207.207.207.543 0 .75l-1.415 1.415c-.207.208-.543.208-.75 0l-.333-.333-3.007 3.007v2.611c0 .113-.035.222-.1.312l-.055.063-1.06 1.062c-.208.207-.544.207-.751 0l-2.809-2.81-5.992 5.993c-.207.207-.543.207-.75 0-.184-.184-.205-.47-.062-.677l.062-.073 5.991-5.993-2.808-2.808c-.184-.184-.204-.47-.061-.677l.061-.073 1.062-1.061c.1-.1.234-.156.375-.156h2.61l3.007-3.007-.332-.332c-.185-.184-.205-.47-.062-.677l.062-.073zm.376 1.125l-.666.664.333.333c.185.184.205.47.062.677l-.062.074-3.537 3.537c-.1.1-.234.155-.375.155h-2.61l-.531.531 2.803 2.803.005.006.005.005 2.804 2.803.53-.531v-2.61c0-.112.036-.221.102-.311l.054-.064 3.537-3.537c.208-.208.544-.208.75 0l.333.332.664-.666-4.201-4.201z\"\n        />\n      </SvgIcon>\n    </Tooltip>\n  );\n}\n","import React from 'react';\n\nexport default function ScreenShareIcon() {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path\n        fill=\"#707578\"\n        fillRule=\"evenodd\"\n        d=\"M17.657 6.343c3.124 3.124 3.124 8.19 0 11.314-3.124 3.124-8.19 3.124-11.314 0-3.124-3.124-3.124-8.19 0-11.314 3.124-3.124 8.19-3.124 11.314 0zm-10.444.87c-2.643 2.644-2.643 6.93 0 9.574 2.644 2.643 6.93 2.643 9.574 0 2.57-2.57 2.641-6.693.214-9.35l-.214-.224L16.563 7c-2.657-2.427-6.78-2.356-9.35.214zm4.865.484l.02.003.026.005.041.01c.025.007.045.014.063.021l.043.019c.018.009.036.019.053.03.01.005.02.012.03.02.027.019.053.04.077.063l2.773 2.774c.24.24.24.63 0 .87-.213.214-.545.237-.785.071l-.085-.07-1.719-1.72v5.9c0 .34-.275.615-.615.615-.302 0-.553-.218-.605-.505l-.01-.11-.001-5.9-1.718 1.72c-.24.24-.63.24-.87 0-.214-.215-.238-.546-.072-.786l.072-.085 2.769-2.77.015-.014c.02-.018.04-.035.062-.05l.005-.004.008-.006c.027-.018.055-.034.085-.048l.034-.015.059-.02.032-.008c.021-.005.044-.008.068-.011l.038-.003H12.025l.027.002.026.002z\"\n      />\n    </svg>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { LocalVideoTrack, RemoteVideoTrack } from 'twilio-video';\n\ntype TrackType = RemoteVideoTrack | LocalVideoTrack | undefined | null;\n\n// The 'switchedOff' event is emitted when there is not enough bandwidth to support\n// a track. See: https://www.twilio.com/docs/video/tutorials/using-bandwidth-profile-api#understanding-track-switch-offs\n\nexport default function useIsTrackSwitchedOff(track: TrackType) {\n  const [isSwitchedOff, setIsSwitchedOff] = useState(track && track.isSwitchedOff);\n\n  useEffect(() => {\n    // Reset the value if the 'track' variable changes\n    setIsSwitchedOff(track && track.isSwitchedOff);\n\n    if (track) {\n      const handleSwitchedOff = () => setIsSwitchedOff(true);\n      const handleSwitchedOn = () => setIsSwitchedOff(false);\n      track.on('switchedOff', handleSwitchedOff);\n      track.on('switchedOn', handleSwitchedOn);\n      return () => {\n        track.off('switchedOff', handleSwitchedOff);\n        track.off('switchedOn', handleSwitchedOn);\n      };\n    }\n  }, [track]);\n\n  return !!isSwitchedOff;\n}\n","import { useEffect, useState } from 'react';\nimport { LocalTrackPublication, Participant, RemoteTrackPublication } from 'twilio-video';\n\ntype TrackPublication = LocalTrackPublication | RemoteTrackPublication;\n\nexport default function usePublications(participant: Participant) {\n  const [publications, setPublications] = useState<TrackPublication[]>([]);\n\n  useEffect(() => {\n    // Reset the publications when the 'participant' variable changes.\n    setPublications(Array.from(participant.tracks.values()) as TrackPublication[]);\n\n    const publicationAdded = (publication: TrackPublication) =>\n      setPublications(prevPublications => [...prevPublications, publication]);\n    const publicationRemoved = (publication: TrackPublication) =>\n      setPublications(prevPublications => prevPublications.filter(p => p !== publication));\n\n    participant.on('trackPublished', publicationAdded);\n    participant.on('trackUnpublished', publicationRemoved);\n    return () => {\n      participant.off('trackPublished', publicationAdded);\n      participant.off('trackUnpublished', publicationRemoved);\n    };\n  }, [participant]);\n\n  return publications;\n}\n","import { useEffect, useState } from 'react';\nimport { LocalTrackPublication, RemoteTrackPublication } from 'twilio-video';\n\nexport default function useTrack(publication: LocalTrackPublication | RemoteTrackPublication | undefined) {\n  const [track, setTrack] = useState(publication && publication.track);\n\n  useEffect(() => {\n    // Reset the track when the 'publication' variable changes.\n    setTrack(publication && publication.track);\n\n    if (publication) {\n      const removeTrack = () => setTrack(null);\n\n      publication.on('subscribed', setTrack);\n      publication.on('unsubscribed', removeTrack);\n      return () => {\n        publication.off('subscribed', setTrack);\n        publication.off('unsubscribed', removeTrack);\n      };\n    }\n  }, [publication]);\n\n  return track;\n}\n","import { useEffect, useState } from 'react';\nimport { Participant } from 'twilio-video';\n\nexport default function useParticipantIsReconnecting(participant: Participant) {\n  const [isReconnecting, setIsReconnecting] = useState(false);\n\n  useEffect(() => {\n    const handleReconnecting = () => setIsReconnecting(true);\n    const handleReconnected = () => setIsReconnecting(false);\n\n    handleReconnected(); // Reset state when there is a new participant\n\n    participant.on('reconnecting', handleReconnecting);\n    participant.on('reconnected', handleReconnected);\n    return () => {\n      participant.off('reconnecting', handleReconnecting);\n      participant.off('reconnected', handleReconnected);\n    };\n  }, [participant]);\n\n  return isReconnecting;\n}\n","import React from 'react';\nimport clsx from 'clsx';\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\nimport {\n  LocalAudioTrack,\n  LocalVideoTrack,\n  Participant,\n  RemoteAudioTrack,\n  RemoteVideoTrack,\n} from 'twilio-video';\n\nimport AudioLevelIndicator from '../AudioLevelIndicator/AudioLevelIndicator';\nimport AvatarIcon from '../../icons/AvatarIcon';\nimport NetworkQualityLevel from '../NetworkQualityLevel/NetworkQualityLevel';\nimport PinIcon from './PinIcon/PinIcon';\nimport ScreenShareIcon from '../../icons/ScreenShareIcon';\nimport Typography from '@material-ui/core/Typography';\n\nimport useIsTrackSwitchedOff from '../../hooks/useIsTrackSwitchedOff/useIsTrackSwitchedOff';\nimport usePublications from '../../hooks/usePublications/usePublications';\nimport useTrack from '../../hooks/useTrack/useTrack';\nimport useParticipantIsReconnecting from '../../hooks/useParticipantIsReconnecting/useParticipantIsReconnecting';\n\nconst useStyles = makeStyles((theme: any) =>\n  createStyles({\n    container: {\n      position: 'relative',\n      display: 'flex',\n      alignItems: 'center',\n      height: 0,\n      overflow: 'hidden',\n      marginBottom: '0.5em',\n      '& video': {\n        filter: 'none',\n        objectFit: 'contain !important',\n      },\n      borderRadius: '4px',\n      border: `${theme.participantBorderWidth}px solid rgb(245, 248, 255)`,\n      paddingTop: `calc(${(9 / 16) * 100}% - ${\n        theme.participantBorderWidth\n      }px)`,\n      background: 'black',\n      [theme.breakpoints.down('sm')]: {\n        height: theme.sidebarMobileHeight,\n        width: `${(theme.sidebarMobileHeight * 16) / 9}px`,\n        marginRight: '8px',\n        marginBottom: '0',\n        fontSize: '10px',\n        paddingTop: `${theme.sidebarMobileHeight - 2}px`,\n      },\n    },\n    innerContainer: {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      width: '100%',\n      height: '100%',\n    },\n    infoContainer: {\n      position: 'absolute',\n      zIndex: 2,\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'space-between',\n      height: '100%',\n      width: '100%',\n      background: 'transparent',\n      top: 0,\n    },\n    avatarContainer: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      background: 'black',\n      position: 'absolute',\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      zIndex: 1,\n      [theme.breakpoints.down('sm')]: {\n        '& svg': {\n          transform: 'scale(0.7)',\n        },\n      },\n    },\n    reconnectingContainer: {\n      position: 'absolute',\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      background: 'rgba(40, 42, 43, 0.75)',\n      zIndex: 1,\n    },\n    screenShareIconContainer: {\n      background: 'rgba(0, 0, 0, 0.5)',\n      padding: '0.18em 0.3em',\n      marginRight: '0.3em',\n      display: 'flex',\n      '& path': {\n        fill: 'white',\n      },\n    },\n    identity: {\n      background: 'rgba(0, 0, 0, 0.5)',\n      color: 'white',\n      padding: '0.18em 0.3em',\n      margin: 0,\n      display: 'flex',\n      alignItems: 'center',\n    },\n    infoRowBottom: {\n      display: 'flex',\n      justifyContent: 'space-between',\n      position: 'absolute',\n      bottom: 0,\n      left: 0,\n    },\n    typeography: {\n      color: 'white',\n      [theme.breakpoints.down('sm')]: {\n        fontSize: '0.75rem',\n      },\n    },\n    hideParticipant: {\n      display: 'none',\n    },\n    cursorPointer: {\n      cursor: 'pointer',\n    },\n  })\n);\n\ninterface ParticipantInfoProps {\n  participant: Participant;\n  children: React.ReactNode;\n  onClick?: () => void;\n  isSelected?: boolean;\n  isLocalParticipant?: boolean;\n  hideParticipant?: boolean;\n}\n\nexport default function ParticipantInfo({\n  participant,\n  onClick,\n  isSelected,\n  children,\n  isLocalParticipant,\n  hideParticipant,\n}: ParticipantInfoProps) {\n  const publications = usePublications(participant);\n\n  const audioPublication = publications.find((p) => p.kind === 'audio');\n  const videoPublication = publications.find((p) =>\n    p.trackName.includes('camera')\n  );\n\n  const isVideoEnabled = Boolean(videoPublication);\n  const isScreenShareEnabled = publications.find((p) =>\n    p.trackName.includes('screen')\n  );\n\n  const videoTrack = useTrack(videoPublication);\n  const isVideoSwitchedOff = useIsTrackSwitchedOff(\n    videoTrack as LocalVideoTrack | RemoteVideoTrack\n  );\n\n  const audioTrack = useTrack(audioPublication) as\n    | LocalAudioTrack\n    | RemoteAudioTrack\n    | undefined;\n  const isParticipantReconnecting = useParticipantIsReconnecting(participant);\n\n  const classes = useStyles();\n\n  return (\n    <div\n      className={clsx(classes.container, {\n        [classes.hideParticipant]: hideParticipant,\n        [classes.cursorPointer]: Boolean(onClick),\n      })}\n      onClick={onClick}\n      data-cy-participant={participant.identity}\n    >\n      <div className={classes.infoContainer}>\n        <NetworkQualityLevel participant={participant} />\n        <div className={classes.infoRowBottom}>\n          {isScreenShareEnabled && (\n            <span className={classes.screenShareIconContainer}>\n              <ScreenShareIcon />\n            </span>\n          )}\n          <span className={classes.identity}>\n            <AudioLevelIndicator audioTrack={audioTrack} />\n            <Typography\n              variant=\"body1\"\n              className={classes.typeography}\n              component=\"span\"\n            >\n              {participant.identity}\n              {isLocalParticipant && ' (You)'}\n            </Typography>\n          </span>\n        </div>\n        <div>{isSelected && <PinIcon />}</div>\n      </div>\n      <div className={classes.innerContainer}>\n        {(!isVideoEnabled || isVideoSwitchedOff) && (\n          <div className={classes.avatarContainer}>\n            <AvatarIcon />\n          </div>\n        )}\n        {isParticipantReconnecting && (\n          <div className={classes.reconnectingContainer}>\n            <Typography variant=\"body1\" className={classes.typeography}>\n              Reconnecting...\n            </Typography>\n          </div>\n        )}\n        {children}\n      </div>\n    </div>\n  );\n}\n","export const DEFAULT_VIDEO_CONSTRAINTS: MediaStreamConstraints['video'] = {\n  width: 1280,\n  height: 720,\n  frameRate: 24,\n};\n\n// These are used to store the selected media devices in localStorage\nexport const SELECTED_AUDIO_INPUT_KEY = 'TwilioVideoApp-selectedAudioInput';\nexport const SELECTED_AUDIO_OUTPUT_KEY = 'TwilioVideoApp-selectedAudioOutput';\nexport const SELECTED_VIDEO_INPUT_KEY = 'TwilioVideoApp-selectedVideoInput';\n","import isPlainObject from 'is-plain-object';\n\nexport const isMobile = (() => {\n  if (typeof navigator === 'undefined' || typeof navigator.userAgent !== 'string') {\n    return false;\n  }\n  return /Mobile/.test(navigator.userAgent);\n})();\n\n// Recursively removes any object keys with a value of undefined\nexport function removeUndefineds<T>(obj: T): T {\n  if (!isPlainObject(obj)) return obj;\n\n  const target: { [name: string]: any } = {};\n\n  for (const key in obj) {\n    const val = obj[key];\n    if (typeof val !== 'undefined') {\n      target[key] = removeUndefineds(val);\n    }\n  }\n\n  return target as T;\n}\n\nexport async function getDeviceInfo() {\n  const devices = await navigator.mediaDevices.enumerateDevices();\n\n  return {\n    audioInputDevices: devices.filter(device => device.kind === 'audioinput'),\n    videoInputDevices: devices.filter(device => device.kind === 'videoinput'),\n    audioOutputDevices: devices.filter(device => device.kind === 'audiooutput'),\n    hasAudioInputDevices: devices.some(device => device.kind === 'audioinput'),\n    hasVideoInputDevices: devices.some(device => device.kind === 'videoinput'),\n  };\n}\n\n// This function will return 'true' when the specified permission has been denied by the user.\n// If the API doesn't exist, or the query function returns an error, 'false' will be returned.\nexport async function isPermissionDenied(name: PermissionName) {\n  if (navigator.permissions) {\n    try {\n      const result = await navigator.permissions.query({ name });\n      return result.state === 'denied';\n    } catch {\n      return false;\n    }\n  } else {\n    return false;\n  }\n}\n","import { useState, useEffect } from 'react';\nimport { getDeviceInfo } from '../../utils';\n\n// This returns the type of the value that is returned by a promise resolution\ntype ThenArg<T> = T extends PromiseLike<infer U> ? U : never;\n\nexport default function useDevices() {\n  const [deviceInfo, setDeviceInfo] = useState<ThenArg<ReturnType<typeof getDeviceInfo>>>({\n    audioInputDevices: [],\n    videoInputDevices: [],\n    audioOutputDevices: [],\n    hasAudioInputDevices: false,\n    hasVideoInputDevices: false,\n  });\n\n  useEffect(() => {\n    const getDevices = () => getDeviceInfo().then(devices => setDeviceInfo(devices));\n    navigator.mediaDevices.addEventListener('devicechange', getDevices);\n    getDevices();\n\n    return () => {\n      navigator.mediaDevices.removeEventListener('devicechange', getDevices);\n    };\n  }, []);\n\n  return deviceInfo;\n}\n","import { useCallback, useEffect, useState } from 'react';\nimport { SELECTED_AUDIO_OUTPUT_KEY } from 'src/constants';\nimport useDevices from './useDevices/useDevices';\n\nexport function useActiveSinkId() {\n  const { audioOutputDevices } = useDevices();\n  const [activeSinkId, _setActiveSinkId] = useState('default');\n\n  const setActiveSinkId = useCallback((sinkId: string) => {\n    window.localStorage.setItem(SELECTED_AUDIO_OUTPUT_KEY, sinkId);\n    _setActiveSinkId(sinkId);\n  }, []);\n\n  useEffect(() => {\n    const selectedSinkId = window.localStorage.getItem(\n      SELECTED_AUDIO_OUTPUT_KEY\n    );\n    const hasSelectedAudioOutputDevice = audioOutputDevices.some(\n      (device) => selectedSinkId && device.deviceId === selectedSinkId\n    );\n    if (hasSelectedAudioOutputDevice) {\n      _setActiveSinkId(selectedSinkId!);\n    }\n  }, [audioOutputDevices]);\n\n  return [activeSinkId, setActiveSinkId] as const;\n}\n","import { useEffect, useRef } from 'react';\nimport { AudioTrack as IAudioTrack } from 'twilio-video';\nimport { useActiveSinkId } from '../../hooks/useAppSinkId';\n\ninterface AudioTrackProps {\n  track: IAudioTrack;\n}\n\nexport default function AudioTrack({ track }: AudioTrackProps) {\n  const [activeSinkId] = useActiveSinkId();\n  const audioEl = useRef<HTMLAudioElement>();\n\n  useEffect(() => {\n    audioEl.current = track.attach();\n    audioEl.current.setAttribute('data-cy-audio-track-name', track.name);\n    document.body.appendChild(audioEl.current);\n    return () => track.detach().forEach((el) => el.remove());\n  }, [track]);\n\n  useEffect(() => {\n    audioEl.current?.setSinkId?.(activeSinkId);\n  }, [activeSinkId]);\n\n  return null;\n}\n","import React, { useRef, useEffect } from 'react';\nimport { IVideoTrack } from '../../types';\nimport { styled } from '@material-ui/core/styles';\nimport { Track } from 'twilio-video';\nimport useMediaStreamTrack from '../../hooks/useMediaStreamTrack/useMediaStreamTrack';\nimport useVideoTrackDimensions from '../../hooks/useVideoTrackDimensions/useVideoTrackDimensions';\n\nconst Video = styled('video')({\n  width: '100%',\n  height: '100%',\n});\n\ninterface VideoTrackProps {\n  track: IVideoTrack;\n  isLocal?: boolean;\n  priority?: Track.Priority | null;\n}\n\nexport default function VideoTrack({\n  track,\n  isLocal,\n  priority,\n}: VideoTrackProps) {\n  const ref = useRef<HTMLVideoElement>(null!);\n  const mediaStreamTrack = useMediaStreamTrack(track);\n  const dimensions = useVideoTrackDimensions(track);\n  const isPortrait = (dimensions?.height ?? 0) > (dimensions?.width ?? 0);\n\n  useEffect(() => {\n    const el = ref.current;\n    el.muted = true;\n    if (track.setPriority && priority) {\n      track.setPriority(priority);\n    }\n    track.attach(el);\n    return () => {\n      track.detach(el);\n      if (track.setPriority && priority) {\n        // Passing `null` to setPriority will set the track's priority to that which it was published with.\n        track.setPriority(null);\n      }\n    };\n  }, [track, priority]);\n\n  // The local video track is mirrored if it is not facing the environment.\n  const isFrontFacing =\n    mediaStreamTrack?.getSettings().facingMode !== 'environment';\n  const style = {\n    transform: isLocal && isFrontFacing ? 'rotateY(180deg)' : '',\n    objectFit:\n      isPortrait || track.name.includes('screen')\n        ? ('contain' as const)\n        : ('cover' as const),\n  };\n\n  return <Video ref={ref} style={style} />;\n}\n","import { useState, useEffect } from 'react';\nimport { LocalVideoTrack, RemoteVideoTrack } from 'twilio-video';\n\ntype TrackType = LocalVideoTrack | RemoteVideoTrack;\n\nexport default function useVideoTrackDimensions(track?: TrackType) {\n  const [dimensions, setDimensions] = useState(track?.dimensions);\n\n  useEffect(() => {\n    setDimensions(track?.dimensions);\n\n    if (track) {\n      const handleDimensionsChanged = (newTrack: TrackType) =>\n        setDimensions({\n          width: newTrack.dimensions.width,\n          height: newTrack.dimensions.height,\n        });\n      track.on('dimensionsChanged', handleDimensionsChanged);\n      return () => {\n        track.off('dimensionsChanged', handleDimensionsChanged);\n      };\n    }\n  }, [track]);\n\n  return dimensions;\n}\n","import React from 'react';\nimport useTrack from '../../hooks/useTrack/useTrack';\nimport AudioTrack from '../AudioTrack/AudioTrack';\nimport VideoTrack from '../VideoTrack/VideoTrack';\n\nimport { IVideoTrack } from '../../types';\nimport {\n  AudioTrack as IAudioTrack,\n  LocalTrackPublication,\n  Participant,\n  RemoteTrackPublication,\n  Track,\n} from 'twilio-video';\n\ninterface PublicationProps {\n  publication: LocalTrackPublication | RemoteTrackPublication;\n  participant: Participant;\n  isLocalParticipant?: boolean;\n  videoOnly?: boolean;\n  videoPriority?: Track.Priority | null;\n}\n\nexport default function Publication({ publication, isLocalParticipant, videoOnly, videoPriority }: PublicationProps) {\n  const track = useTrack(publication);\n\n  if (!track) return null;\n\n  switch (track.kind) {\n    case 'video':\n      return (\n        <VideoTrack\n          track={track as IVideoTrack}\n          priority={videoPriority}\n          isLocal={track.name.includes('camera') && isLocalParticipant}\n        />\n      );\n    case 'audio':\n      return videoOnly ? null : <AudioTrack track={track as IAudioTrack} />;\n    default:\n      return null;\n  }\n}\n","import React from 'react';\nimport { Participant, Track } from 'twilio-video';\nimport Publication from '../Publication/Publication';\nimport usePublications from '../../hooks/usePublications/usePublications';\n\ninterface ParticipantTracksProps {\n  participant: Participant;\n  videoOnly?: boolean;\n  enableScreenShare?: boolean;\n  videoPriority?: Track.Priority | null;\n  isLocalParticipant?: boolean;\n}\n\n/*\n *  The object model for the Room object (found here: https://www.twilio.com/docs/video/migrating-1x-2x#object-model) shows\n *  that Participant objects have TrackPublications, and TrackPublication objects have Tracks.\n *\n *  The React components in this application follow the same pattern. This ParticipantTracks component renders Publications,\n *  and the Publication component renders Tracks.\n */\n\nexport default function ParticipantTracks({\n  participant,\n  videoOnly,\n  enableScreenShare,\n  videoPriority,\n  isLocalParticipant,\n}: ParticipantTracksProps) {\n  const publications = usePublications(participant);\n\n  let filteredPublications;\n\n  if (enableScreenShare && publications.some(p => p.trackName.includes('screen'))) {\n    filteredPublications = publications.filter(p => !p.trackName.includes('camera'));\n  } else {\n    filteredPublications = publications.filter(p => !p.trackName.includes('screen'));\n  }\n\n  return (\n    <>\n      {filteredPublications.map(publication => (\n        <Publication\n          key={publication.kind}\n          publication={publication}\n          participant={participant}\n          isLocalParticipant={isLocalParticipant}\n          videoOnly={videoOnly}\n          videoPriority={videoPriority}\n        />\n      ))}\n    </>\n  );\n}\n","import React from 'react';\nimport ParticipantInfo from '../ParticipantInfo/ParticipantInfo';\nimport ParticipantTracks from '../ParticipantTracks/ParticipantTracks';\nimport { Participant as IParticipant } from 'twilio-video';\n\ninterface ParticipantProps {\n  participant: IParticipant;\n  videoOnly?: boolean;\n  enableScreenShare?: boolean;\n  onClick?: () => void;\n  isSelected?: boolean;\n  isLocalParticipant?: boolean;\n  hideParticipant?: boolean;\n}\n\nexport default function Participant({\n  participant,\n  videoOnly,\n  enableScreenShare,\n  onClick,\n  isSelected,\n  isLocalParticipant,\n  hideParticipant,\n}: ParticipantProps) {\n  return (\n    <ParticipantInfo\n      participant={participant}\n      onClick={onClick}\n      isSelected={isSelected}\n      isLocalParticipant={isLocalParticipant}\n      hideParticipant={hideParticipant}\n    >\n      <ParticipantTracks\n        participant={participant}\n        videoOnly={videoOnly}\n        enableScreenShare={enableScreenShare}\n        isLocalParticipant={isLocalParticipant}\n      />\n    </ParticipantInfo>\n  );\n}\n","import React, { createContext, useContext, useState, useEffect } from 'react';\nimport { Participant, Room } from 'twilio-video';\n\ntype selectedParticipantContextType = [Participant | null, (participant: Participant) => void];\n\nexport const selectedParticipantContext = createContext<selectedParticipantContextType>(null!);\n\nexport default function useSelectedParticipant() {\n  const [selectedParticipant, setSelectedParticipant] = useContext(selectedParticipantContext);\n  return [selectedParticipant, setSelectedParticipant] as const;\n}\n\ntype SelectedParticipantProviderProps = {\n  room: Room | null;\n  children: React.ReactNode;\n};\n\nexport function SelectedParticipantProvider({ room, children }: SelectedParticipantProviderProps) {\n  const [selectedParticipant, _setSelectedParticipant] = useState<Participant | null>(null);\n  const setSelectedParticipant = (participant: Participant) =>\n    _setSelectedParticipant(prevParticipant => (prevParticipant === participant ? null : participant));\n\n  useEffect(() => {\n    if (room) {\n      const onDisconnect = () => _setSelectedParticipant(null);\n      const handleParticipantDisconnected = (participant: Participant) =>\n        _setSelectedParticipant(prevParticipant => (prevParticipant === participant ? null : prevParticipant));\n\n      room.on('disconnected', onDisconnect);\n      room.on('participantDisconnected', handleParticipantDisconnected);\n      return () => {\n        room.off('disconnected', onDisconnect);\n        room.off('participantDisconnected', handleParticipantDisconnected);\n      };\n    }\n  }, [room]);\n\n  return (\n    <selectedParticipantContext.Provider value={[selectedParticipant, setSelectedParticipant]}>\n      {children}\n    </selectedParticipantContext.Provider>\n  );\n}\n","import { LocalVideoTrack } from 'twilio-video';\nimport { useCallback, useState } from 'react';\nimport useVideoContext from '../useVideoContext/useVideoContext';\n\nexport default function useLocalVideoToggle() {\n  const { room, localTracks, getLocalVideoTrack, removeLocalVideoTrack, onError } = useVideoContext();\n  const localParticipant = room?.localParticipant;\n  const videoTrack = localTracks.find(track => track.name.includes('camera')) as LocalVideoTrack;\n  const [isPublishing, setIspublishing] = useState(false);\n\n  const toggleVideoEnabled = useCallback(() => {\n    if (!isPublishing) {\n      if (videoTrack) {\n        const localTrackPublication = localParticipant?.unpublishTrack(videoTrack);\n        // TODO: remove when SDK implements this event. See: https://issues.corp.twilio.com/browse/JSDK-2592\n        localParticipant?.emit('trackUnpublished', localTrackPublication);\n        removeLocalVideoTrack();\n      } else {\n        setIspublishing(true);\n        getLocalVideoTrack()\n          .then((track: LocalVideoTrack) => localParticipant?.publishTrack(track, { priority: 'low' }))\n          .catch(onError)\n          .finally(() => setIspublishing(false));\n      }\n    }\n  }, [videoTrack, localParticipant, getLocalVideoTrack, isPublishing, onError, removeLocalVideoTrack]);\n\n  return [!!videoTrack, toggleVideoEnabled] as const;\n}\n","import { isMobile } from '../../../utils';\nimport { useEffect, useRef } from 'react';\nimport useLocalVideoToggle from '../../../hooks/useLocalVideoToggle/useLocalVideoToggle';\nimport useVideoContext from '../../../hooks/useVideoContext/useVideoContext';\n\n/* \n  This component adds a visibilitychange handler to the document when\n  the user is using a mobile device. When the handler detects that\n  the browser has been backgrounded, it unpublishes the users local\n  video track. The browser cannot send video to the room when it has\n  been backgrounded, so unpublishing the track stops video capture\n  on the device, and triggers a UI update for all other participants\n  to show that this user's video track has been turned off.\n*/\n\nexport default function AttachVisibilityHandler() {\n  const { room } = useVideoContext();\n  const [isVideoEnabled, toggleVideoEnabled] = useLocalVideoToggle();\n  const shouldRepublishVideoOnForeground = useRef(false);\n\n  useEffect(() => {\n    if (room && isMobile) {\n      const handleVisibilityChange = () => {\n        // We don't need to unpublish the local video track if it has already been unpublished\n        if (document.visibilityState === 'hidden' && isVideoEnabled) {\n          shouldRepublishVideoOnForeground.current = true;\n          toggleVideoEnabled();\n\n          // Don't publish the local video track if it wasn't published before the app was backgrounded\n        } else if (shouldRepublishVideoOnForeground.current) {\n          shouldRepublishVideoOnForeground.current = false;\n          toggleVideoEnabled();\n        }\n      };\n\n      document.addEventListener('visibilitychange', handleVisibilityChange);\n      return () => {\n        document.removeEventListener('visibilitychange', handleVisibilityChange);\n      };\n    }\n  }, [isVideoEnabled, room, toggleVideoEnabled]);\n\n  return null;\n}\n","import { Callback } from '../../../types';\nimport { isMobile } from '../../../utils';\nimport Video, { ConnectOptions, LocalTrack, Room } from 'twilio-video';\nimport { useCallback, useEffect, useRef, useState } from 'react';\n\n// @ts-ignore\nwindow.TwilioVideo = Video;\n\nexport default function useRoom(\n  localTracks: LocalTrack[],\n  onError: Callback,\n  options?: ConnectOptions\n) {\n  const [room, setRoom] = useState<Room | null>(null);\n  const [isConnecting, setIsConnecting] = useState(false);\n  const optionsRef = useRef(options);\n\n  useEffect(() => {\n    // This allows the connect function to always access the most recent version of the options object. This allows us to\n    // reliably use the connect function at any time.\n    optionsRef.current = options;\n  }, [options]);\n\n  const connect = useCallback(\n    (token) => {\n      setIsConnecting(true);\n      // return Video.connect(token, { ...optionsRef.current, tracks: localTracks }).then(\n      return Video.connect(token, { tracks: localTracks }).then(\n        (newRoom) => {\n          setRoom(newRoom);\n          const disconnect = () => newRoom.disconnect();\n\n          // This app can add up to 13 'participantDisconnected' listeners to the room object, which can trigger\n          // a warning from the EventEmitter object. Here we increase the max listeners to suppress the warning.\n          newRoom.setMaxListeners(15);\n\n          newRoom.once('disconnected', () => {\n            // Reset the room only after all other `disconnected` listeners have been called.\n            setTimeout(() => setRoom(null));\n            window.removeEventListener('beforeunload', disconnect);\n\n            if (isMobile) {\n              window.removeEventListener('pagehide', disconnect);\n            }\n          });\n\n          // @ts-ignore\n          window.twilioRoom = newRoom;\n\n          newRoom.localParticipant.videoTracks.forEach((publication) =>\n            // All video tracks are published with 'low' priority because the video track\n            // that is displayed in the 'MainParticipant' component will have it's priority\n            // set to 'high' via track.setPriority()\n            publication.setPriority('low')\n          );\n\n          setIsConnecting(false);\n\n          // Add a listener to disconnect from the room when a user closes their browser\n          window.addEventListener('beforeunload', disconnect);\n\n          if (isMobile) {\n            // Add a listener to disconnect from the room when a mobile user closes their browser\n            window.addEventListener('pagehide', disconnect);\n          }\n        },\n        (error) => {\n          onError(error);\n          setIsConnecting(false);\n        }\n      );\n    },\n    [localTracks, onError]\n  );\n\n  return { room, isConnecting, connect };\n}\n","import React, { createContext, ReactNode, useCallback } from 'react';\nimport {\n  CreateLocalTrackOptions,\n  ConnectOptions,\n  LocalAudioTrack,\n  LocalVideoTrack,\n  Room,\n} from 'twilio-video';\nimport { ErrorCallback } from '../../types';\nimport { SelectedParticipantProvider } from './useSelectedParticipant/useSelectedParticipant';\n\nimport AttachVisibilityHandler from './AttachVisibilityHandler/AttachVisibilityHandler';\nimport useHandleRoomDisconnection from './useHandleRoomDisconnection/useHandleRoomDisconnection';\nimport useHandleTrackPublicationFailed from './useHandleTrackPublicationFailed/useHandleTrackPublicationFailed';\nimport useLocalTracks from './useLocalTracks/useLocalTracks';\nimport useRestartAudioTrackOnDeviceChange from './useRestartAudioTrackOnDeviceChange/useRestartAudioTrackOnDeviceChange';\nimport useRoom from './useRoom/useRoom';\nimport useScreenShareToggle from './useScreenShareToggle/useScreenShareToggle';\n\n/*\n *  The hooks used by the VideoProvider component are different than the hooks found in the 'hooks/' directory. The hooks\n *  in the 'hooks/' directory can be used anywhere in a video application, and they can be used any number of times.\n *  the hooks in the 'VideoProvider/' directory are intended to be used by the VideoProvider component only. Using these hooks\n *  elsewhere in the application may cause problems as these hooks should not be used more than once in an application.\n */\n\nexport interface IVideoContext {\n  room: Room | null;\n  localTracks: (LocalAudioTrack | LocalVideoTrack)[];\n  isConnecting: boolean;\n  connect: (token: string) => Promise<void>;\n  onError: ErrorCallback;\n  getLocalVideoTrack: (\n    newOptions?: CreateLocalTrackOptions\n  ) => Promise<LocalVideoTrack>;\n  getLocalAudioTrack: (deviceId?: string) => Promise<LocalAudioTrack>;\n  isAcquiringLocalTracks: boolean;\n  removeLocalVideoTrack: () => void;\n  isSharingScreen: boolean;\n  toggleScreenShare: () => void;\n  getAudioAndVideoTracks: () => Promise<void>;\n}\n\nexport const VideoContext = createContext<IVideoContext>(null!);\n\ninterface VideoProviderProps {\n  options?: ConnectOptions;\n  onError: ErrorCallback;\n  children: ReactNode;\n}\n\nexport function VideoProvider({\n  options,\n  children,\n  onError = () => {},\n}: VideoProviderProps) {\n  const onErrorCallback: ErrorCallback = useCallback(\n    (error) => {\n      console.log(`ERROR: ${error.message}`, error);\n      onError(error);\n    },\n    [onError]\n  );\n\n  const {\n    localTracks,\n    getLocalVideoTrack,\n    getLocalAudioTrack,\n    isAcquiringLocalTracks,\n    removeLocalAudioTrack,\n    removeLocalVideoTrack,\n    getAudioAndVideoTracks,\n  } = useLocalTracks();\n  const { room, isConnecting, connect } = useRoom(\n    localTracks,\n    onErrorCallback,\n    options\n  );\n\n  const [isSharingScreen, toggleScreenShare] = useScreenShareToggle(\n    room,\n    onError\n  );\n\n  // Register callback functions to be called on room disconnect.\n  useHandleRoomDisconnection(\n    room,\n    onError,\n    removeLocalAudioTrack,\n    removeLocalVideoTrack,\n    isSharingScreen,\n    toggleScreenShare\n  );\n  useHandleTrackPublicationFailed(room, onError);\n  useRestartAudioTrackOnDeviceChange(localTracks);\n\n  return (\n    <VideoContext.Provider\n      value={{\n        room,\n        localTracks,\n        isConnecting,\n        onError: onErrorCallback,\n        getLocalVideoTrack,\n        getLocalAudioTrack,\n        connect,\n        isAcquiringLocalTracks,\n        removeLocalVideoTrack,\n        isSharingScreen,\n        toggleScreenShare,\n        getAudioAndVideoTracks,\n      }}\n    >\n      <SelectedParticipantProvider room={room}>\n        {children}\n      </SelectedParticipantProvider>\n      {/* \n        The AttachVisibilityHandler component is using the useLocalVideoToggle hook\n        which must be used within the VideoContext Provider.\n      */}\n      <AttachVisibilityHandler />\n    </VideoContext.Provider>\n  );\n}\n","import { DEFAULT_VIDEO_CONSTRAINTS, SELECTED_AUDIO_INPUT_KEY, SELECTED_VIDEO_INPUT_KEY } from '../../../constants';\nimport { getDeviceInfo, isPermissionDenied } from '../../../utils';\nimport { useCallback, useState } from 'react';\nimport Video, { LocalVideoTrack, LocalAudioTrack, CreateLocalTrackOptions } from 'twilio-video';\n\nexport default function useLocalTracks() {\n  const [audioTrack, setAudioTrack] = useState<LocalAudioTrack>();\n  const [videoTrack, setVideoTrack] = useState<LocalVideoTrack>();\n  const [isAcquiringLocalTracks, setIsAcquiringLocalTracks] = useState(false);\n\n  const getLocalAudioTrack = useCallback((deviceId?: string) => {\n    const options: CreateLocalTrackOptions = {};\n\n    if (deviceId) {\n      options.deviceId = { exact: deviceId };\n    }\n\n    return Video.createLocalAudioTrack(options).then(newTrack => {\n      setAudioTrack(newTrack);\n      return newTrack;\n    });\n  }, []);\n\n  const getLocalVideoTrack = useCallback(async () => {\n    const selectedVideoDeviceId = window.localStorage.getItem(SELECTED_VIDEO_INPUT_KEY);\n\n    const { videoInputDevices } = await getDeviceInfo();\n\n    const hasSelectedVideoDevice = videoInputDevices.some(\n      device => selectedVideoDeviceId && device.deviceId === selectedVideoDeviceId\n    );\n\n    const options: CreateLocalTrackOptions = {\n      ...(DEFAULT_VIDEO_CONSTRAINTS as {}),\n      name: `camera-${Date.now()}`,\n      ...(hasSelectedVideoDevice && { deviceId: { exact: selectedVideoDeviceId! } }),\n    };\n\n    return Video.createLocalVideoTrack(options).then(newTrack => {\n      setVideoTrack(newTrack);\n      return newTrack;\n    });\n  }, []);\n\n  const removeLocalAudioTrack = useCallback(() => {\n    if (audioTrack) {\n      audioTrack.stop();\n      setAudioTrack(undefined);\n    }\n  }, [audioTrack]);\n\n  const removeLocalVideoTrack = useCallback(() => {\n    if (videoTrack) {\n      videoTrack.stop();\n      setVideoTrack(undefined);\n    }\n  }, [videoTrack]);\n\n  const getAudioAndVideoTracks = useCallback(async () => {\n    const { audioInputDevices, videoInputDevices, hasAudioInputDevices, hasVideoInputDevices } = await getDeviceInfo();\n\n    if (!hasAudioInputDevices && !hasVideoInputDevices) return Promise.resolve();\n    if (isAcquiringLocalTracks || audioTrack || videoTrack) return Promise.resolve();\n\n    setIsAcquiringLocalTracks(true);\n\n    const selectedAudioDeviceId = window.localStorage.getItem(SELECTED_AUDIO_INPUT_KEY);\n    const selectedVideoDeviceId = window.localStorage.getItem(SELECTED_VIDEO_INPUT_KEY);\n\n    const hasSelectedAudioDevice = audioInputDevices.some(\n      device => selectedAudioDeviceId && device.deviceId === selectedAudioDeviceId\n    );\n    const hasSelectedVideoDevice = videoInputDevices.some(\n      device => selectedVideoDeviceId && device.deviceId === selectedVideoDeviceId\n    );\n\n    // In Chrome, it is possible to deny permissions to only audio or only video.\n    // If that has happened, then we don't want to attempt to acquire the device.\n    const isCameraPermissionDenied = await isPermissionDenied('camera');\n    const isMicrophonePermissionDenied = await isPermissionDenied('microphone');\n\n    const shouldAcquireVideo = hasVideoInputDevices && !isCameraPermissionDenied;\n    const shouldAcquireAudio = hasAudioInputDevices && !isMicrophonePermissionDenied;\n\n    const localTrackConstraints = {\n      video: shouldAcquireVideo && {\n        ...(DEFAULT_VIDEO_CONSTRAINTS as {}),\n        name: `camera-${Date.now()}`,\n        ...(hasSelectedVideoDevice && { deviceId: { exact: selectedVideoDeviceId! } }),\n      },\n      audio:\n        shouldAcquireAudio &&\n        (hasSelectedAudioDevice ? { deviceId: { exact: selectedAudioDeviceId! } } : hasAudioInputDevices),\n    };\n\n    return Video.createLocalTracks(localTrackConstraints)\n      .then(tracks => {\n        const newVideoTrack = tracks.find(track => track.kind === 'video') as LocalVideoTrack;\n        const newAudioTrack = tracks.find(track => track.kind === 'audio') as LocalAudioTrack;\n        if (newVideoTrack) {\n          setVideoTrack(newVideoTrack);\n          // Save the deviceId so it can be picked up by the VideoInputList component. This only matters\n          // in cases where the user's video is disabled.\n          window.localStorage.setItem(\n            SELECTED_VIDEO_INPUT_KEY,\n            newVideoTrack.mediaStreamTrack.getSettings().deviceId ?? ''\n          );\n        }\n        if (newAudioTrack) {\n          setAudioTrack(newAudioTrack);\n        }\n\n        // These custom errors will be picked up by the MediaErrorSnackbar component.\n        if (isCameraPermissionDenied && isMicrophonePermissionDenied) {\n          const error = new Error();\n          error.name = 'NotAllowedError';\n          throw error;\n        }\n\n        if (isCameraPermissionDenied) {\n          throw new Error('CameraPermissionsDenied');\n        }\n\n        if (isMicrophonePermissionDenied) {\n          throw new Error('MicrophonePermissionsDenied');\n        }\n      })\n      .finally(() => setIsAcquiringLocalTracks(false));\n  }, [audioTrack, videoTrack, isAcquiringLocalTracks]);\n\n  const localTracks = [audioTrack, videoTrack].filter(track => track !== undefined) as (\n    | LocalAudioTrack\n    | LocalVideoTrack\n  )[];\n\n  return {\n    localTracks,\n    getLocalVideoTrack,\n    getLocalAudioTrack,\n    isAcquiringLocalTracks,\n    removeLocalAudioTrack,\n    removeLocalVideoTrack,\n    getAudioAndVideoTracks,\n  };\n}\n","import { useState, useCallback, useRef } from 'react';\nimport { LogLevels, Track, Room } from 'twilio-video';\nimport { ErrorCallback } from '../../../types';\n\ninterface MediaStreamTrackPublishOptions {\n  name?: string;\n  priority: Track.Priority;\n  logLevel: LogLevels;\n}\n\nexport default function useScreenShareToggle(room: Room | null, onError: ErrorCallback) {\n  const [isSharing, setIsSharing] = useState(false);\n  const stopScreenShareRef = useRef<() => void>(null!);\n\n  const shareScreen = useCallback(() => {\n    navigator.mediaDevices\n      .getDisplayMedia({\n        audio: false,\n        video: {\n          frameRate: 10,\n          height: 1080,\n          width: 1920,\n        },\n      })\n      .then(stream => {\n        const track = stream.getTracks()[0];\n\n        // All video tracks are published with 'low' priority. This works because the video\n        // track that is displayed in the 'MainParticipant' component will have it's priority\n        // set to 'high' via track.setPriority()\n        room!.localParticipant\n          .publishTrack(track, {\n            name: 'screen', // Tracks can be named to easily find them later\n            priority: 'low', // Priority is set to high by the subscriber when the video track is rendered\n          } as MediaStreamTrackPublishOptions)\n          .then(trackPublication => {\n            stopScreenShareRef.current = () => {\n              room!.localParticipant.unpublishTrack(track);\n              // TODO: remove this if the SDK is updated to emit this event\n              room!.localParticipant.emit('trackUnpublished', trackPublication);\n              track.stop();\n              setIsSharing(false);\n            };\n\n            track.onended = stopScreenShareRef.current;\n            setIsSharing(true);\n          })\n          .catch(onError);\n      })\n      .catch(error => {\n        // Don't display an error if the user closes the screen share dialog\n        if (error.name !== 'AbortError' && error.name !== 'NotAllowedError') {\n          onError(error);\n        }\n      });\n  }, [room, onError]);\n\n  const toggleScreenShare = useCallback(() => {\n    if (room) {\n      !isSharing ? shareScreen() : stopScreenShareRef.current();\n    }\n  }, [isSharing, shareScreen, room]);\n\n  return [isSharing, toggleScreenShare] as const;\n}\n","import { Room, TwilioError } from 'twilio-video';\nimport { useEffect } from 'react';\n\nimport { Callback } from '../../../types';\n\nexport default function useHandleRoomDisconnection(\n  room: Room | null,\n  onError: Callback,\n  removeLocalAudioTrack: () => void,\n  removeLocalVideoTrack: () => void,\n  isSharingScreen: boolean,\n  toggleScreenShare: () => void\n) {\n  useEffect(() => {\n    if (room) {\n      const onDisconnected = (_: Room, error: TwilioError) => {\n        if (error) {\n          onError(error);\n        }\n\n        removeLocalAudioTrack();\n        removeLocalVideoTrack();\n        if (isSharingScreen) {\n          toggleScreenShare();\n        }\n      };\n\n      room.on('disconnected', onDisconnected);\n      return () => {\n        room.off('disconnected', onDisconnected);\n      };\n    }\n  }, [room, onError, removeLocalAudioTrack, removeLocalVideoTrack, isSharingScreen, toggleScreenShare]);\n}\n","import { Room } from 'twilio-video';\nimport { useEffect } from 'react';\n\nimport { Callback } from '../../../types';\n\nexport default function useHandleTrackPublicationFailed(room: Room | null, onError: Callback) {\n  useEffect(() => {\n    if (room) {\n      room.localParticipant.on('trackPublicationFailed', onError);\n      return () => {\n        room.localParticipant.off('trackPublicationFailed', onError);\n      };\n    }\n  }, [room, onError]);\n}\n","import { LocalAudioTrack, LocalVideoTrack } from 'twilio-video';\nimport { useEffect } from 'react';\n\n/*\n * If a user has published an audio track from an external audio input device and\n * disconnects the device, the published audio track will be stopped and the user\n * will no longer be heard by other participants.\n *\n * To prevent this issue, this hook will re-acquire a mediaStreamTrack from the system's\n * default audio device when it detects that the published audio device has been disconnected.\n */\n\nexport default function useRestartAudioTrackOnDeviceChange(localTracks: (LocalAudioTrack | LocalVideoTrack)[]) {\n  const audioTrack = localTracks.find(track => track.kind === 'audio');\n\n  useEffect(() => {\n    const handleDeviceChange = () => {\n      if (audioTrack?.mediaStreamTrack.readyState === 'ended') {\n        audioTrack.restart({});\n      }\n    };\n\n    navigator.mediaDevices.addEventListener('devicechange', handleDeviceChange);\n\n    return () => {\n      navigator.mediaDevices.removeEventListener('devicechange', handleDeviceChange);\n    };\n  }, [audioTrack]);\n}\n","import { useContext } from 'react';\nimport { VideoContext } from '../../twilio-components/VideoProvider';\n\nexport default function useVideoContext() {\n  const context = useContext(VideoContext);\n  if (!context) {\n    throw new Error('useVideoContext must be used within a VideoProvider');\n  }\n  return context;\n}\n","import { useEffect, useState } from 'react';\nimport useVideoContext from '../useVideoContext/useVideoContext';\nimport { RemoteParticipant } from 'twilio-video';\n\nexport default function useDominantSpeaker() {\n  const { room } = useVideoContext();\n  const [dominantSpeaker, setDominantSpeaker] = useState(room?.dominantSpeaker ?? null);\n\n  useEffect(() => {\n    if (room) {\n      // Sometimes, the 'dominantSpeakerChanged' event can emit 'null', which means that\n      // there is no dominant speaker. If we change the main participant when 'null' is\n      // emitted, the effect can be jarring to the user. Here we ignore any 'null' values\n      // and continue to display the previous dominant speaker as the main participant.\n      const handleDominantSpeakerChanged = (newDominantSpeaker: RemoteParticipant) => {\n        if (newDominantSpeaker !== null) {\n          setDominantSpeaker(newDominantSpeaker);\n        }\n      };\n\n      // Since 'null' values are ignored, we will need to listen for the 'participantDisconnected'\n      // event, so we can set the dominantSpeaker to 'null' when they disconnect.\n      const handleParticipantDisconnected = (participant: RemoteParticipant) => {\n        setDominantSpeaker(prevDominantSpeaker => {\n          return prevDominantSpeaker === participant ? null : prevDominantSpeaker;\n        });\n      };\n\n      room.on('dominantSpeakerChanged', handleDominantSpeakerChanged);\n      room.on('participantDisconnected', handleParticipantDisconnected);\n      return () => {\n        room.off('dominantSpeakerChanged', handleDominantSpeakerChanged);\n        room.off('participantDisconnected', handleParticipantDisconnected);\n      };\n    }\n  }, [room]);\n\n  return dominantSpeaker;\n}\n","import { useEffect, useState } from 'react';\nimport { RemoteParticipant } from 'twilio-video';\nimport useDominantSpeaker from '../useDominantSpeaker/useDominantSpeaker';\nimport useVideoContext from '../useVideoContext/useVideoContext';\n\nexport default function useParticipants() {\n  const { room } = useVideoContext();\n  const dominantSpeaker = useDominantSpeaker();\n  const [participants, setParticipants] = useState(Array.from(room?.participants.values() ?? []));\n\n  // When the dominant speaker changes, they are moved to the front of the participants array.\n  // This means that the most recent dominant speakers will always be near the top of the\n  // ParticipantStrip component.\n  useEffect(() => {\n    if (dominantSpeaker) {\n      setParticipants(prevParticipants => [\n        dominantSpeaker,\n        ...prevParticipants.filter(participant => participant !== dominantSpeaker),\n      ]);\n    }\n  }, [dominantSpeaker]);\n\n  useEffect(() => {\n    if (room) {\n      const participantConnected = (participant: RemoteParticipant) =>\n        setParticipants(prevParticipants => [...prevParticipants, participant]);\n      const participantDisconnected = (participant: RemoteParticipant) =>\n        setParticipants(prevParticipants => prevParticipants.filter(p => p !== participant));\n      room.on('participantConnected', participantConnected);\n      room.on('participantDisconnected', participantDisconnected);\n      return () => {\n        room.off('participantConnected', participantConnected);\n        room.off('participantDisconnected', participantDisconnected);\n      };\n    }\n  }, [room]);\n\n  return participants;\n}\n","import { useEffect, useState } from 'react';\nimport useVideoContext from '../useVideoContext/useVideoContext';\n\nimport { Participant, TrackPublication } from 'twilio-video';\n\n/*\n  Returns the participant that is sharing their screen (if any). This hook assumes that only one participant\n  can share their screen at a time.\n*/\nexport default function useScreenShareParticipant() {\n  const { room } = useVideoContext();\n  const [screenShareParticipant, setScreenShareParticipant] = useState<Participant>();\n\n  useEffect(() => {\n    if (room) {\n      const updateScreenShareParticipant = () => {\n        setScreenShareParticipant(\n          Array.from<Participant>(room.participants.values())\n            // the screenshare participant could be the localParticipant\n            .concat(room.localParticipant)\n            .find((participant: Participant) =>\n              Array.from<TrackPublication>(participant.tracks.values()).find(track =>\n                track.trackName.includes('screen')\n              )\n            )\n        );\n      };\n      updateScreenShareParticipant();\n\n      room.on('trackPublished', updateScreenShareParticipant);\n      room.on('trackUnpublished', updateScreenShareParticipant);\n      room.on('participantDisconnected', updateScreenShareParticipant);\n\n      // the room object does not emit 'trackPublished' events for the localParticipant,\n      // so we need to listen for them here.\n      room.localParticipant.on('trackPublished', updateScreenShareParticipant);\n      room.localParticipant.on('trackUnpublished', updateScreenShareParticipant);\n      return () => {\n        room.off('trackPublished', updateScreenShareParticipant);\n        room.off('trackUnpublished', updateScreenShareParticipant);\n        room.off('participantDisconnected', updateScreenShareParticipant);\n\n        room.localParticipant.off('trackPublished', updateScreenShareParticipant);\n        room.localParticipant.off('trackUnpublished', updateScreenShareParticipant);\n      };\n    }\n  }, [room]);\n\n  return screenShareParticipant;\n}\n","import useVideoContext from '../useVideoContext/useVideoContext';\nimport useDominantSpeaker from '../useDominantSpeaker/useDominantSpeaker';\nimport useParticipants from '../useParticipants/useParticipants';\nimport useScreenShareParticipant from '../useScreenShareParticipant/useScreenShareParticipant';\nimport useSelectedParticipant from '../../twilio-components/VideoProvider/useSelectedParticipant/useSelectedParticipant';\n\nexport default function useMainParticipant() {\n  const [selectedParticipant] = useSelectedParticipant();\n  const screenShareParticipant = useScreenShareParticipant();\n  const dominantSpeaker = useDominantSpeaker();\n  const participants = useParticipants();\n  const { room } = useVideoContext();\n  const localParticipant = room?.localParticipant;\n  const remoteScreenShareParticipant =\n    screenShareParticipant !== localParticipant ? screenShareParticipant : null;\n\n  // The participant that is returned is displayed in the main video area. Changing the order of the following\n  // variables will change the how the main speaker is determined.\n  return (\n    selectedParticipant ||\n    remoteScreenShareParticipant ||\n    dominantSpeaker ||\n    participants[0] ||\n    localParticipant\n  );\n}\n","import React from 'react';\nimport clsx from 'clsx';\nimport Participant from '../Participant/Participant';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport useMainParticipant from '../../hooks/useMainParticipant/useMainParticipant';\nimport useParticipants from '../../hooks/useParticipants/useParticipants';\nimport useVideoContext from '../../hooks/useVideoContext/useVideoContext';\nimport useSelectedParticipant from '../VideoProvider/useSelectedParticipant/useSelectedParticipant';\nimport useScreenShareParticipant from '../../hooks/useScreenShareParticipant/useScreenShareParticipant';\n\nconst useStyles = makeStyles((theme: any) =>\n  createStyles({\n    container: {\n      overflowY: 'auto',\n      background: 'rgb(79, 83, 85)',\n      gridArea: '1 / 2 / 1 / 3',\n      zIndex: 5,\n      [theme.breakpoints.down('sm')]: {\n        gridArea: '2 / 1 / 3 / 3',\n        overflowY: 'initial',\n        overflowX: 'auto',\n        display: 'flex',\n      },\n    },\n    transparentBackground: {\n      background: 'transparent',\n    },\n    scrollContainer: {\n      display: 'flex',\n      justifyContent: 'center',\n    },\n    innerScrollContainer: {\n      width: `calc(${theme.sidebarWidth}px - 3em)`,\n      padding: '1.5em 0',\n      [theme.breakpoints.down('sm')]: {\n        width: 'auto',\n        padding: `${theme.sidebarMobilePadding}px`,\n        display: 'flex',\n      },\n    },\n  })\n);\n\nexport default function ParticipantList() {\n  const classes = useStyles();\n  const { room } = useVideoContext();\n  const localParticipant = room!.localParticipant;\n  const participants = useParticipants();\n  const [selectedParticipant, setSelectedParticipant] =\n    useSelectedParticipant();\n  const screenShareParticipant = useScreenShareParticipant();\n  const mainParticipant = useMainParticipant();\n  const isRemoteParticipantScreenSharing =\n    screenShareParticipant && screenShareParticipant !== localParticipant;\n\n  if (participants.length === 0) return null; // Don't render this component if there are no remote participants.\n\n  return (\n    <aside\n      className={clsx(classes.container, {\n        [classes.transparentBackground]: !isRemoteParticipantScreenSharing,\n      })}\n    >\n      <div className={classes.scrollContainer}>\n        <div className={classes.innerScrollContainer}>\n          <Participant\n            participant={localParticipant}\n            isLocalParticipant={true}\n          />\n          {participants.map((participant) => {\n            const isSelected = participant === selectedParticipant;\n            const hideParticipant =\n              participant === mainParticipant &&\n              participant !== screenShareParticipant &&\n              !isSelected;\n            return (\n              <Participant\n                key={participant.sid}\n                participant={participant}\n                isSelected={participant === selectedParticipant}\n                onClick={() => setSelectedParticipant(participant)}\n                hideParticipant={hideParticipant}\n              />\n            );\n          })}\n        </div>\n      </div>\n    </aside>\n  );\n}\n","import React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles, Theme } from '@material-ui/core/styles';\nimport {\n  LocalAudioTrack,\n  LocalVideoTrack,\n  Participant,\n  RemoteAudioTrack,\n  RemoteVideoTrack,\n} from 'twilio-video';\n\nimport AudioLevelIndicator from '../AudioLevelIndicator/AudioLevelIndicator';\nimport AvatarIcon from '../../icons/AvatarIcon';\nimport NetworkQualityLevel from '../NetworkQualityLevel/NetworkQualityLevel';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Typography from '@material-ui/core/Typography';\n\nimport useIsRecording from '../../hooks/useIsRecording/useIsRecording';\nimport useIsTrackSwitchedOff from '../../hooks/useIsTrackSwitchedOff/useIsTrackSwitchedOff';\nimport useParticipantIsReconnecting from '../../hooks/useParticipantIsReconnecting/useParticipantIsReconnecting';\nimport usePublications from '../../hooks/usePublications/usePublications';\nimport useScreenShareParticipant from '../../hooks/useScreenShareParticipant/useScreenShareParticipant';\nimport useTrack from '../../hooks/useTrack/useTrack';\nimport useVideoContext from '../../hooks/useVideoContext/useVideoContext';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  container: {\n    position: 'relative',\n    display: 'flex',\n    alignItems: 'center',\n  },\n  identity: {\n    background: 'rgba(0, 0, 0, 0.5)',\n    color: 'white',\n    padding: '0.1em 0.3em 0.1em 0',\n    display: 'inline-flex',\n    '& svg': {\n      marginLeft: '0.3em',\n    },\n    marginRight: '0.4em',\n    alignItems: 'center',\n  },\n  infoContainer: {\n    position: 'absolute',\n    zIndex: 2,\n    height: '100%',\n    width: '100%',\n  },\n  reconnectingContainer: {\n    position: 'absolute',\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    background: 'rgba(40, 42, 43, 0.75)',\n    zIndex: 1,\n  },\n  fullWidth: {\n    gridArea: '1 / 1 / 2 / 3',\n    [theme.breakpoints.down('sm')]: {\n      gridArea: '1 / 1 / 3 / 3',\n    },\n  },\n  avatarContainer: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    background: 'black',\n    position: 'absolute',\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    zIndex: 1,\n    '& svg': {\n      transform: 'scale(2)',\n    },\n  },\n  recordingIndicator: {\n    position: 'absolute',\n    bottom: 0,\n    display: 'flex',\n    alignItems: 'center',\n    background: 'rgba(0, 0, 0, 0.5)',\n    color: 'white',\n    padding: '0.1em 0.3em 0.1em 0',\n    fontSize: '1.2rem',\n    height: '28px',\n    [theme.breakpoints.down('sm')]: {\n      bottom: 'auto',\n      right: 0,\n      top: 0,\n    },\n  },\n  circle: {\n    height: '12px',\n    width: '12px',\n    background: 'red',\n    borderRadius: '100%',\n    margin: '0 0.6em',\n    animation: `1.25s $pulsate ease-out infinite`,\n  },\n  '@keyframes pulsate': {\n    '0%': {\n      background: `#A90000`,\n    },\n    '50%': {\n      background: '#f00',\n    },\n    '100%': {\n      background: '#A90000',\n    },\n  },\n}));\n\ninterface MainParticipantInfoProps {\n  participant: Participant;\n  children: React.ReactNode;\n}\n\nexport default function MainParticipantInfo({\n  participant,\n  children,\n}: MainParticipantInfoProps) {\n  const classes = useStyles();\n  const { room } = useVideoContext();\n  const localParticipant = room!.localParticipant;\n  const isLocal = localParticipant === participant;\n\n  const screenShareParticipant = useScreenShareParticipant();\n  const isRemoteParticipantScreenSharing =\n    screenShareParticipant && screenShareParticipant !== localParticipant;\n\n  const publications = usePublications(participant);\n  const videoPublication = publications.find((p) =>\n    p.trackName.includes('camera')\n  );\n  const screenSharePublication = publications.find((p) =>\n    p.trackName.includes('screen')\n  );\n\n  const videoTrack = useTrack(screenSharePublication || videoPublication);\n  const isVideoEnabled = Boolean(videoTrack);\n\n  const audioPublication = publications.find((p) => p.kind === 'audio');\n  const audioTrack = useTrack(audioPublication) as\n    | LocalAudioTrack\n    | RemoteAudioTrack\n    | undefined;\n\n  const isVideoSwitchedOff = useIsTrackSwitchedOff(\n    videoTrack as LocalVideoTrack | RemoteVideoTrack\n  );\n  const isParticipantReconnecting = useParticipantIsReconnecting(participant);\n\n  const isRecording = useIsRecording();\n\n  return (\n    <div\n      data-cy-main-participant\n      data-cy-participant={participant.identity}\n      className={clsx(classes.container, {\n        [classes.fullWidth]: !isRemoteParticipantScreenSharing,\n      })}\n    >\n      <div className={classes.infoContainer}>\n        <div style={{ display: 'flex' }}>\n          <div className={classes.identity}>\n            <AudioLevelIndicator audioTrack={audioTrack} />\n            <Typography variant=\"body1\" color=\"inherit\">\n              {participant.identity}\n              {isLocal && ' (You)'}\n              {screenSharePublication && ' - Screen'}\n            </Typography>\n          </div>\n          <NetworkQualityLevel participant={localParticipant} />\n        </div>\n        {isRecording && (\n          <Tooltip\n            title=\"All participants' audio and video is currently being recorded. Visit the app settings to stop recording.\"\n            placement=\"top\"\n          >\n            <div className={classes.recordingIndicator}>\n              <div className={classes.circle}></div>\n              <Typography\n                variant=\"body1\"\n                color=\"inherit\"\n                data-cy-recording-indicator\n              >\n                Recording\n              </Typography>\n            </div>\n          </Tooltip>\n        )}\n      </div>\n      {(!isVideoEnabled || isVideoSwitchedOff) && (\n        <div className={classes.avatarContainer}>\n          <AvatarIcon />\n        </div>\n      )}\n      {isParticipantReconnecting && (\n        <div className={classes.reconnectingContainer}>\n          <Typography variant=\"body1\" style={{ color: 'white' }}>\n            Reconnecting...\n          </Typography>\n        </div>\n      )}\n      {children}\n    </div>\n  );\n}\n","import { useEffect, useState } from 'react';\nimport useVideoContext from '../useVideoContext/useVideoContext';\n\nexport default function useIsRecording() {\n  const { room } = useVideoContext();\n  const [isRecording, setIsRecording] = useState(Boolean(room?.isRecording));\n\n  useEffect(() => {\n    if (room) {\n      setIsRecording(room.isRecording);\n\n      const handleRecordingStarted = () => setIsRecording(true);\n      const handleRecordingStopped = () => setIsRecording(false);\n\n      room.on('recordingStarted', handleRecordingStarted);\n      room.on('recordingStopped', handleRecordingStopped);\n\n      return () => {\n        room.off('recordingStarted', handleRecordingStarted);\n        room.off('recordingStopped', handleRecordingStopped);\n      };\n    }\n  }, [room]);\n\n  return isRecording;\n}\n","import MainParticipantInfo from '../MainParticipantInfo/MainParticipantInfo';\nimport ParticipantTracks from '../ParticipantTracks/ParticipantTracks';\nimport React from 'react';\nimport useMainParticipant from '../../hooks/useMainParticipant/useMainParticipant';\nimport useSelectedParticipant from '../VideoProvider/useSelectedParticipant/useSelectedParticipant';\nimport useScreenShareParticipant from '../../hooks/useScreenShareParticipant/useScreenShareParticipant';\nimport useVideoContext from '../../hooks/useVideoContext/useVideoContext';\n\nexport default function MainParticipant() {\n  const mainParticipant = useMainParticipant();\n  const { room } = useVideoContext();\n  const localParticipant = room!.localParticipant;\n  const [selectedParticipant] = useSelectedParticipant();\n  const screenShareParticipant = useScreenShareParticipant();\n\n  const videoPriority =\n    (mainParticipant === selectedParticipant ||\n      mainParticipant === screenShareParticipant) &&\n    mainParticipant !== localParticipant\n      ? 'high'\n      : null;\n\n  return (\n    /* audio is disabled for this participant component because this participant's audio \n       is already being rendered in the <ParticipantStrip /> component.  */\n    <MainParticipantInfo participant={mainParticipant}>\n      <ParticipantTracks\n        participant={mainParticipant}\n        videoOnly\n        enableScreenShare={mainParticipant !== localParticipant}\n        videoPriority={videoPriority}\n        isLocalParticipant={mainParticipant === localParticipant}\n      />\n    </MainParticipantInfo>\n  );\n}\n","import React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core';\nimport ParticipantList from '../ParticipantList/ParticipantList';\nimport MainParticipant from '../MainParticipant/MainParticipant';\n\nconst useStyles = makeStyles((theme: any) => {\n  console.log(theme.sidebarWidth);\n\n  const totalMobileSidebarHeight = `${\n    theme.sidebarMobileHeight +\n    theme.sidebarMobilePadding * 2 +\n    theme.participantBorderWidth\n  }px`;\n  return {\n    container: {\n      position: 'relative',\n      height: '100%',\n      display: 'grid',\n      gridTemplateColumns: `1fr ${theme.sidebarWidth}px`,\n      gridTemplateRows: '100%',\n      [theme.breakpoints.down('sm')]: {\n        gridTemplateColumns: `100%`,\n        gridTemplateRows: `calc(100% - ${totalMobileSidebarHeight}) ${totalMobileSidebarHeight}`,\n      },\n    },\n    chatWindowOpen: {\n      gridTemplateColumns: `1fr ${theme.sidebarWidth}px ${theme.chatWindowWidth}px`,\n    },\n  };\n});\n\nexport default function Room() {\n  const classes = useStyles();\n  console.log();\n\n  return (\n    <div className={clsx(classes.container)}>\n      <MainParticipant />\n      <ParticipantList />\n    </div>\n  );\n}\n","import { ConnectOptions } from 'twilio-video';\nimport { isMobile, removeUndefineds } from '..';\n// import { useAppState } from '../../state';\n\nexport default function useConnectionOptions() {\n  const settings = {\n    trackSwitchOffMode: undefined,\n    dominantSpeakerPriority: 'standard',\n    bandwidthProfileMode: 'collaboration',\n    maxAudioBitrate: '16000',\n    contentPreferencesMode: 'auto',\n    clientTrackSwitchOffControl: 'auto',\n  } as const;\n  // const { roomType, settings } = useAppState();\n\n  // See: https://sdk.twilio.com/js/video/releases/2.0.0/docs/global.html#ConnectOptions\n  // for available connection options.\n  const connectionOptions: ConnectOptions = {\n    // Bandwidth Profile, Dominant Speaker, and Network Quality\n    // features are only available in Small Group or Group Rooms.\n    // Please set \"Room Type\" to \"Group\" or \"Small Group\" in your\n    // Twilio Console: https://www.twilio.com/console/video/configure\n    bandwidthProfile: {\n      video: {\n        mode: settings.bandwidthProfileMode,\n        dominantSpeakerPriority: settings.dominantSpeakerPriority,\n        trackSwitchOffMode: settings.trackSwitchOffMode,\n        contentPreferencesMode: settings.contentPreferencesMode,\n        clientTrackSwitchOffControl: settings.clientTrackSwitchOffControl,\n      },\n    },\n    dominantSpeaker: true,\n    networkQuality: { local: 1, remote: 1 },\n\n    // Comment this line if you are playing music.\n    // maxAudioBitrate: Number(settings.maxAudioBitrate),\n\n    // VP8 simulcast enables the media server in a Small Group or Group Room\n    // to adapt your encoded video quality for each RemoteParticipant based on\n    // their individual bandwidth constraints. Simulcast should be disabled if\n    // you are using Peer-to-Peer or 'Go' Rooms.\n    preferredVideoCodecs: [\n      {\n        codec: 'VP8',\n        // simulcast: roomType !== 'peer-to-peer' && roomType !== 'go',\n      },\n    ],\n\n    //@ts-ignore - Internal use only. This property is not exposed in type definitions.\n    environment: process.env.REACT_APP_TWILIO_ENVIRONMENT,\n  };\n\n  // For mobile browsers, limit the maximum incoming video bitrate to 2.5 Mbps.\n  if (isMobile && connectionOptions?.bandwidthProfile?.video) {\n    connectionOptions!.bandwidthProfile!.video!.maxSubscriptionBitrate = 2500000;\n  }\n\n  if (process.env.REACT_APP_TWILIO_ENVIRONMENT === 'dev') {\n    //@ts-ignore - Internal use only. This property is not exposed in type definitions.\n    connectionOptions!.wsServer = 'wss://us2.vss.dev.twilio.com/signaling';\n  }\n\n  // Here we remove any 'undefined' values. The twilio-video SDK will only use defaults\n  // when no value is passed for an option. It will throw an error when 'undefined' is passed.\n  return removeUndefineds(connectionOptions);\n}\n","import { createTheme } from '@material-ui/core';\n\nexport interface Theme {\n  sidebarWidth: number;\n  sidebarMobileHeight: number;\n  brand: string;\n  footerHeight: number;\n  mobileTopBarHeight: number;\n  mobileFooterHeight: number;\n  sidebarMobilePadding: number;\n  participantBorderWidth: number;\n  chatWindowWidth: number;\n}\n\nconst defaultTheme = createTheme();\n\nexport default createTheme({\n  overrides: {\n    MuiCssBaseline: {\n      '@global': {\n        'html, body, #root': {\n          height: '100%',\n        },\n      },\n    },\n    MuiButton: {\n      root: {\n        borderRadius: '4px',\n        textTransform: 'none',\n        color: 'rgb(40, 42, 43)',\n        fontSize: '0.9rem',\n        transition: defaultTheme.transitions.create(\n          ['background-color', 'box-shadow', 'border', 'color'],\n          {\n            duration: defaultTheme.transitions.duration.short,\n          }\n        ),\n      },\n      text: {\n        padding: '6px 14px',\n      },\n      contained: {\n        boxShadow: 'none',\n        '&:hover': {\n          boxShadow: 'none',\n        },\n      },\n      outlinedPrimary: {\n        border: '2px solid #027AC5',\n        '&:hover': {\n          border: '2px solid rgb(1, 85, 137)',\n        },\n      },\n      startIcon: {\n        marginRight: '6px',\n      },\n    },\n    MuiTypography: {\n      body1: {\n        color: 'rgb(40, 42, 43)',\n        fontSize: '0.9rem',\n      },\n    },\n    MuiInputBase: {\n      root: {\n        fontSize: '0.9rem',\n      },\n    },\n    MuiSelect: {\n      root: {\n        padding: '0.85em',\n      },\n    },\n    MuiDialogActions: {\n      root: {\n        padding: '16px',\n      },\n    },\n    MuiTextField: {\n      root: {\n        color: 'rgb(40, 42, 43)',\n      },\n    },\n    MuiInputLabel: {\n      root: {\n        color: 'rgb(40, 42, 43)',\n        fontSize: '1.1rem',\n        marginBottom: '0.2em',\n        fontWeight: 500,\n      },\n    },\n    MuiOutlinedInput: {\n      notchedOutline: {\n        borderColor: 'rgb(136, 140, 142)',\n      },\n    },\n  },\n  typography: {\n    fontFamily: 'Inter, sans-serif',\n  },\n  palette: {\n    primary: {\n      main: '#027AC5',\n    },\n  },\n  // @ts-ignore\n  brand: '#E22525',\n  footerHeight: 72,\n  mobileFooterHeight: 56,\n  sidebarWidth: 300,\n  sidebarMobileHeight: 90,\n  sidebarMobilePadding: 8,\n  participantBorderWidth: 2,\n  mobileTopBarHeight: 52,\n  chatWindowWidth: 320,\n});\n","import React from 'react';\nimport { LocalAudioTrack } from 'twilio-video';\nimport useVideoContext from '../../hooks/useVideoContext/useVideoContext';\nimport AudioLevelIndicator from '../AudioLevelIndicator/AudioLevelIndicator';\n\nexport default function LocalAudioLevelIndicator() {\n  const { localTracks } = useVideoContext();\n  const audioTrack = localTracks.find(track => track.kind === 'audio') as LocalAudioTrack;\n\n  return <AudioLevelIndicator audioTrack={audioTrack} />;\n}\n","import React from 'react';\nimport AvatarIcon from '../../../../icons/AvatarIcon';\nimport { makeStyles, Theme, Typography } from '@material-ui/core';\nimport LocalAudioLevelIndicator from '../../../LocalAudioLevelIndicator/LocalAudioLevelIndicator';\nimport { LocalVideoTrack } from 'twilio-video';\nimport VideoTrack from '../../../VideoTrack/VideoTrack';\nimport useVideoContext from '../../../../hooks/useVideoContext/useVideoContext';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  container: {\n    position: 'relative',\n    height: 0,\n    overflow: 'hidden',\n    paddingTop: `${(9 / 16) * 100}%`,\n    background: 'black',\n  },\n  innerContainer: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    width: '100%',\n    height: '100%',\n  },\n  identityContainer: {\n    position: 'absolute',\n    bottom: 0,\n    zIndex: 1,\n  },\n  identity: {\n    background: 'rgba(0, 0, 0, 0.5)',\n    color: 'white',\n    padding: '0.18em 0.3em',\n    margin: 0,\n    display: 'flex',\n    alignItems: 'center',\n  },\n  avatarContainer: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    background: 'black',\n    position: 'absolute',\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    zIndex: 1,\n    [theme.breakpoints.down('sm')]: {\n      '& svg': {\n        transform: 'scale(0.7)',\n      },\n    },\n  },\n}));\n\nexport default function LocalVideoPreview({ identity }: { identity: string }) {\n  const classes = useStyles();\n  const { localTracks } = useVideoContext();\n\n  const videoTrack = localTracks.find(track => track.name.includes('camera')) as LocalVideoTrack;\n\n  return (\n    <div className={classes.container}>\n      <div className={classes.innerContainer}>\n        {videoTrack ? (\n          <VideoTrack track={videoTrack} isLocal />\n        ) : (\n          <div className={classes.avatarContainer}>\n            <AvatarIcon />\n          </div>\n        )}\n      </div>\n\n      <div className={classes.identityContainer}>\n        <span className={classes.identity}>\n          <LocalAudioLevelIndicator />\n          <Typography variant=\"body1\" color=\"inherit\" component=\"span\">\n            {identity}\n          </Typography>\n        </span>\n      </div>\n    </div>\n  );\n}\n","import React, { PropsWithChildren } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Divider from '@material-ui/core/Divider';\n\nimport { version as appVersion } from '../../../package.json';\nimport Video from 'twilio-video';\n\ninterface AboutDialogProps {\n  open: boolean;\n  onClose(): void;\n}\n\nfunction AboutDialog({ open, onClose }: PropsWithChildren<AboutDialogProps>) {\n  return (\n    <Dialog open={open} onClose={onClose} fullWidth={true} maxWidth=\"xs\">\n      <DialogTitle>About</DialogTitle>\n      <Divider />\n      <DialogContent>\n        <DialogContentText>\n          Browser supported: {String(Video.isSupported)}\n        </DialogContentText>\n        <DialogContentText>SDK Version: {Video.version}</DialogContentText>\n        <DialogContentText>App Version: {appVersion}</DialogContentText>\n        <DialogContentText>\n          Deployed Tag: {process.env.REACT_APP_GIT_TAG || 'N/A'}\n        </DialogContentText>\n        <DialogContentText>\n          Deployed Commit Hash: {process.env.REACT_APP_GIT_COMMIT || 'N/A'}\n        </DialogContentText>\n      </DialogContent>\n      <Divider />\n      <DialogActions>\n        <Button onClick={onClose} color=\"primary\" variant=\"contained\" autoFocus>\n          OK\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nexport default AboutDialog;\n","import React from 'react';\nimport AudioLevelIndicator from '../../AudioLevelIndicator/AudioLevelIndicator';\nimport { LocalAudioTrack } from 'twilio-video';\nimport { FormControl, MenuItem, Typography, Select, Grid } from '@material-ui/core';\nimport { SELECTED_AUDIO_INPUT_KEY } from '../../../constants';\nimport useDevices from '../../../hooks/useDevices/useDevices';\nimport useMediaStreamTrack from '../../../hooks/useMediaStreamTrack/useMediaStreamTrack';\nimport useVideoContext from '../../../hooks/useVideoContext/useVideoContext';\n\nexport default function AudioInputList() {\n  const { audioInputDevices } = useDevices();\n  const { localTracks } = useVideoContext();\n\n  const localAudioTrack = localTracks.find(track => track.kind === 'audio') as LocalAudioTrack;\n  const mediaStreamTrack = useMediaStreamTrack(localAudioTrack);\n  const localAudioInputDeviceId = mediaStreamTrack?.getSettings().deviceId;\n\n  function replaceTrack(newDeviceId: string) {\n    window.localStorage.setItem(SELECTED_AUDIO_INPUT_KEY, newDeviceId);\n    localAudioTrack?.restart({ deviceId: { exact: newDeviceId } });\n  }\n\n  return (\n    <div>\n      <Typography variant=\"subtitle2\" gutterBottom>\n        Audio Input\n      </Typography>\n      <Grid container alignItems=\"center\" justify=\"space-between\">\n        <div className=\"inputSelect\">\n          {audioInputDevices.length > 1 ? (\n            <FormControl fullWidth>\n              <Select\n                onChange={e => replaceTrack(e.target.value as string)}\n                value={localAudioInputDeviceId || ''}\n                variant=\"outlined\"\n              >\n                {audioInputDevices.map(device => (\n                  <MenuItem value={device.deviceId} key={device.deviceId}>\n                    {device.label}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n          ) : (\n            <Typography>{localAudioTrack?.mediaStreamTrack.label || 'No Local Audio'}</Typography>\n          )}\n        </div>\n        <AudioLevelIndicator audioTrack={localAudioTrack} color=\"black\" />\n      </Grid>\n    </div>\n  );\n}\n","import React from 'react';\nimport { FormControl, MenuItem, Typography, Select } from '@material-ui/core';\nimport useDevices from '../../../hooks/useDevices/useDevices';\nimport { useActiveSinkId } from 'src/hooks/useAppSinkId';\n\nexport default function AudioOutputList() {\n  const { audioOutputDevices } = useDevices();\n  const [activeSinkId, setActiveSinkId] = useActiveSinkId();\n  const activeOutputLabel = audioOutputDevices.find(\n    (device) => device.deviceId === activeSinkId\n  )?.label;\n\n  return (\n    <div className=\"inputSelect\">\n      {audioOutputDevices.length > 1 ? (\n        <FormControl fullWidth>\n          <Typography variant=\"subtitle2\" gutterBottom>\n            Audio Output\n          </Typography>\n          <Select\n            onChange={(e) => setActiveSinkId(e.target.value as string)}\n            value={activeSinkId}\n            variant=\"outlined\"\n          >\n            {audioOutputDevices.map((device) => (\n              <MenuItem value={device.deviceId} key={device.deviceId}>\n                {device.label}\n              </MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n      ) : (\n        <>\n          <Typography variant=\"subtitle2\">Audio Output</Typography>\n          <Typography>\n            {activeOutputLabel || 'System Default Audio Output'}\n          </Typography>\n        </>\n      )}\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport { DEFAULT_VIDEO_CONSTRAINTS, SELECTED_VIDEO_INPUT_KEY } from '../../../constants';\nimport { FormControl, MenuItem, Typography, Select } from '@material-ui/core';\nimport { LocalVideoTrack } from 'twilio-video';\nimport { makeStyles } from '@material-ui/core/styles';\nimport VideoTrack from '../../VideoTrack/VideoTrack';\nimport useDevices from '../../../hooks/useDevices/useDevices';\nimport useMediaStreamTrack from '../../../hooks/useMediaStreamTrack/useMediaStreamTrack';\nimport useVideoContext from '../../../hooks/useVideoContext/useVideoContext';\n\nconst useStyles = makeStyles({\n  preview: {\n    width: '300px',\n    maxHeight: '200px',\n    margin: '0.5em auto',\n    '& video': {\n      maxHeight: '200px',\n    },\n  },\n});\n\nexport default function VideoInputList() {\n  const classes = useStyles();\n  const { videoInputDevices } = useDevices();\n  const { localTracks } = useVideoContext();\n\n  const localVideoTrack = localTracks.find(track => track.kind === 'video') as LocalVideoTrack | undefined;\n  const mediaStreamTrack = useMediaStreamTrack(localVideoTrack);\n  const [storedLocalVideoDeviceId, setStoredLocalVideoDeviceId] = useState(\n    window.localStorage.getItem(SELECTED_VIDEO_INPUT_KEY)\n  );\n  const localVideoInputDeviceId = mediaStreamTrack?.getSettings().deviceId || storedLocalVideoDeviceId;\n\n  function replaceTrack(newDeviceId: string) {\n    // Here we store the device ID in the component state. This is so we can re-render this component display\n    // to display the name of the selected device when it is changed while the users camera is off.\n    setStoredLocalVideoDeviceId(newDeviceId);\n    window.localStorage.setItem(SELECTED_VIDEO_INPUT_KEY, newDeviceId);\n    localVideoTrack?.restart({\n      ...(DEFAULT_VIDEO_CONSTRAINTS as {}),\n      deviceId: { exact: newDeviceId },\n    });\n  }\n\n  return (\n    <div>\n      {localVideoTrack && (\n        <div className={classes.preview}>\n          <VideoTrack isLocal track={localVideoTrack} />\n        </div>\n      )}\n      {videoInputDevices.length > 1 ? (\n        <FormControl fullWidth>\n          <Typography variant=\"subtitle2\" gutterBottom>\n            Video Input\n          </Typography>\n          <Select\n            onChange={e => replaceTrack(e.target.value as string)}\n            value={localVideoInputDeviceId || ''}\n            variant=\"outlined\"\n          >\n            {videoInputDevices.map(device => (\n              <MenuItem value={device.deviceId} key={device.deviceId}>\n                {device.label}\n              </MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n      ) : (\n        <>\n          <Typography variant=\"subtitle2\" gutterBottom>\n            Video Input\n          </Typography>\n          <Typography>{localVideoTrack?.mediaStreamTrack.label || 'No Local Video'}</Typography>\n        </>\n      )}\n    </div>\n  );\n}\n","import React from 'react';\n\nimport AudioInputList from './AudioInputList/AudioInputList';\nimport AudioOutputList from './AudioOutputList/AudioOutputList';\nimport {\n  DialogContent,\n  Typography,\n  Divider,\n  Dialog,\n  DialogActions,\n  Button,\n  Theme,\n  DialogTitle,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport VideoInputList from './VideoInputList/VideoInputList';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  container: {\n    width: '600px',\n    minHeight: '400px',\n    [theme.breakpoints.down('xs')]: {\n      width: 'calc(100vw - 32px)',\n    },\n    '& .inputSelect': {\n      width: 'calc(100% - 35px)',\n    },\n  },\n  button: {\n    float: 'right',\n  },\n  paper: {\n    [theme.breakpoints.down('xs')]: {\n      margin: '16px',\n    },\n  },\n  headline: {\n    marginBottom: '1.3em',\n    fontSize: '1.1rem',\n  },\n  listSection: {\n    margin: '2em 0 0.8em',\n    '&:first-child': {\n      margin: '1em 0 2em 0',\n    },\n  },\n}));\n\nexport default function DeviceSelectionDialog({ open, onClose }: { open: boolean; onClose: () => void }) {\n  const classes = useStyles();\n\n  return (\n    <Dialog open={open} onClose={onClose} classes={{ paper: classes.paper }}>\n      <DialogTitle>Audio and Video Settings</DialogTitle>\n      <Divider />\n      <DialogContent className={classes.container}>\n        <div className={classes.listSection}>\n          <Typography variant=\"h6\" className={classes.headline}>\n            Video\n          </Typography>\n          <VideoInputList />\n        </div>\n        <Divider />\n        <div className={classes.listSection}>\n          <Typography variant=\"h6\" className={classes.headline}>\n            Audio\n          </Typography>\n          <AudioInputList />\n        </div>\n        <div className={classes.listSection}>\n          <AudioOutputList />\n        </div>\n      </DialogContent>\n      <Divider />\n      <DialogActions>\n        <Button color=\"primary\" variant=\"contained\" className={classes.button} onClick={onClose}>\n          Done\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import React from 'react';\n\nexport default function SettingsIcon() {\n  return (\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M16.774 14.14L16.3413 13.2506C16.3286 13.2244 16.3173 13.1974 16.3075 13.17C16.1465 12.7274 16.3736 12.2377 16.8155 12.0749L17.7467 11.7347C18.5055 11.4566 19.0077 10.7311 19.0011 9.92278C18.9944 9.11441 18.4804 8.39788 17.7172 8.13314L16.7859 7.81039C16.758 7.80094 16.7306 7.7894 16.7056 7.77843C16.2794 7.57999 16.0942 7.07384 16.2915 6.64668L16.7082 5.74887C17.049 5.01563 16.8921 4.14738 16.3163 3.58049C15.7405 3.0136 14.8703 2.87065 14.1431 3.2235L13.246 3.65462C13.2199 3.66744 13.1931 3.67882 13.1658 3.68869C12.954 3.76821 12.7189 3.75812 12.5148 3.66073C12.3097 3.56606 12.1511 3.39306 12.0746 3.18044L12.0741 3.17844L11.7334 2.25081C11.4547 1.49408 10.7313 0.994061 9.92513 1.00105C9.119 1.00804 8.40369 1.52053 8.13727 2.28199L7.8091 3.22223C7.79964 3.25006 7.78863 3.27733 7.7761 3.30391C7.57656 3.73058 7.06934 3.91499 6.64288 3.71592L5.74485 3.29868C5.01263 2.96105 4.14713 3.11998 3.58195 3.69585C3.01677 4.27171 2.87367 5.14046 3.22434 5.86685L3.65571 6.76067C3.66851 6.78686 3.67999 6.81368 3.69009 6.84103C3.85069 7.28399 3.62314 7.77372 3.18105 7.9366L2.25109 8.27683C1.74395 8.46368 1.33939 8.85649 1.13749 9.3581C0.935598 9.8597 0.955223 10.4232 1.19151 10.9093C1.41059 11.3666 1.80499 11.7159 2.28525 11.878L3.21579 12.2005C3.24614 12.2114 3.27565 12.2233 3.30063 12.2343C3.72728 12.4329 3.91226 12.9399 3.7139 13.3671L3.29483 14.2675C3.07772 14.742 3.06371 15.2845 3.25603 15.7693C3.44835 16.2542 3.83032 16.6393 4.31342 16.8354C4.34216 16.847 4.3712 16.8578 4.40056 16.8679C4.87879 17.0366 5.40471 17.0069 5.86112 16.7853L6.75557 16.3531C6.78218 16.3402 6.81093 16.3286 6.8356 16.3194C7.04851 16.2445 7.282 16.2542 7.48788 16.3465C7.6933 16.4413 7.85223 16.6144 7.92922 16.8273L8.27064 17.7606C8.55155 18.5147 9.27456 19.0117 10.079 19.0036C10.8834 18.9955 11.5969 18.4841 11.8635 17.7245L12.1864 16.7928C12.1968 16.7627 12.2087 16.7332 12.2201 16.7083C12.4211 16.2836 12.9258 16.099 13.3529 16.2939L14.2494 16.7105C14.9825 17.0512 15.8508 16.8933 16.4177 16.3161C16.9845 15.7389 17.1272 14.8675 16.774 14.14ZM15.4272 15.7438C15.1965 15.8557 14.9279 15.8582 14.6953 15.7505L13.7992 15.334C13.3395 15.1185 12.8127 15.0956 12.3358 15.2705C11.8589 15.4453 11.4714 15.8035 11.2594 16.2653C11.2334 16.3231 11.21 16.381 11.1879 16.4434L10.8648 17.3755C10.7896 17.5889 10.6327 17.7637 10.4286 17.8613C10.2245 17.959 9.9901 17.9714 9.77695 17.8959C9.53792 17.8159 9.34868 17.6308 9.26323 17.3935L8.92318 16.4634C8.74891 15.9867 8.39229 15.5989 7.93192 15.3856C7.47155 15.1724 6.94522 15.1511 6.46891 15.3264C6.40896 15.349 6.35008 15.3734 6.29456 15.4005L5.4017 15.832C5.198 15.9306 4.96337 15.9438 4.75003 15.8685C4.53569 15.7956 4.36017 15.6387 4.26376 15.4338C4.15381 15.2059 4.15081 14.9409 4.25558 14.7105L4.6727 13.8138C4.88722 13.3534 4.9098 12.8267 4.73547 12.3499C4.56113 11.8731 4.20422 11.4855 3.74357 11.2726C3.71568 11.26 3.68725 11.2477 3.65813 11.2359C3.62824 11.2238 3.59766 11.2124 3.56562 11.2012L2.6307 10.8774C2.29028 10.7597 2.06067 10.4405 2.0571 10.0801C2.05353 9.71966 2.27677 9.39575 2.61479 9.2709L3.54421 8.93088C4.05237 8.74551 4.45826 8.35329 4.66113 7.8516C4.864 7.34991 4.8448 6.7858 4.60832 6.29933L4.17719 5.40605C4.0208 5.08228 4.08434 4.69501 4.33601 4.43805C4.58769 4.18109 4.97337 4.1097 5.30004 4.2596L6.19629 4.67569C6.65433 4.89215 7.1799 4.91661 7.65626 4.74364C8.13263 4.57067 8.52036 4.21458 8.73335 3.75445C8.7625 3.69314 8.78809 3.6302 8.80997 3.56594L9.13622 2.6316C9.29214 2.18707 9.77837 1.95273 10.2227 2.10793C10.4645 2.18868 10.6555 2.37645 10.7405 2.61689L11.0804 3.54291C11.2533 4.01887 11.6082 4.40647 12.067 4.62043C12.5257 4.83438 13.0507 4.85716 13.5265 4.68374C13.5885 4.66176 13.6492 4.63608 13.7082 4.60683L14.6033 4.17624C14.8065 4.07688 15.0408 4.06283 15.2542 4.13722C15.4693 4.20945 15.6456 4.36621 15.7425 4.57137C15.8549 4.80183 15.8573 5.07079 15.749 5.30333L15.3321 6.20153C15.1187 6.66179 15.0968 7.18798 15.2714 7.66415C15.446 8.14033 15.8026 8.52742 16.2627 8.74013C16.3185 8.76535 16.3747 8.78849 16.4369 8.81002L17.3702 9.13315C17.7106 9.2515 17.9398 9.57117 17.9428 9.93176C17.9458 10.2924 17.722 10.6161 17.3836 10.7405L16.4524 11.0806C15.4631 11.4445 14.9535 12.54 15.3125 13.5312C15.335 13.5933 15.3607 13.6541 15.3895 13.7135L15.8224 14.6035C15.9214 14.807 15.9353 15.0416 15.8612 15.2555C15.787 15.4694 15.6309 15.6451 15.4272 15.7438L15.4272 15.7438ZM11.3877 6.5684C9.49155 5.80233 7.33291 6.71966 6.5662 8.61733C5.79949 10.515 6.71505 12.6744 8.61116 13.4405C10.5073 14.2065 12.6659 13.2892 13.4326 11.3915C14.197 9.49389 13.2821 7.33617 11.3877 6.5684ZM9.00779 12.4587C7.65343 11.9115 6.99946 10.3691 7.54711 9.01364C8.09476 7.65816 9.63664 7.00292 10.991 7.55012C12.3454 8.09732 12.9993 9.63974 12.4517 10.9952C11.9028 12.3495 10.3621 13.0042 9.00779 12.4587Z\"\n        fill=\"#606B85\"\n      />\n    </svg>\n  );\n}\n","import React, { useState, useRef } from 'react';\nimport Button from '@material-ui/core/Button';\nimport MenuContainer from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MoreIcon from '@material-ui/icons/MoreVert';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles, Theme, useMediaQuery } from '@material-ui/core';\n\nimport AboutDialog from '../../../AboutDialog/AboutDialog';\nimport DeviceSelectionDialog from '../../../DeviceSelectionDialog/DeviceSelectionDialog';\nimport SettingsIcon from '../../../../icons/SettingsIcon';\n\nconst useStyles = makeStyles({\n  settingsButton: {\n    margin: '1.8em 0 0',\n  },\n});\n\nexport default function SettingsMenu({\n  mobileButtonClass,\n}: {\n  mobileButtonClass?: string;\n}) {\n  const classes = useStyles();\n  const { roomType } = { roomType: 'as' };\n  const isMobile = useMediaQuery((theme: Theme) =>\n    theme.breakpoints.down('sm')\n  );\n  const [menuOpen, setMenuOpen] = useState(false);\n  const [aboutOpen, setAboutOpen] = useState(false);\n  const [deviceSettingsOpen, setDeviceSettingsOpen] = useState(false);\n  const [, setConnectionSettingsOpen] = useState(false);\n\n  const anchorRef = useRef<HTMLButtonElement>(null);\n\n  return (\n    <>\n      {isMobile ? (\n        <Button\n          ref={anchorRef}\n          onClick={() => setMenuOpen(true)}\n          startIcon={<MoreIcon />}\n          className={mobileButtonClass}\n        >\n          More\n        </Button>\n      ) : (\n        <Button\n          ref={anchorRef}\n          onClick={() => setMenuOpen(true)}\n          startIcon={<SettingsIcon />}\n          className={classes.settingsButton}\n        >\n          Settings\n        </Button>\n      )}\n      <MenuContainer\n        open={menuOpen}\n        onClose={() => setMenuOpen((isOpen) => !isOpen)}\n        anchorEl={anchorRef.current}\n        getContentAnchorEl={null}\n        anchorOrigin={{\n          vertical: 'top',\n          horizontal: isMobile ? 'left' : 'right',\n        }}\n        transformOrigin={{\n          vertical: 0,\n          horizontal: 'center',\n        }}\n      >\n        <MenuItem onClick={() => setAboutOpen(true)}>\n          <Typography variant=\"body1\">About</Typography>\n        </MenuItem>\n        <MenuItem onClick={() => setDeviceSettingsOpen(true)}>\n          <Typography variant=\"body1\">Audio and Video Settings</Typography>\n        </MenuItem>\n        {roomType !== 'peer-to-peer' && roomType !== 'go' && (\n          <MenuItem onClick={() => setConnectionSettingsOpen(true)}>\n            <Typography variant=\"body1\">Connection Settings</Typography>\n          </MenuItem>\n        )}\n      </MenuContainer>\n      <AboutDialog\n        open={aboutOpen}\n        onClose={() => {\n          setAboutOpen(false);\n          setMenuOpen(false);\n        }}\n      />\n      <DeviceSelectionDialog\n        open={deviceSettingsOpen}\n        onClose={() => {\n          setDeviceSettingsOpen(false);\n          setMenuOpen(false);\n        }}\n      />\n    </>\n  );\n}\n","import React from 'react';\n\nexport default function MicIcon() {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"17\" viewBox=\"0 0 12 17\">\n      <path\n        fill=\"#707578\"\n        fillRule=\"evenodd\"\n        d=\"M11.389 6.667c.276 0 .5.224.5.5 0 3.114-2.396 5.67-5.445 5.923v2.632c0 .276-.223.5-.5.5-.245 0-.45-.177-.491-.41l-.009-.09V13.09C2.395 12.836 0 10.281 0 7.167c0-.276.224-.5.5-.5s.5.224.5.5c0 2.73 2.214 4.944 4.944 4.944 2.731 0 4.945-2.214 4.945-4.944 0-.276.224-.5.5-.5zM5.944 0C7.51 0 8.778 1.268 8.778 2.833v4.334C8.778 8.73 7.51 10 5.944 10 4.38 10 3.111 8.73 3.111 7.167V2.833C3.111 1.268 4.38 0 5.944 0zm0 1c-1.012 0-1.833.82-1.833 1.833v4.334C4.111 8.179 4.933 9 5.944 9c1.013 0 1.834-.82 1.834-1.833V2.833C7.778 1.82 6.958 1 5.944 1z\"\n      />\n    </svg>\n  );\n}\n","import React from 'react';\n\nexport default function MicOffIcon() {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"25\" height=\"24\" viewBox=\"0 0 25 24\">\n      <g fill=\"none\" fillRule=\"evenodd\">\n        <path\n          fill=\"#707578\"\n          d=\"M11.889 6.667c.276 0 .5.224.5.5 0 3.114-2.396 5.67-5.445 5.923v2.632c0 .276-.223.5-.5.5-.245 0-.45-.177-.491-.41l-.009-.09V13.09c-1.116-.093-2.145-.494-3-1.119l.717-.717c.793.54 1.751.857 2.783.857 2.731 0 4.945-2.214 4.945-4.944 0-.276.224-.5.5-.5zM1 6.667c.276 0 .5.224.5.5 0 .975.282 1.884.77 2.65l-.722.721C.888 9.58.5 8.418.5 7.167c0-.276.224-.5.5-.5zm8.277-1.031v1.53C9.278 8.732 8.01 10 6.445 10c-.446 0-.868-.103-1.243-.287l.776-.773c.149.039.306.06.467.06.963 0 1.751-.74 1.828-1.683l.006-.15v-.531l1-1zM6.444 0C8.01 0 9.278 1.268 9.278 2.833l-.002-.025-.999.999v-.974c0-.962-.74-1.75-1.682-1.827L6.445 1c-.962 0-1.751.74-1.828 1.683l-.006.15v4.334c0 .097.008.192.022.285l-.804.805c-.112-.269-.184-.558-.209-.86l-.009-.23V2.833C3.611 1.268 4.88 0 6.444 0z\"\n          transform=\"translate(6.5 4)\"\n        />\n        <path\n          fill=\"red\"\n          d=\"M12.146.646c.196-.195.512-.195.708 0 .173.174.192.443.057.638l-.057.07-12 12c-.196.195-.512.195-.708 0-.173-.174-.192-.443-.057-.638l.057-.07 12-12z\"\n          transform=\"translate(6.5 4)\"\n        />\n      </g>\n    </svg>\n  );\n}\n","import React from 'react';\n\nimport Button from '@material-ui/core/Button';\nimport MicIcon from '../../../icons/MicIcon';\nimport MicOffIcon from '../../../icons/MicOffIcon';\n\nimport useLocalAudioToggle from '../../../hooks/useLocalAudioToggle/useLocalAudioToggle';\nimport useVideoContext from '../../../hooks/useVideoContext/useVideoContext';\n\nexport default function ToggleAudioButton(props: { disabled?: boolean; className?: string }) {\n  const [isAudioEnabled, toggleAudioEnabled] = useLocalAudioToggle();\n  const { localTracks } = useVideoContext();\n  const hasAudioTrack = localTracks.some(track => track.kind === 'audio');\n\n  return (\n    <Button\n      className={props.className}\n      onClick={toggleAudioEnabled}\n      disabled={!hasAudioTrack || props.disabled}\n      startIcon={isAudioEnabled ? <MicIcon /> : <MicOffIcon />}\n      data-cy-audio-toggle\n    >\n      {!hasAudioTrack ? 'No Audio' : isAudioEnabled ? 'Mute' : 'Unmute'}\n    </Button>\n  );\n}\n","import { LocalAudioTrack } from 'twilio-video';\nimport { useCallback } from 'react';\nimport useIsTrackEnabled from '../useIsTrackEnabled/useIsTrackEnabled';\nimport useVideoContext from '../useVideoContext/useVideoContext';\n\nexport default function useLocalAudioToggle() {\n  const { localTracks } = useVideoContext();\n  const audioTrack = localTracks.find(track => track.kind === 'audio') as LocalAudioTrack;\n  const isEnabled = useIsTrackEnabled(audioTrack);\n\n  const toggleAudioEnabled = useCallback(() => {\n    if (audioTrack) {\n      audioTrack.isEnabled ? audioTrack.disable() : audioTrack.enable();\n    }\n  }, [audioTrack]);\n\n  return [isEnabled, toggleAudioEnabled] as const;\n}\n","import React from 'react';\n\nexport default function VideoOffIcon() {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <g fill=\"none\" fillRule=\"evenodd\">\n        <path\n          fill=\"#707578\"\n          d=\"M10.503.85c.32 0 .611.125.827.329l-.696.697c-.025-.018-.053-.032-.084-.038l-.047-.006H1.207c-.102 0-.19.071-.216.165l-.008.059v7.866c0 .101.07.189.165.215l.059.008h1.156l-.983.983h-.173c-.624 0-1.139-.476-1.2-1.083L0 9.922V2.056C0 1.433.476.917 1.084.856l.123-.007h9.296zm5.49 1.124l.007.082v7.866c0 .337-.328.566-.635.47l-.076-.03-3.58-1.79v1.35c0 .623-.476 1.138-1.083 1.2l-.123.006H4.16l.984-.983h5.359c.101 0 .189-.07.215-.164l.008-.06V4.564l.983-.982.353-.353 3.227-1.612c.301-.15.652.04.704.358zm-.977.876L11.71 4.504v2.967l3.307 1.654V2.85z\"\n          transform=\"translate(4 6)\"\n        />\n        <path\n          fill=\"red\"\n          fillRule=\"nonzero\"\n          d=\"M13.06.144c.192-.192.503-.192.695 0 .171.17.19.436.057.627l-.057.068-12.29 12.29c-.192.193-.503.193-.695 0-.171-.17-.19-.435-.057-.626l.057-.069L13.06.144z\"\n          transform=\"translate(4 6)\"\n        />\n      </g>\n    </svg>\n  );\n}\n","import React from 'react';\n\nexport default function VideoOnIcon() {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"25\" height=\"24\" viewBox=\"0 0 25 24\">\n      <path\n        fill=\"#707578\"\n        fillRule=\"evenodd\"\n        d=\"M15.003 7c.665 0 1.206.542 1.206 1.207v1.349l3.58-1.789c.301-.15.652.04.704.358l.007.082v7.866c0 .365-.385.603-.711.44l-3.58-1.79v1.35c0 .623-.476 1.138-1.083 1.2l-.123.006H5.707c-.665 0-1.207-.542-1.207-1.206V8.207C4.5 7.542 5.042 7 5.707 7zm0 .983H5.707c-.122 0-.224.102-.224.224v7.866c0 .121.102.223.224.223h9.296c.122 0 .223-.102.223-.223V8.207c0-.122-.101-.224-.223-.224zm4.513 1.019l-3.307 1.654v2.968l3.307 1.653V9.002z\"\n      />\n    </svg>\n  );\n}\n","import React, { useCallback, useRef } from 'react';\n\nimport Button from '@material-ui/core/Button';\nimport VideoOffIcon from '../../../icons/VideoOffIcon';\nimport VideoOnIcon from '../../../icons/VideoOnIcon';\n\nimport useDevices from '../../../hooks/useDevices/useDevices';\nimport useLocalVideoToggle from '../../../hooks/useLocalVideoToggle/useLocalVideoToggle';\n\nexport default function ToggleVideoButton(props: { disabled?: boolean; className?: string }) {\n  const [isVideoEnabled, toggleVideoEnabled] = useLocalVideoToggle();\n  const lastClickTimeRef = useRef(0);\n  const { hasVideoInputDevices } = useDevices();\n\n  const toggleVideo = useCallback(() => {\n    if (Date.now() - lastClickTimeRef.current > 500) {\n      lastClickTimeRef.current = Date.now();\n      toggleVideoEnabled();\n    }\n  }, [toggleVideoEnabled]);\n\n  return (\n    <Button\n      className={props.className}\n      onClick={toggleVideo}\n      disabled={!hasVideoInputDevices || props.disabled}\n      startIcon={isVideoEnabled ? <VideoOnIcon /> : <VideoOffIcon />}\n    >\n      {!hasVideoInputDevices ? 'No Video' : isVideoEnabled ? 'Stop Video' : 'Start Video'}\n    </Button>\n  );\n}\n","import React from 'react';\nimport {\n  makeStyles,\n  Typography,\n  Grid,\n  Button,\n  Theme,\n  Hidden,\n} from '@material-ui/core';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport LocalVideoPreview from './LocalVideoPreview/LocalVideoPreview';\nimport SettingsMenu from './SettingsMenu/SettingsMenu';\nimport { Steps } from '../PreJoinScreens';\nimport ToggleAudioButton from '../../Buttons/ToggleAudioButton/ToggleAudioButton';\nimport ToggleVideoButton from '../../Buttons/ToggleVideoButton/ToggleVideoButton';\nimport useVideoContext from '../../../hooks/useVideoContext/useVideoContext';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  gutterBottom: {\n    marginBottom: '1em',\n  },\n  marginTop: {\n    marginTop: '1em',\n  },\n  deviceButton: {\n    width: '100%',\n    border: '2px solid #aaa',\n    margin: '1em 0',\n  },\n  localPreviewContainer: {\n    paddingRight: '2em',\n    [theme.breakpoints.down('sm')]: {\n      padding: '0 2.5em',\n      // ConnectionOptionsDialog,\n    },\n  },\n  joinButtons: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    [theme.breakpoints.down('sm')]: {\n      flexDirection: 'column-reverse',\n      width: '100%',\n      '& button': {\n        margin: '0.5em 0',\n      },\n    },\n  },\n  mobileButtonBar: {\n    [theme.breakpoints.down('sm')]: {\n      display: 'flex',\n      justifyContent: 'space-between',\n      margin: '1.5em 0 1em',\n    },\n  },\n  mobileButton: {\n    padding: '0.8em 0',\n    margin: 0,\n  },\n}));\n\ninterface DeviceSelectionScreenProps {\n  name: string;\n  roomName: string;\n  setStep: (step: Steps) => void;\n  isFetching: boolean;\n  token: string;\n}\n\nexport default function DeviceSelectionScreen({\n  name,\n  roomName,\n  setStep,\n  token,\n  isFetching,\n}: DeviceSelectionScreenProps) {\n  const classes = useStyles();\n\n  const {\n    connect: videoConnect,\n    isAcquiringLocalTracks,\n    isConnecting,\n  } = useVideoContext();\n  const disableButtons = isFetching || isAcquiringLocalTracks || isConnecting;\n\n  const handleJoin = () => {\n    videoConnect(token);\n  };\n\n  if (isFetching || isConnecting) {\n    return (\n      <Grid\n        container\n        justify=\"center\"\n        alignItems=\"center\"\n        direction=\"column\"\n        style={{ height: '100%' }}\n      >\n        <div>\n          <CircularProgress variant=\"indeterminate\" />\n        </div>\n        <div>\n          <Typography\n            variant=\"body2\"\n            style={{ fontWeight: 'bold', fontSize: '16px' }}\n          >\n            Joining Meeting\n          </Typography>\n        </div>\n      </Grid>\n    );\n  }\n\n  return (\n    <>\n      <Typography variant=\"h5\" className={classes.gutterBottom}>\n        Join {roomName}\n      </Typography>\n\n      <Grid container justify=\"center\">\n        <Grid item md={7} sm={12} xs={12}>\n          <div className={classes.localPreviewContainer}>\n            <LocalVideoPreview identity={name} />\n          </div>\n          <div className={classes.mobileButtonBar}>\n            <Hidden mdUp>\n              <ToggleAudioButton\n                className={classes.mobileButton}\n                disabled={disableButtons}\n              />\n              <ToggleVideoButton\n                className={classes.mobileButton}\n                disabled={disableButtons}\n              />\n            </Hidden>\n            <SettingsMenu mobileButtonClass={classes.mobileButton} />\n          </div>\n        </Grid>\n        <Grid item md={5} sm={12} xs={12}>\n          <Grid\n            container\n            direction=\"column\"\n            justify=\"space-between\"\n            style={{ height: '100%' }}\n          >\n            <div>\n              <Hidden smDown>\n                <ToggleAudioButton\n                  className={classes.deviceButton}\n                  disabled={disableButtons}\n                />\n                <ToggleVideoButton\n                  className={classes.deviceButton}\n                  disabled={disableButtons}\n                />\n              </Hidden>\n            </div>\n            <div className={classes.joinButtons}>\n              <Button\n                variant=\"outlined\"\n                color=\"primary\"\n                onClick={() => setStep(Steps.roomNameStep)}\n              >\n                Cancel\n              </Button>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                data-cy-join-now\n                onClick={handleJoin}\n                disabled={disableButtons}\n              >\n                Join Now\n              </Button>\n            </div>\n          </Grid>\n        </Grid>\n      </Grid>\n    </>\n  );\n}\n","import React from 'react';\n\nexport default function ErrorIcon() {\n  return (\n    <svg width=\"14px\" height=\"14px\" viewBox=\"0 0 14 14\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n      <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n        <g transform=\"translate(-299.000000, -723.000000)\" fill=\"#D61F1F\">\n          <g transform=\"translate(276.000000, 704.000000)\">\n            <g transform=\"translate(23.000000, 19.000000)\">\n              <path\n                d=\"M8.03935839,0.763849674 L13.2361503,5.96064161 C13.8101721,6.5346634 13.8101721,7.4653366 13.2361503,8.03935839 L8.03935839,13.2361503 C7.4653366,13.8101721 6.5346634,13.8101721 5.96064161,13.2361503 L0.763849674,8.03935839 C0.189827887,7.4653366 0.189827887,6.5346634 0.763849674,5.96064161 L5.96064161,0.763849674 C6.5346634,0.189827887 7.4653366,0.189827887 8.03935839,0.763849674 Z M7,8.66666667 C6.53976271,8.66666667 6.16666667,9.03976271 6.16666667,9.5 C6.16666667,9.96023729 6.53976271,10.3333333 7,10.3333333 C7.46023729,10.3333333 7.83333333,9.96023729 7.83333333,9.5 C7.83333333,9.03976271 7.46023729,8.66666667 7,8.66666667 Z M7.00842529,4.5 L6.99145559,4.5 C6.48802096,4.5 6.09771771,4.99363437 6.17690967,5.53663218 L6.53327351,7.40140326 C6.56721292,7.64822044 6.76519283,7.83333333 6.99711216,7.83333333 L7.00276873,7.83333333 C7.23468805,7.83333333 7.43266796,7.64822044 7.46660737,7.40140326 L7.82297121,5.53663218 C7.90216317,4.99363437 7.51751649,4.50617043 7.00842529,4.5 Z\"\n                id=\"Error\"\n              ></path>\n            </g>\n          </g>\n        </g>\n      </g>\n    </svg>\n  );\n}\n","import React from 'react';\n\nexport default function WarningIcon() {\n  return (\n    <svg width=\"16px\" height=\"14px\" viewBox=\"0 0 16 14\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n      <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n        <g transform=\"translate(-273.000000, -162.000000)\" fill=\"#E46216\">\n          <g transform=\"translate(251.000000, 143.000000)\">\n            <g transform=\"translate(22.000000, 19.000000)\">\n              <path d=\"M6.68405227,0.743750848 C7.26590697,-0.247916949 8.73410873,-0.247916949 9.31596344,0.743750848 L9.31596344,0.743750848 L15.7980583,11.7915293 C16.3754418,12.775573 15.6458879,14 14.4821027,14 L14.4821027,14 L1.5178827,14 C0.354135396,14 -0.375441293,12.775573 0.201934693,11.7915293 L0.201934693,11.7915293 Z M8,10 C7.44771525,10 7,10.4477153 7,11 C7,11.5522847 7.44771525,12 8,12 C8.55228475,12 9,11.5522847 9,11 C9,10.4477153 8.55228475,10 8,10 Z M8.01011035,5 L7.98974671,5 L7.87816923,5.00681158 C7.32928042,5.07427655 6.92320065,5.63308608 7.01229161,6.24395862 L7.01229161,6.24395862 L7.43992821,8.48168391 L7.46058982,8.57746523 C7.53403676,8.82448556 7.74990819,9 8.00332247,9 L8.00332247,9 L8.09436762,8.9919759 C8.33199007,8.94972242 8.5237268,8.74495557 8.55992884,8.48168391 L8.55992884,8.48168391 L8.98756545,6.24395862 L8.99896034,6.12268979 C9.02431547,5.52149772 8.58283795,5.00694173 8.01011035,5 L8.01011035,5 Z\"></path>\n            </g>\n          </g>\n        </g>\n      </g>\n    </svg>\n  );\n}\n","import React from 'react';\n\nexport default function InfoIcon() {\n  return (\n    <svg width=\"20px\" height=\"20px\" viewBox=\"0 0 20 20\">\n      <path\n        fill=\"#0263e0\"\n        fillRule=\"evenodd\"\n        d=\"M10 2a8 8 0 110 16 8 8 0 010-16zm0 7c-.26.01-.528.08-.707.24-.178.158-.292.355-.292.575v3.37c0 .21.11.428.292.577.173.14.457.247.707.237.26-.008.528-.078.707-.237.178-.16.292-.355.292-.577v-3.37a.766.766 0 00-.292-.575A1.14 1.14 0 0010 9zm0-3l-.266.036c-.17.047-.318.131-.441.253l-.156.198A.958.958 0 009 6.98v.04a.728.728 0 00.086.378c.04.121.108.227.206.315.09.094.197.163.321.202.12.06.248.09.386.084l.266-.035c.17-.047.318-.131.441-.253l.156-.198A.958.958 0 0011 7.02v-.04a.728.728 0 00-.086-.378.721.721 0 00-.206-.315.757.757 0 00-.321-.202.767.767 0 00-.386-.084z\"\n      ></path>\n    </svg>\n  );\n}\n","import React from 'react';\nimport clsx from 'clsx';\nimport CloseIcon from '@material-ui/icons/Close';\nimport ErrorIcon from '../../icons/ErrorIcon';\nimport { IconButton, makeStyles, Theme, Typography } from '@material-ui/core';\nimport MUISnackbar from '@material-ui/core/Snackbar';\nimport WarningIcon from '../../icons/WarningIcon';\nimport InfoIcon from '../../icons/InfoIcon';\n\ninterface SnackbarProps {\n  headline: string;\n  message: string | React.ReactNode;\n  variant?: 'error' | 'warning' | 'info';\n  open: boolean;\n  handleClose?: () => void;\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  container: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    width: '400px',\n    minHeight: '50px',\n    background: 'white',\n    padding: '1em',\n    borderRadius: '3px',\n    boxShadow: '0 12px 24px 4px rgba(40,42,43,0.2)',\n    [theme.breakpoints.down('sm')]: {\n      width: '100%',\n    },\n  },\n  contentContainer: {\n    display: 'flex',\n    lineHeight: 1.8,\n  },\n  iconContainer: {\n    display: 'flex',\n    padding: '0 1.3em 0 0.3em',\n    transform: 'translateY(3px)',\n  },\n  headline: {\n    fontWeight: 'bold',\n  },\n  error: {\n    borderLeft: '4px solid #D61F1F',\n  },\n  warning: {\n    borderLeft: '4px solid #E46216',\n  },\n  info: {\n    borderLeft: '4px solid #0263e0',\n  },\n}));\n\nexport default function Snackbar({ headline, message, variant, open, handleClose }: SnackbarProps) {\n  const classes = useStyles();\n\n  const handleOnClose = (_: React.SyntheticEvent | React.MouseEvent, reason?: string) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    handleClose?.();\n  };\n\n  return (\n    <MUISnackbar\n      anchorOrigin={{\n        vertical: 'top',\n        horizontal: 'right',\n      }}\n      open={open}\n      onClose={handleOnClose}\n      autoHideDuration={10000}\n    >\n      <div\n        className={clsx(classes.container, {\n          [classes.error]: variant === 'error',\n          [classes.warning]: variant === 'warning',\n          [classes.info]: variant === 'info',\n        })}\n      >\n        <div className={classes.contentContainer}>\n          <div className={classes.iconContainer}>\n            {variant === 'warning' && <WarningIcon />}\n            {variant === 'error' && <ErrorIcon />}\n            {variant === 'info' && <InfoIcon />}\n          </div>\n          <div>\n            <Typography variant=\"body1\" className={classes.headline} component=\"span\">\n              {headline}\n            </Typography>\n            <Typography variant=\"body1\" component=\"span\">\n              {' '}\n              {message}\n            </Typography>\n          </div>\n        </div>\n        <div>\n          {handleClose && (\n            <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleClose}>\n              <CloseIcon fontSize=\"small\" />\n            </IconButton>\n          )}\n        </div>\n      </div>\n    </MUISnackbar>\n  );\n}\n","import React, { useState } from 'react';\nimport Snackbar from '../../Snackbar/Snackbar';\nimport useDevices from '../../../hooks/useDevices/useDevices';\nimport useVideoContext from '../../../hooks/useVideoContext/useVideoContext';\n\nexport function getSnackbarContent(hasAudio: boolean, hasVideo: boolean, error?: Error) {\n  let headline = '';\n  let message = '';\n\n  switch (true) {\n    // These custom errors are thrown by the useLocalTracks hook. They are thrown when the user explicitly denies\n    // permission to only their camera, or only their microphone.\n    case error?.message === 'CameraPermissionsDenied':\n      headline = 'Unable to Access Media:';\n      message =\n        'The user has denied permission to use video. Please grant permission to the browser to access the camera.';\n      break;\n    case error?.message === 'MicrophonePermissionsDenied':\n      headline = 'Unable to Access Media:';\n      message =\n        'The user has denied permission to use audio. Please grant permission to the browser to access the microphone.';\n      break;\n\n    // This error is emitted when the user or the user's system has denied permission to use the media devices\n    case error?.name === 'NotAllowedError':\n      headline = 'Unable to Access Media:';\n\n      if (error!.message === 'Permission denied by system') {\n        // Chrome only\n        message =\n          'The operating system has blocked the browser from accessing the microphone or camera. Please check your operating system settings.';\n      } else {\n        message =\n          'The user has denied permission to use audio and video. Please grant permission to the browser to access the microphone and camera.';\n      }\n\n      break;\n\n    // This error is emitted when input devices are not connected or disabled in the OS settings\n    case error?.name === 'NotFoundError':\n      headline = 'Cannot Find Microphone or Camera:';\n      message =\n        'The browser cannot access the microphone or camera. Please make sure all input devices are connected and enabled.';\n      break;\n\n    // Other getUserMedia errors are less likely to happen in this app. Here we will display\n    // the system's error message directly to the user.\n    case Boolean(error):\n      headline = 'Error Acquiring Media:';\n      message = `${error!.name} ${error!.message}`;\n      break;\n\n    case !hasAudio && !hasVideo:\n      headline = 'No Camera or Microphone Detected:';\n      message = 'Other participants in the room will be unable to see and hear you.';\n      break;\n\n    case !hasVideo:\n      headline = 'No Camera Detected:';\n      message = 'Other participants in the room will be unable to see you.';\n      break;\n\n    case !hasAudio:\n      headline = 'No Microphone Detected:';\n      message = 'Other participants in the room will be unable to hear you.';\n  }\n\n  return {\n    headline,\n    message,\n  };\n}\n\nexport default function MediaErrorSnackbar({ error }: { error?: Error }) {\n  const { hasAudioInputDevices, hasVideoInputDevices } = useDevices();\n\n  const { isAcquiringLocalTracks } = useVideoContext();\n\n  const [isSnackbarDismissed, setIsSnackbarDismissed] = useState(false);\n\n  const isSnackbarOpen =\n    !isSnackbarDismissed &&\n    !isAcquiringLocalTracks &&\n    (Boolean(error) || !hasAudioInputDevices || !hasVideoInputDevices);\n\n  const { headline, message } = getSnackbarContent(hasAudioInputDevices, hasVideoInputDevices, error);\n\n  return (\n    <Snackbar\n      open={isSnackbarOpen}\n      handleClose={() => setIsSnackbarDismissed(true)}\n      headline={headline}\n      message={message}\n      variant=\"warning\"\n    />\n  );\n}\n","import React, { useState, useEffect, FormEvent } from 'react';\nimport DeviceSelectionScreen from './DeviceSelectionScreen/DeviceSelectionScreen';\nimport MediaErrorSnackbar from './MediaErrorSnackbar/MediaErrorSnackbar';\nimport RoomNameScreen from './RoomNameScreen/RoomNameScreen';\nimport useVideoContext from '../../hooks/useVideoContext/useVideoContext';\nimport { useMeQuery } from 'src/hooks/useMeQuery';\n\nexport enum Steps {\n  roomNameStep,\n  deviceSelectionStep,\n}\n\nexport default function PreJoinScreens({\n  isFetching,\n  token,\n}: {\n  isFetching: boolean;\n  token: string;\n}) {\n  const { getAudioAndVideoTracks } = useVideoContext();\n  const { URLRoomName } = { URLRoomName: 'room-gdeda' };\n  const [step, setStep] = useState(Steps.roomNameStep);\n\n  const { data: me } = useMeQuery();\n  const [name, setName] = useState<string>(me?.username || '');\n  const [roomName, setRoomName] = useState<string>('');\n\n  const [mediaError, setMediaError] = useState<Error>();\n\n  useEffect(() => {\n    if (URLRoomName) {\n      setRoomName(URLRoomName);\n      if (me?.username) {\n        setStep(Steps.deviceSelectionStep);\n      }\n    }\n  }, [URLRoomName, me?.username]);\n\n  useEffect(() => {\n    if (step === Steps.deviceSelectionStep && !mediaError) {\n      getAudioAndVideoTracks().catch((error) => {\n        console.log('Error acquiring local media:');\n        console.dir(error);\n        setMediaError(error);\n      });\n    }\n  }, [getAudioAndVideoTracks, step, mediaError]);\n\n  const handleSubmit = (event: FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    // If this app is deployed as a twilio function, don't change the URL because routing isn't supported.\n    if (!window.location.origin.includes('twil.io')) {\n      window.history.replaceState(\n        null,\n        '',\n        window.encodeURI(`/room/${roomName}${window.location.search || ''}`)\n      );\n    }\n    setStep(Steps.deviceSelectionStep);\n  };\n\n  return (\n    <>\n      <MediaErrorSnackbar error={mediaError} />\n      {step === Steps.roomNameStep && (\n        <RoomNameScreen\n          name={name}\n          roomName={roomName}\n          setName={setName}\n          setRoomName={setRoomName}\n          handleSubmit={handleSubmit}\n        />\n      )}\n\n      {step === Steps.deviceSelectionStep && (\n        <DeviceSelectionScreen\n          isFetching={isFetching}\n          token={token}\n          name={name}\n          roomName={roomName}\n          setStep={setStep}\n        />\n      )}\n    </>\n  );\n}\n","import React, { ChangeEvent, FormEvent } from 'react';\nimport {\n  Typography,\n  makeStyles,\n  TextField,\n  Grid,\n  Button,\n  InputLabel,\n  Theme,\n} from '@material-ui/core';\nimport { useMeQuery } from 'src/hooks/useMeQuery';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  gutterBottom: {\n    marginBottom: '1em',\n  },\n  inputContainer: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    margin: '1.5em 0 3.5em',\n    '& div:not(:last-child)': {\n      marginRight: '1em',\n    },\n    [theme.breakpoints.down('sm')]: {\n      margin: '1.5em 0 2em',\n    },\n  },\n  textFieldContainer: {\n    width: '100%',\n  },\n  continueButton: {\n    [theme.breakpoints.down('sm')]: {\n      width: '100%',\n    },\n  },\n}));\n\ninterface RoomNameScreenProps {\n  name: string;\n  roomName: string;\n  setName: (name: string) => void;\n  setRoomName: (roomName: string) => void;\n  handleSubmit: (event: FormEvent<HTMLFormElement>) => void;\n}\n\nexport default function RoomNameScreen({\n  name,\n  roomName,\n  setName,\n  setRoomName,\n  handleSubmit,\n}: RoomNameScreenProps) {\n  const classes = useStyles();\n\n  const handleNameChange = (event: ChangeEvent<HTMLInputElement>) => {\n    setName(event.target.value);\n  };\n\n  const handleRoomNameChange = (event: ChangeEvent<HTMLInputElement>) => {\n    setRoomName(event.target.value);\n  };\n\n  const hasUsername = !!useMeQuery().data;\n\n  return (\n    <>\n      <Typography variant=\"h5\" className={classes.gutterBottom}>\n        Join a Room\n      </Typography>\n      <Typography variant=\"body1\">\n        {hasUsername\n          ? \"Enter the name of a room you'd like to join.\"\n          : \"Enter your name and the name of a room you'd like to join\"}\n      </Typography>\n      <form onSubmit={handleSubmit}>\n        <div className={classes.inputContainer}>\n          {!hasUsername && (\n            <div className={classes.textFieldContainer}>\n              <InputLabel shrink htmlFor=\"input-user-name\">\n                Your Name\n              </InputLabel>\n              <TextField\n                id=\"input-user-name\"\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                value={name}\n                onChange={handleNameChange}\n              />\n            </div>\n          )}\n          <div className={classes.textFieldContainer}>\n            <InputLabel shrink htmlFor=\"input-room-name\">\n              Room Name\n            </InputLabel>\n            <TextField\n              autoCapitalize=\"false\"\n              id=\"input-room-name\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              value={roomName}\n              onChange={handleRoomNameChange}\n            />\n          </div>\n        </div>\n        <Grid container justify=\"flex-end\">\n          <Button\n            variant=\"contained\"\n            type=\"submit\"\n            color=\"primary\"\n            disabled={!name || !roomName}\n            className={classes.continueButton}\n          >\n            Continue\n          </Button>\n        </Grid>\n      </form>\n    </>\n  );\n}\n","import { useRef, useEffect, useState } from 'react';\nimport * as faceapi from '@vladmandic/face-api';\nimport { useDebounce } from 'use-debounce/lib';\nimport io from 'socket.io-client';\nimport { useParams } from 'react-router-dom';\nimport { useMeQuery } from 'src/hooks/useMeQuery';\n\nexport const socket = io('http://134.209.132.84:4004/');\n\nfaceapi.nets.ssdMobilenetv1.loadFromUri('/model');\nfaceapi.nets.faceExpressionNet.loadFromUri('/model');\nexport function EmotionDetector() {\n  const { id: meetingId } = useParams<{ id: string }>();\n  const [emotion, setEmotion] = useState('');\n  const debouncedEmotion = useDebounce(emotion, 250)[0];\n  const me = useMeQuery().data!;\n  const videoEl = useRef<HTMLVideoElement | null>(null);\n  let requestRef = useRef<number>();\n\n  useEffect(() => {\n    if (!videoEl) {\n      return;\n    }\n\n    socket.emit('join', { meeting: meetingId, username: me.username } as {\n      meeting: string;\n      username: string;\n    });\n\n    let video = videoEl.current;\n\n    navigator.mediaDevices.getUserMedia({ video: true }).then((stream) => {\n      // @ts-ignore: Object is possibly 'null'.\n      video.srcObject = stream;\n      // @ts-ignore: Object is possibly 'null'.\n      video.play();\n    });\n\n    video!.addEventListener('playing', detectEmotions);\n\n    function detectEmotions() {\n      async function step() {\n        const results = await faceapi\n          .detectSingleFace(videoEl.current)\n          .withFaceExpressions();\n\n        if (results?.expressions) {\n          var highestVal = Math.max.apply(\n              null,\n              Object.values(results?.expressions)\n            ),\n            highestEmotion = Object.keys(results?.expressions).find(function (\n              a\n            ) {\n              return results?.expressions[a] === highestVal;\n            });\n        }\n        if (highestEmotion) {\n          setEmotion(highestEmotion);\n        } else {\n          setEmotion('out');\n        }\n\n        requestRef.current = requestAnimationFrame(step);\n      }\n\n      requestRef.current = requestAnimationFrame(step);\n    }\n    return () => {\n      video!.removeEventListener('playing', detectEmotions);\n    };\n  }, [me.username, meetingId, videoEl]);\n\n  useEffect(() => {\n    !!debouncedEmotion &&\n      socket.emit('emotion update', {\n        msg: debouncedEmotion,\n        meeting: meetingId,\n        username: me.username,\n      } as { msg: string; meeting: string; username: string });\n    console.log(debouncedEmotion);\n  }, [debouncedEmotion, me.username, meetingId]);\n\n  return (\n    <video\n      ref={videoEl}\n      style={{\n        visibility: 'hidden',\n        position: 'absolute',\n      }}\n    />\n  );\n}\n","import { useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Emotions } from 'src/pages/meeting/Meeting';\nimport { socket } from './EmotionDetector';\n\ntype Props = {\n  setEmotions: (emotions: Record<Emotions, number>) => void;\n};\nexport function EmotionReceiver({ setEmotions }: Props) {\n  const { id: meetingId } = useParams<{ id: string }>();\n  useEffect(() => {\n    socket.emit('join', { meeting: `${meetingId}` });\n    socket.on('emotion update', (msge) => {\n      const msg = JSON.parse(msge);\n      console.log('AAAAH', msge);\n      setEmotions({\n        Angry: msg.angry,\n        Sad: msg.sad,\n        Disgusted: msg.disgusted,\n        Fearful: msg.fearful,\n        Happy: msg.happy,\n        Neutral: msg.neutral,\n        Out: msg.out,\n        Surprised: msg.surprised,\n      });\n    });\n  }, [meetingId, setEmotions]);\n  return null;\n}\n","import { useToast } from '@chakra-ui/react';\nimport { useParams } from 'react-router-dom';\nimport { useMeeting, UseMeetingReturn } from './useMeeting';\nimport Room from 'src/twilio-components/Room/Room';\nimport { VideoProvider } from 'src/twilio-components/VideoProvider';\nimport useConnectionOptions from 'src/utils/useConnectionOptions/useConnectionOptions';\nimport useVideoContext from 'src/hooks/useVideoContext/useVideoContext';\nimport { MuiThemeProvider, styled } from '@material-ui/core/styles';\nimport theme from 'src/theme';\nimport PreJoinScreens from 'src/twilio-components/PreJoinScreens/PreJoinScreens';\nimport { EmotionDetector } from 'src/components/EmotionDetector';\nimport { useMeQuery } from 'src/hooks/useMeQuery';\nimport { EmotionReceiver } from 'src/components/EmotionReceiver';\nimport { useState } from 'react';\nimport { Chart } from './Chart';\nexport enum Emotions {\n  HAPPY = 'Happy',\n  NEUTRAL = 'Neutral',\n  SAD = 'Sad',\n  SURPRISED = 'Surprised',\n  DISGUSTED = 'Disgusted',\n  FEARFUL = 'Fearful',\n  OUT = 'Out',\n  ANGRY = 'Angry',\n}\nconst initialState = {\n  Angry: 0,\n  Disgusted: 0,\n  Fearful: 0,\n  Happy: 0,\n  Neutral: 0,\n  Out: 0,\n  Sad: 0,\n  Surprised: 0,\n} as Record<Emotions, number>;\n\nexport const Meeting = () => {\n  const connectionOptions = useConnectionOptions();\n  const { id } = useParams<{ id: string }>();\n  const toast = useToast();\n  const meetingConfig = useMeeting({ id });\n\n  return (\n    <MuiThemeProvider theme={theme}>\n      <VideoProvider\n        options={connectionOptions}\n        onError={(error) =>\n          toast({ description: error.message, status: 'error' })\n        }\n      >\n        <HarlemRiver\n          meetingConfig={meetingConfig}\n          isLoading={meetingConfig.isLoading}\n        />\n      </VideoProvider>\n    </MuiThemeProvider>\n  );\n};\n\n// xoxox\nfunction HarlemRiver({\n  meetingConfig,\n  isLoading,\n}: {\n  meetingConfig: UseMeetingReturn;\n  isLoading: boolean;\n}) {\n  const { room } = useVideoContext();\n  const me = useMeQuery().data;\n  const [emotions, setEmotions] = useState(initialState);\n\n  console.log(emotions);\n\n  return (\n    <>\n      <Container style={{ height: '100vh' }}>\n        {room?.state === 'disconnected' || !room ? (\n          <PreJoinScreens isFetching={isLoading} token={meetingConfig.token!} />\n        ) : (\n          <Room />\n        )}\n        {me?.role === 'student' && <EmotionDetector />}\n        {me?.role === 'instructor' && (\n          <>\n            <EmotionReceiver setEmotions={setEmotions} />\n            {room?.state === 'connected' && <Chart emotions={emotions} />}\n          </>\n        )}\n      </Container>\n    </>\n  );\n}\n\nconst Container = styled('div')({\n  display: 'grid',\n  gridTemplateRows: '1fr auto',\n});\n","// Created by Ziyad, Hager Jul 17 5:12 AM\nimport { Box } from '@chakra-ui/react';\nimport { CChartDoughnut } from '@coreui/react-chartjs';\nimport { Emotions } from './Meeting';\n// import { RiEmotionLine } from 'react-icons/ri';\n// import { useState } from 'react';\ntype Props = {\n  emotions: Record<Emotions, number>;\n};\nexport function Chart({ emotions }: Props) {\n  // const [open, setOpen] = useState(false);\n  return (\n    <Box position=\"absolute\" bottom={50} zIndex={10} left={30}>\n      {/* {!open ? (\n        <IconButton\n          aria-label=\"\"\n          size=\"lg\"\n          icon={<RiEmotionLine />}\n          onClick={() => setOpen(true)}\n        />\n      ) : ( */}\n      <CChartDoughnut\n        style={{ width: 350 }}\n        labels={[\n          Emotions.HAPPY,\n          Emotions.NEUTRAL,\n          Emotions.OUT,\n          Emotions.SAD,\n          Emotions.SURPRISED,\n          Emotions.DISGUSTED,\n          Emotions.FEARFUL,\n          Emotions.ANGRY,\n        ]}\n        datasets={[\n          {\n            data: [\n              emotions.Happy,\n              emotions.Neutral,\n              emotions.Out,\n              emotions.Sad,\n              emotions.Surprised,\n              emotions.Disgusted,\n              emotions.Fearful,\n              emotions.Angry,\n            ],\n            backgroundColor: [\n              'rgba(255, 99, 132, 0.6)',\n              'rgba(255, 159, 64, 0.6)',\n              'rgba(255, 205, 86, 0.6)',\n              'rgba(75, 192, 192, 0.6)',\n              'rgba(54, 162, 235, 0.6)',\n              'rgba(153, 102, 255, 0.6)',\n              'rgba(201, 203, 207, 0.6)',\n              'rgba(631, 192, 192, 0.6)',\n            ],\n            borderColor: [\n              'rgb(255, 99, 132)',\n              'rgb(255, 159, 64)',\n              'rgb(255, 205, 86)',\n              'rgb(75, 192, 192)',\n              'rgb(54, 162, 235)',\n              'rgb(153, 102, 255)',\n              'rgb(201, 203, 207)',\n              'rgba(631, 192, 192)',\n            ],\n          },\n        ]}\n      />\n      {/* )} */}\n    </Box>\n  );\n}\n","import FullSignUpForm from 'src/pages/signUp/components/FullSignUpForm';\nimport FullSignInForm from 'src/pages/signIn/components/FullSignInForm';\nimport { Landing } from 'src/pages/landing/Landing';\nimport ScrollToTop from 'src/components/ScrollToTop';\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from 'react-router-dom';\nimport { DashboardHomepage } from './pages/dashboard/DashboardHomepage';\nimport { setMeQueryData, useMeQuery } from './hooks/useMeQuery';\nimport * as cache from './util/cache';\nimport { useEffect } from 'react';\nimport { useState } from 'react';\nimport { InMemoryToken } from './axios';\nimport { Meeting } from './pages/meeting/Meeting';\n\nasync function bootstrap() {\n  const me = cache.getMe();\n  return me;\n}\nconst bootstrapPromise = bootstrap();\nexport const MainRouter = () => {\n  const meQuery = useMeQuery();\n  const [initialAppStatus, setInitialAppStatus] = useState<\n    'authenticated' | 'unauthenticated' | 'loading'\n  >('loading');\n\n  useEffect(() => {\n    bootstrapPromise.then((me) => {\n      setMeQueryData(me ?? undefined);\n      InMemoryToken.set(me?.token);\n      if (!me) setInitialAppStatus('unauthenticated');\n    });\n  }, []);\n  useEffect(() => {\n    if (meQuery.data) {\n      setInitialAppStatus('authenticated');\n    }\n  }, [meQuery.data]);\n  // console.log(meQuery.data, initialAppStatus);\n  if (initialAppStatus === 'loading') return <div>loading</div>;\n  if (initialAppStatus === 'unauthenticated')\n    return (\n      <Router>\n        <ScrollToTop />\n        <Switch>\n          <Route exact path=\"/\">\n            <Landing />\n          </Route>\n          <Route exact path=\"/login\">\n            <FullSignInForm />\n          </Route>\n          <Route exact path=\"/signup\">\n            <FullSignUpForm />\n          </Route>\n          <Route>\n            <Redirect to=\"/\" />\n          </Route>\n        </Switch>\n      </Router>\n    );\n  return (\n    <Router>\n      <ScrollToTop />\n      <Switch>\n        <Route path=\"/dashboard\">\n          <DashboardHomepage />\n        </Route>\n        <Route exact path=\"/meeting/:id\">\n          <Meeting />\n        </Route>\n        <Route>\n          <Redirect to=\"/dashboard\" />\n        </Route>\n      </Switch>\n    </Router>\n  );\n};\n","import { ChakraProvider } from '@chakra-ui/react';\nimport { QueryClient, QueryClientProvider } from 'react-query';\nimport { MainRouter } from './Router';\n\nexport const queryClient = new QueryClient();\nfunction App() {\n  return (\n    <ChakraProvider>\n      <QueryClientProvider client={queryClient}>\n        <MainRouter />\n      </QueryClientProvider>\n    </ChakraProvider>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n// import '@coreui/dist/css/coreui.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}